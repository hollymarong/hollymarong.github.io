<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>marong blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="技术学习总结">
<meta property="og:type" content="website">
<meta property="og:title" content="marong blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="marong blog">
<meta property="og:description" content="技术学习总结">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="marong blog">
<meta name="twitter:description" content="技术学习总结">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">marong blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Less is more</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
  <a href="https://github.com/hollymarong"><img style="position: absolute; top: 0; right: 0; border: 0;z-index:2;" src="https://camo.githubusercontent.com/52760788cde945287fbb584134c4cbc2bc36f904/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"></a>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-html-element" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/03/html-element/" class="article-date">
  <time datetime="2017-06-03T04:16:40.000Z" itemprop="datePublished">2017-06-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/03/html-element/">HTML5 Element类别和内容模型</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>DOM中元素继承HTMLElement<br>自定义的元素继承HTMLUnknowElement<br>元素定义包含：</p>
<ul>
<li>类别(categories)<br>HTML中元素被分成不同的种类，有metadata content,flow content,sectioning content,headingcontent,phrasing content,embedded content,interactive content<br>metadata content:<br>元数据内容是设置描述或其他内容的行为，或设置文档和其他文档的关系，或传递信息。<br><base>,<link>,<meta>,<noscript>,<script>,<style>,<template>,<title><br>flow content:<br>大多数元素都属于flow content<br>sectioning content:<br>分节内容是定义headings和footers范围<br>article,aside,nav,section<br>heading content:<br>h1,h2,h3,h4,h5,h6<br>phrasing content:<br>定义文档的文本<br>phrasing content只能包含phrasing content分类的内容，不能是其他的flow content类型<br><a>,<area>,<audio>,<b>,<br>,<button>,<canvas>,<code>,<data>,<datalist>,<del>,<em>,<embed>,<i>,<iframe>,<img>,<input>,<ins>,<label>,<map>,<noscript>,<object>,<output>,<picture>,<progress>,<q>,<s>,<script>,<select>,<small>,<span>,<strong>,<sub>,<sup>,<svg>,<template>,<textarea>,<video><br>embedded content:<br>引入其他资源到文档中<br><audio>,<canvas>,<embed>,<iframe>,<img>,<math>,<object>,<picture>,<svg>,<video><br>interactive content:<br>特地用来用户交互的内容<br><a>,<audio>,<button>,<embed>,<iframe>,<img>,<input>,<label>,<textarea>,<video><br>palpable content<br>它的内容模型允许有至少一个flow content或phrasing content，它的内容都是显而易见的，没有隐藏的属性。<br>这并不是一个硬性的要求，在一些情况下内容可以为空，比如作为占位符出现随后脚本填充，或者是作为模板的一般分，在大多数页面中是有内容的，但在一些也页面中没有。<br><a>,<address>,<article>,<audio>,<b>,<blockquote>,<button>,<canvas>,<code>,<data>,<detail>,<div>,<dl>,<em>,<embed>,<fieldset>,<figure>,<footer>,<form>,<h1>,<h2>,<h3>,<h4>,<h5>,<h6>,<header>,<i>,<iframe>,<img>,<input>,<ins>,<label>,<main>,<nav>,<ol>,<p>,<q><s>,<section>,<select>,<small>,<span>,<strong>,<sub>,<svg>,<table>,<textarea>,<ul>,<video><br>script-supporting elements<br>不呈现内容，用来加载脚本，或为用户提供功能<br><script>,<template></li>
<li>内容模型(content-model):<br>所期望的内容类型，所能包含的子元素或后代元素的内容类型<br>有一些content-model为空的元素，可以省略end tag，如：<link>,<img>,<input>,<base>,<hr>,<meta>,<source><br>transparent<br><a>,<ins>,<map>,<param>,<object><br>一些元素的内容模型是transparent，transparent元素的内容模型取决它的父元素。<br>当一个transparent的元素没有父元素，它可以接受任意flow content元素<br><a><div></div></a><br>上面这种嵌套是合法的，a的content-model为transparent,div的categories为flow content，所以合法<br><p><a><div></div></a></p><br>上面这种嵌套是不合法的，<br>p元素的content-model是phrasing contet，a元素类别是phrasing content, 所以p内嵌套a<br>a元素的content-model是transparent，对于div的是否能嵌套需要看父元素p是否能嵌套div，p元素只能嵌套Phrasing content的元素，显然不能嵌套div.<br>它的content-model是transparent<br>元素查看地址：<a href="https://html.spec.whatwg.org/#the-a-element">https://html.spec.whatwg.org/#the-a-element</a><br>| element | categories                                                         | content model    |<br>| —     | —                                                                | —              |<br>| p       | Flow content Palpable content                                      | Phrasing content |<br>| a       | Flow content Phrasing content interactive content Palpable content | transparent      |<br>| div     | Flow content Palpable content                                      | flow content     |</li>
</ul>
</script></noscript></li></ul>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/06/03/html-element/" data-id="cj3gznrwd0009x9fyt9dg111m" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML/">HTML</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-vuestart" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/27/vuestart/" class="article-date">
  <time datetime="2017-05-27T01:56:26.000Z" itemprop="datePublished">2017-05-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/27/vuestart/">Vue2.0入门使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>初始化项目<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"># 全局安装 vue-cli</div><div class="line">$ npm install --global vue-cli</div><div class="line"># 创建一个基于 webpack 模板的新项目</div><div class="line">$ vue init webpack my-project</div><div class="line"># 安装依赖，走你</div><div class="line">$ cd my-project</div><div class="line">$ npm install</div><div class="line">$ npm run dev</div><div class="line">npm install --save vuex</div><div class="line">npm install --save sass-loader node-sass autoprefixer</div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/05/27/vuestart/" data-id="cj3gznrww000xx9fy5i2d7mtu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MVVM-Vue/">MVVM Vue</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-jsEqualOperator" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/22/jsEqualOperator/" class="article-date">
  <time datetime="2017-05-22T02:26:34.000Z" itemprop="datePublished">2017-05-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/22/jsEqualOperator/">Javascript相等操作符</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>相等操作符分为两种，一种是相等(==)和不相等(!=)，另一种是全等(===)和不全等(!==)。<br>相等和不相等操作符进行比较的时候，如果数据类型不相同，会强制类型转换，再进行比较<br>全等和不全等操作符进行比较的时候，不会进行类型转换，直接比较</p>
<p>不同数据类型转换规则</p>
<ul>
<li>布尔值转换为0或1</li>
<li>字符串和数字比较，字符串会转化为数字</li>
<li>对象和其他类型比较，对象会调用valueOf或toString方法，得到的基本类型值，按照之前转化规则进行转化后，比较</li>
<li>null和undefined是相等的, null和undefined不会转化为其他类型值</li>
<li>NaN 不等于NaN</li>
<li>如果两个对象比较，如果两个对象指向同一个对象，则相等，否则，不相等</li>
</ul>
<table>
<thead>
<tr>
<th>表达式</th>
<th>值</th>
<th>原因</th>
</tr>
</thead>
<tbody>
<tr>
<td>null == undefined</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>NaN == NaN</td>
<td>false</td>
<td>NaN不等于NaN</td>
</tr>
<tr>
<td>0 == false</td>
<td>true</td>
<td>false转换为0</td>
</tr>
<tr>
<td>1 == true</td>
<td>true</td>
<td>true转换为1</td>
</tr>
<tr>
<td>2 == true</td>
<td>true</td>
<td>true转换为1, 1不等于2</td>
</tr>
<tr>
<td>[] == false</td>
<td>true</td>
<td>[]调用toString转化为””,””字符串转换为0</td>
</tr>
<tr>
<td>[1] == 1</td>
<td>true</td>
<td>[1]调用toString转化为”1”,”1”字符串转换为1</td>
</tr>
<tr>
<td>[] == 0</td>
<td>true</td>
<td>[]调用toString转化为””,””字符串转换为0</td>
</tr>
<tr>
<td>{} == false</td>
<td>false</td>
<td>{}调用toString-&gt;”[object Object]”-&gt;NaN,false-&gt;0</td>
</tr>
<tr>
<td>{} == “[object Object]”</td>
<td>true</td>
<td>{}调用toString转换为”[object Object]”,</td>
</tr>
<tr>
<td>{} == 0</td>
<td>false</td>
<td></td>
</tr>
<tr>
<td>{} == false</td>
<td>false</td>
<td>{}调用toString-&gt;”[object Object]”-&gt;NaN, NaN==0</td>
</tr>
<tr>
<td>{} == {}</td>
<td>false</td>
<td>两个对象,分别保存在不同的内存地址中</td>
</tr>
<tr>
<td>[] == []</td>
<td>false</td>
<td>两个对象，分别保存在不同的内存地址中</td>
</tr>
<tr>
<td>[1] == [1]</td>
<td>false</td>
<td>两个对象,分别保存在不用的内存地址中</td>
</tr>
</tbody>
</table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">toString</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">10</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">obj == <span class="number">10</span> <span class="comment">//true</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">valueOf</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">20</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">obj == <span class="number">20</span> <span class="comment">// true</span></div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">toString</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">10</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">valueOf</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">20</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">obj == <span class="number">20</span> <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p>由此可见，对象会先调用valueOf试图转换成基本类型值, 如转换不成会再尝试调用toString方法。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/05/22/jsEqualOperator/" data-id="cj3gznrwj000hx9fyqrctna85" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-cssMarginPaddingPercentage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/22/cssMarginPaddingPercentage/" class="article-date">
  <time datetime="2017-05-22T02:25:46.000Z" itemprop="datePublished">2017-05-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/22/cssMarginPaddingPercentage/">CSS中百分比值</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>line-height</li>
<li>定位中的百分比<br>如果top|bottom|left|right的值为百分比<br>top|bottom根据包含块的高度计算百分比的值<br>left|right根据包含块的宽度计算百分比的值</li>
<li>margin|padding<br>行内元素margin|padding值,左右能设置，上下不能设置<br>如果元素的padding或margin值是百分比值，那么，它的值是根据父元素的宽度来计算的<br>可以利用此属性，用css实现自适应的正方形</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">//方案一:利用padding-top</div><div class="line">.square&#123;</div><div class="line">  width:100%;</div><div class="line">  padding-top:100%;</div><div class="line">  background:#000;</div><div class="line">&#125;</div><div class="line">//方案二:利用伪类</div><div class="line">.square3&#123;</div><div class="line">  width:20%;</div><div class="line">  background:yellow;</div><div class="line">&#125;</div><div class="line">.square3:after&#123;</div><div class="line">  content:'';</div><div class="line">  display:block;</div><div class="line">  padding-top:100%;</div><div class="line">&#125;</div><div class="line">.square4&#123;</div><div class="line">  width:20%;</div><div class="line">  background:green;</div><div class="line">  overflow:hidden;</div><div class="line">&#125;</div><div class="line">.square4:after&#123;</div><div class="line">  content:'';</div><div class="line">  display:block;</div><div class="line">  margin-top:100%;</div><div class="line">&#125;</div><div class="line">//方案三:利用vw单位</div><div class="line">.square&#123;</div><div class="line">  width:100vw;</div><div class="line">  height:100vw;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">'2000px'</span> <span class="attr">height</span>=<span class="string">'2000px'</span> /&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">//1.页面中这三个元素的宽高是多少，img能把a标签撑起来么，为什么</div><div class="line">//2.img设置position:absolute; top:10%;left:10%; img的位置，top/left的百分比是基于谁的</div><div class="line">//3.如果p设置position:relative;img的position:absolute; top:10%;left:10%; img的位置，top/left的百分比是基于谁的</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/05/22/cssMarginPaddingPercentage/" data-id="cj3gznrw80004x9fy97ey4ob3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/">CSS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mac-commandline" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/10/mac-commandline/" class="article-date">
  <time datetime="2017-05-10T10:17:26.000Z" itemprop="datePublished">2017-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/10/mac-commandline/">mac-commandline</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="mac-os"><a href="#mac-os" class="headerlink" title="mac os"></a>mac os</h2><p>| keybinding           | operate                |<br>| command+Q            | 退出当前应用           |<br>| command+M            | 最小化当前应用         |<br>| command+T            | 切换当前窗口打开的应用 |<br>| command+H            | 快速隐藏当前应用       |<br>| command+Shift+Delete | 清除废纸篓             |<br>| Control + A          | 移动到行首             |<br>| Control + E          | 移动到行尾             |<br>| Control + B          | 向前移动一个字符       |<br>| Control + F          | 向后移动一个字符       |</p>
<h2 id="mac-command-line"><a href="#mac-command-line" class="headerlink" title="mac command-line"></a>mac command-line</h2><p>which tern //查看安装路径<br>top //显示所有进程<br>kill -9 pid //结束pid进程</p>
<h2 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">curl -O http://.../.tar.gizp //下载文件到当前目录</div></pre></td></tr></table></figure>
<h2 id="terminal"><a href="#terminal" class="headerlink" title="terminal"></a>terminal</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cp -r fromPath/file destinationPath</div><div class="line">cp ~/test1/*.*  ~/test2/</div></pre></td></tr></table></figure>
<p>echo ‘eval “$(perl -I$HOME/lib/lib/perl5 -Mlocal::lib=$HOME/lib)”‘ &gt;&gt;~/.bashrc<br>echo ‘eval “$(perl -I$HOME/lib/lib/perl5 -Mlocal::lib=$HOME/lib)”‘ &gt;&gt;~/.zshrc</p>
<h2 id="chrome"><a href="#chrome" class="headerlink" title="chrome"></a>chrome</h2><p>| keybinding          | operate                  |<br>| command + Shift + T | 重新打开之前关闭的标签页 |<br>| command+ Option+I   | devtools                 |<br>| command + ,         | chrome 设置              |<br>| command + L         | 快速选中地址栏                  |</p>
<h2 id="alfred"><a href="#alfred" class="headerlink" title="alfred"></a>alfred</h2><ul>
<li>安装github</li>
</ul>
<p>下载workflow工作流，双击安装工作流，自动添加的alfred<br>生成一个token<br>gh-auth <your token=""></your></p>
<h2 id="登录远程服务器"><a href="#登录远程服务器" class="headerlink" title="登录远程服务器"></a>登录远程服务器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh root@47.91.156.125</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/05/10/mac-commandline/" data-id="cj3gznrwi000fx9fytw438gy5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mac/">mac</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-perlstart" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/30/perlstart/" class="article-date">
  <time datetime="2017-04-30T10:23:48.000Z" itemprop="datePublished">2017-04-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/30/perlstart/">Perl入门</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>perl程序文件可以不带扩展名字，也可以plx为扩展名</li>
<li><p>查看perl的版本号</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">perl -v</div></pre></td></tr></table></figure>
</li>
<li><p>运行文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">perl hello.pl</div></pre></td></tr></table></figure>
</li>
<li><p>常用命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">perldoc CGI //查看CGI模块文档</div><div class="line">cpan <span class="_">-a</span> //列出所有已安装的模块</div></pre></td></tr></table></figure>
</li>
<li><p>mac os下安装local::lib模块</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// 先从seach.cpan.org下载local::lib模块</div><div class="line">//进入local-lib的安装包</div><div class="line">cd local-lib-2.000019/</div><div class="line">//默认安装到~/perl5</div><div class="line">perl Makefile.PL --bootstrap </div><div class="line">make test &amp;&amp; make install</div><div class="line">perl5 -Mlocal::lib=$HOME/lib)&quot;&apos; &gt;&gt;~/.zshrc</div><div class="line">echo &apos;eval &quot;$(perl -I$HOME/perl5/lib/perl5 -Mlocal::lib)&quot;&apos; &gt;&gt;~/.zshrc</div><div class="line">//重启shell</div></pre></td></tr></table></figure>
</li>
<li><p>使用模块</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">my</span> $name = <span class="string">"/usr/local/bin/perl/marong"</span>;</div><div class="line"><span class="keyword">my</span> $basename = basename $name;</div><div class="line"><span class="keyword">my</span> $dirname = dirname $name;</div><div class="line"><span class="keyword">print</span> <span class="string">"\$basename:$basename"</span>; <span class="regexp">//marong</span></div><div class="line"><span class="keyword">print</span> <span class="string">"\$dirname:$dirname"</span>; <span class="regexp">//</span><span class="string">'/usr/local/bin/perl'</span></div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/30/perlstart/" data-id="cj3gznrwl000jx9fy3nasvocs" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Perl/">Perl</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-box-model" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/26/box-model/" class="article-date">
  <time datetime="2017-04-26T06:29:45.000Z" itemprop="datePublished">2017-04-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/26/box-model/">box-model</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>怪异模式下盒模型<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">width:10px;</div><div class="line">height:10px;</div><div class="line">padding:10px;</div></pre></td></tr></table></figure></p>
<p>盒子在页面中的占位</p>
<h3 id="CSS-module-怎么实现"><a href="#CSS-module-怎么实现" class="headerlink" title="CSS-module 怎么实现"></a>CSS-module 怎么实现</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/26/box-model/" data-id="cj3gznrw20001x9fy3aiszpx5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/">CSS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-deepcopy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/26/deepcopy/" class="article-date">
  <time datetime="2017-04-26T06:29:23.000Z" itemprop="datePublished">2017-04-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/26/deepcopy/">deepcopy</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h2><h2 id="深度拷贝"><a href="#深度拷贝" class="headerlink" title="深度拷贝"></a>深度拷贝</h2><h3 id="深度拷贝循环引用的问题"><a href="#深度拷贝循环引用的问题" class="headerlink" title="深度拷贝循环引用的问题"></a>深度拷贝循环引用的问题</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;&#125;;</div><div class="line">obj.a = obj;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/26/deepcopy/" data-id="cj3gznrwa0005x9fy8aemllgl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-prototype" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/24/prototype/" class="article-date">
  <time datetime="2017-04-24T00:12:45.000Z" itemprop="datePublished">2017-04-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/24/prototype/">prototype</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>构造函数，原型，实例的关系：每个构造函数都有一个原型对象，原型对象都包含一个指向构造函数的指针，实例都包含一个指向原型对象的内部指针。<br>原型链：一个对象的原型等于另一个对象的实例，此时原型对象将包含一个指向另一个原型的指针，层层递进，构成了实例与原型之间的链条，这就是原型链。<br>继承：依靠原型链来实现的。</p>
<ol>
<li><p>原型链继承<br>很少单独使用<br>缺点：最主要的问题来自包含引用类型值的原型会被所有实例共享;创建子类型的实例时，不能向超类型传递参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.colors = [<span class="string">'red'</span>, <span class="string">'blue'</span>, <span class="string">'green'</span>];</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;</div><div class="line">SubType.protoype = <span class="keyword">new</span> SuperType();</div><div class="line"><span class="keyword">var</span> instance1 = <span class="keyword">new</span> SubType();</div><div class="line">instance1.colors.push(<span class="string">'black'</span>);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'colors'</span>, instance1.colors); <span class="comment">//['red', 'blue', 'green', 'black']</span></div><div class="line"><span class="keyword">var</span> instance2 = <span class="keyword">new</span> SubType();</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'colors'</span>, instance2.colors); <span class="comment">//['red', 'blue', 'green', 'black']</span></div></pre></td></tr></table></figure>
</li>
<li><p>(经典继承)借用构造函数继承<br>很少单独使用<br>在子类构造函数的内部调用超类构造函数,解决引用类型共享的问题；可传递参数<br>缺点：无法实现函数的复用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.colors = [<span class="string">'red'</span>, <span class="string">'blue'</span>, <span class="string">'green'</span>];</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    SuperType.call(<span class="keyword">this</span>, name);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> instance1 = <span class="keyword">new</span> SubType();</div><div class="line">instance1.colors.push(<span class="string">'black'</span>); <span class="comment">//['red', 'blue', 'green', 'black']</span></div><div class="line"><span class="built_in">console</span>.log(instance1);</div><div class="line"><span class="keyword">var</span> instance2 = <span class="keyword">new</span> SubType();</div><div class="line"><span class="built_in">console</span>.log(instance2);</div></pre></td></tr></table></figure>
</li>
<li><p>组合继承(原型链和借用构造函数的组合)<br>将原型链和借用构造函数的技术组合到一块，使用原型链实现对原型属性和方法的继承，通过借用构造行数来实现对实例属性的继承,既通过在原型上定义方法实现了函数复用，又能保证每个实例儿都有自己的属性<br>常用的继承模式<br>缺点： 无论什么情况下，都会调用两次超类型构造函数</p>
</li>
<li><p>原型式继承(同ECMAScript的Object.create)<br>基于已有的对象，借助原型创建新对象<br>应用场景：只想让一个对象与另一个对象保持类似的情况下。<br>缺点：包含引用类型的值会共享</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">```</div><div class="line">5. 寄生式继承</div><div class="line">创建一个仅用于封装继承过程的函数，任何能够返回新对象的函数都适用于此模式</div><div class="line">缺点：不能做到函数的复用</div><div class="line">```javascript</div></pre></td></tr></table></figure>
</li>
<li><p>寄生组合式继承<br>最常用的继承模式<br>借用构造函数来继承属性，通过原型链来继承方法。<br>与组合式继承相比,它只调用了一次SuperType构造行数，并且因此避免了在SubType.prototype上创建不必要的，多余的属性。寄生组合式继承是引用类型最理想的继承方式</p>
<pre><code class="javascript">
</code></pre>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/24/prototype/" data-id="cj3gznrwn000lx9fy1rwkljkc" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-sort" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/19/sort/" class="article-date">
  <time datetime="2017-04-19T10:46:36.000Z" itemprop="datePublished">2017-04-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/19/sort/">Javascript排序算法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>算法的稳定性<br>所有相等的数经过算法的排序之后，仍能保持他们在排序之前的相对次序，这种排序算法是稳定的，反之，是不稳定的。</li>
<li>算法的时间复杂度<br>是指执行算法所需要的计算工作量</li>
<li>算法的空间复杂度<br>是指执行算法所需要的内存空间</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">算法</th>
<th style="text-align:left">时间复杂度</th>
<th style="text-align:left">空间复杂度</th>
<th style="text-align:left">稳定性</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">冒泡排序</td>
<td style="text-align:left">O(n) O(n*n)</td>
<td style="text-align:left">O(1)</td>
<td style="text-align:left">稳定</td>
</tr>
<tr>
<td style="text-align:left">选择排序</td>
<td style="text-align:left">O(n<em>n) O(n</em>n)</td>
<td style="text-align:left">O(1)</td>
<td style="text-align:left">不稳定</td>
</tr>
<tr>
<td style="text-align:left">插入排序</td>
<td style="text-align:left">O(n) O(n*n)</td>
<td style="text-align:left">O(1)</td>
<td style="text-align:left">稳定</td>
</tr>
<tr>
<td style="text-align:left">希尔排序</td>
<td style="text-align:left">O(n) O(n log^2 n)</td>
<td style="text-align:left">O(1)</td>
<td style="text-align:left">不稳定</td>
</tr>
<tr>
<td style="text-align:left">归并排序</td>
<td style="text-align:left">O(n) O(n log n)</td>
<td style="text-align:left">O(1)</td>
<td style="text-align:left">稳定</td>
</tr>
<tr>
<td style="text-align:left">快速排序</td>
<td style="text-align:left">O(n log n)  O(n log n)</td>
<td style="text-align:left">O(n log n)</td>
<td style="text-align:left">不稳定</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="冒泡排序-是最慢的一种排序"><a href="#冒泡排序-是最慢的一种排序" class="headerlink" title="冒泡排序,是最慢的一种排序"></a>冒泡排序,是最慢的一种排序</h3><ul>
<li>原理：比较相邻的数据，根据排序要求进行互换。如按升序排，较大的数会移动的右侧，较小的数会移到左侧。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> aa = [];</div><div class="line">    <span class="keyword">var</span> nums = <span class="number">10</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; nums; i++)&#123;</div><div class="line">        aa[i] = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()* nums + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params">arr, index1, index2</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> tmp = arr[index1];</div><div class="line">        arr[index1] = arr[index2];</div><div class="line">        arr[index2]= tmp;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// 冒泡排序</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> len = arr.length;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> outer = len <span class="number">-1</span>; outer &gt;= <span class="number">0</span>; outer--) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> inner = <span class="number">0</span>; inner &lt; outer; inner ++)&#123;</div><div class="line">                <span class="keyword">if</span>(arr[inner] &gt; arr[inner + <span class="number">1</span>])&#123;</div><div class="line">                    swap(arr, inner ,inner + <span class="number">1</span>);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> arr;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> start  = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'排序2前'</span>, aa);</div><div class="line">    bubbleSort(aa);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'排序后'</span>, aa);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'冒泡排序消耗时间: '</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - start);</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><p>原理：外循环将数组元素挨个移动，内循环从循环中选中元素的下一个元素开始比较。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> aa = [];</div><div class="line">    <span class="keyword">var</span> nums = <span class="number">10</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; nums; i++)&#123;</div><div class="line">        aa[i] = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()* nums + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params">arr, index1, index2</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> tmp = arr[index1];</div><div class="line">        arr[index1] = arr[index2];</div><div class="line">        arr[index2]= tmp;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">selectionSort</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> len = arr.length;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> outer = <span class="number">0</span>; outer &lt; len; outer++)&#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> inner = outer+<span class="number">1</span>; inner &lt; len; inner++)&#123;</div><div class="line">                <span class="keyword">if</span>(arr[outer] &gt; arr[inner])&#123;</div><div class="line">                    swap(arr, outer, inner);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 选择排序</span></div><div class="line">    <span class="keyword">var</span> start  = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'排序前'</span>, aa);</div><div class="line">    selectionSort(aa);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'排序后'</span>, aa);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'选择排序消耗时间: '</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - start);</div><div class="line">&#125;)();</div></pre></td></tr></table></figure></p>
<h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><p>原理：外循环将数组元素挨个移动，内循环对外循环中的元素和它前面的元素进行比较。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> aa = [];</div><div class="line">    <span class="keyword">var</span> nums = <span class="number">10</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; nums; i++)&#123;</div><div class="line">        aa[i] = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()* nums + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params">arr, index1, index2</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> tmp = arr[index1];</div><div class="line">        arr[index1] = arr[index2];</div><div class="line">        arr[index2]= tmp;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">insertSort</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> len = arr.length;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> outer = <span class="number">0</span>; outer &lt; len; outer++)&#123;</div><div class="line">            <span class="keyword">var</span> inner  = outer;</div><div class="line">            <span class="keyword">while</span>(inner &amp;&amp; arr[inner] &lt; arr[inner - <span class="number">1</span>]) &#123;</div><div class="line">                swap(arr, inner ,inner <span class="number">-1</span>);</div><div class="line">                inner --;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 插入排序</span></div><div class="line">    <span class="keyword">var</span> start  = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'排序前'</span>, aa);</div><div class="line">    insertSort(aa);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'排序后'</span>, aa);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'插入排序消耗时间: '</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - start);</div><div class="line">&#125;)();</div></pre></td></tr></table></figure></p>
<h3 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h3><p>原理：通过定义一个间隔序列，根据间隔序列来比较元素，间隔的值会不断减小。</p>
<ul>
<li><p>固定间隔</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"><span class="keyword">var</span> aa = [];</div><div class="line"><span class="keyword">var</span> nums = <span class="number">10</span>;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; nums; i++)&#123;</div><div class="line">aa[i] = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()* nums + <span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params">arr, index1, index2</span>)</span>&#123;</div><div class="line"><span class="keyword">var</span> tmp = arr[index1];</div><div class="line">arr[index1] = arr[index2];</div><div class="line">arr[index2]= tmp;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> gaps  = [<span class="number">5</span>, <span class="number">3</span>,<span class="number">1</span>];</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">shellSort</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line"><span class="keyword">var</span> len = arr.length;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> g = <span class="number">0</span>; g &lt; gaps.length; g++)&#123;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> outer = g; outer &lt; len; outer++)&#123;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> inner = outer; inner &gt;= g &amp;&amp; arr[inner] &lt; arr[inner -g]; inner -= g)&#123;</div><div class="line">swap(arr, inner ,inner-g);</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> start  = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'排序前'</span>, aa);</div><div class="line">shellSort(aa);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'排序后'</span>, aa);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'希尔排序消耗时间: '</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - start);</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
</li>
<li><p>动态间隔</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> aa = [];</div><div class="line">    <span class="keyword">var</span> nums = <span class="number">10</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; nums; i++)&#123;</div><div class="line">        aa[i] = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()* nums + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">swap</span>(<span class="params">arr, index1, index2</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> tmp = arr[index1];</div><div class="line">        arr[index1] = arr[index2];</div><div class="line">        arr[index2]= tmp;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">shellSortByDynamic</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> len = arr.length;</div><div class="line">        <span class="keyword">var</span> g = <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span>(g &lt; len / <span class="number">3</span>)&#123;</div><div class="line">            g = <span class="number">3</span> * g + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">while</span>(g &gt;= <span class="number">1</span>)&#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> outer = g; outer &lt; len; outer++)&#123;</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">var</span> inner = outer; inner &gt;=g &amp;&amp; arr[inner] &lt; arr[inner -g]; inner -= g)&#123;</div><div class="line">                    swap(arr, inner ,inner - g);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            g = (g - <span class="number">1</span>) / <span class="number">3</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 动态希尔排序</span></div><div class="line">    <span class="keyword">var</span> start  = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'排序前'</span>, aa);</div><div class="line">    shellSortByDynamic(aa);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'排序后'</span>, aa);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'动态希尔排序消耗时间: '</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - start);</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h3><p>原理：将数据分解为一组只有一个元素的数组，然后通过创建一组左右子数组将他们慢慢排序合并。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"><span class="keyword">var</span> aa = [];</div><div class="line"><span class="keyword">var</span> nums = <span class="number">10</span>;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; nums; i++)&#123;</div><div class="line">aa[i] = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()* nums + <span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeSort</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line"><span class="keyword">var</span> len = arr.length;</div><div class="line"><span class="keyword">if</span>(len &lt; <span class="number">2</span>) <span class="keyword">return</span>;</div><div class="line"><span class="keyword">var</span> step = <span class="number">1</span>;</div><div class="line"><span class="keyword">var</span> left, right;</div><div class="line"><span class="keyword">while</span>(step &lt; len)&#123;</div><div class="line">left = <span class="number">0</span>;</div><div class="line">right = step;</div><div class="line"><span class="keyword">while</span>(right + step &lt;= len)&#123;</div><div class="line">mergeArrays(arr, left, left+step, right, right+step);</div><div class="line">left = right + step;</div><div class="line">right = left + step;</div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span>(right &lt; len)&#123;</div><div class="line">mergeArrays(arr, left, left+step, right, len);</div><div class="line">&#125;</div><div class="line">step *= <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">mergeArrays</span>(<span class="params">arr, leftStart, leftStop, rightStart, rightStop</span>)</span>&#123;</div><div class="line"><span class="keyword">var</span> leftArr = <span class="keyword">new</span> <span class="built_in">Array</span>(leftStop - leftStart + <span class="number">1</span>);</div><div class="line"><span class="keyword">var</span> rightArr = <span class="keyword">new</span> <span class="built_in">Array</span>(rightStop - rightStart + <span class="number">1</span>);</div><div class="line"><span class="keyword">var</span> k = leftStart;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; leftStop-leftStart; i++)&#123;</div><div class="line">leftArr[i] = arr[k];</div><div class="line">k++</div><div class="line">&#125;</div><div class="line">k = rightStart;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; rightStop-rightStart; i++)&#123;</div><div class="line">rightArr[i] = arr[k];</div><div class="line">k++;</div><div class="line">&#125;</div><div class="line">leftArr[leftArr.length <span class="number">-1</span>] = <span class="literal">Infinity</span>;</div><div class="line">rightArr[rightArr.length - <span class="number">1</span>] = <span class="literal">Infinity</span>;</div><div class="line"><span class="keyword">var</span> l = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> r = <span class="number">0</span>;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = leftStart; i &lt; rightStop;i++)&#123;</div><div class="line"><span class="keyword">if</span>(leftArr[l] &lt;= rightArr[r])&#123;</div><div class="line">arr[i] = leftArr[l];</div><div class="line">l++</div><div class="line">&#125;<span class="keyword">else</span> &#123;</div><div class="line">arr[i] = rightArr[r];</div><div class="line">r++;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 归并排序</span></div><div class="line"><span class="keyword">var</span> start  = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'排序前'</span>, aa);</div><div class="line">mergeSort(aa);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'排序后'</span>, aa);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'归并排序消耗时间: '</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - start);</div><div class="line">&#125;)();</div></pre></td></tr></table></figure></p>
<h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><p>原理：在列表中选择一个元素作为基准值，列表中小于基准值的元素移动到左边，大于基准值的元素移动的右边，递归调用,合并左数组、基准值、有数组并返回。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> aa = [];</div><div class="line">    <span class="keyword">var</span> nums = <span class="number">10</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; nums; i++)&#123;</div><div class="line">        aa[i] = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()* nums + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> len = arr.length;</div><div class="line">        <span class="keyword">if</span>(arr &amp;&amp; len == <span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> [];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">var</span> point = arr[<span class="number">0</span>];</div><div class="line">        <span class="keyword">var</span> left = [];</div><div class="line">        <span class="keyword">var</span> right = [];</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i&lt; len; i++)&#123;</div><div class="line">            <span class="keyword">if</span>(arr[i] &lt; point)&#123;</div><div class="line">                left.push(arr[i]);</div><div class="line">            &#125;<span class="keyword">else</span> &#123;</div><div class="line">                right.push(arr[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> quickSort(left).concat(point, quickSort(right));</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 快速排序</span></div><div class="line">    <span class="keyword">var</span> start  = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'排序前'</span>, aa);</div><div class="line">    aa = quickSort(aa);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'排序后'</span>, aa);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'快速排序消耗时间: '</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - start);</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<p>当数组长度为1000时，以上排序算法消耗时间为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">JavaScript内置sort排序消耗时间: 3</div><div class="line">冒泡排序消耗时间:  4</div><div class="line">选择排序消耗时间:  3</div><div class="line">插入排序消耗时间:  2</div><div class="line">希尔排序消耗时间:  2</div><div class="line">动态希尔排序消耗时间:  1</div><div class="line">归并排序消耗时间:  2</div><div class="line">快速排序消耗时间:  2</div></pre></td></tr></table></figure></p>
<p>当数组长度为10000时，以上排序算法消耗时间为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">JavaScript内置sort排序消耗时间:  16</div><div class="line">冒泡排序消耗时间:  180</div><div class="line">选择排序消耗时间:  228</div><div class="line">插入排序消耗时间:  57</div><div class="line">希尔排序消耗时间:  58</div><div class="line">动态希尔排序消耗时间:  3</div><div class="line">归并排序消耗时间:  4</div><div class="line">快速排序消耗时间:  16</div></pre></td></tr></table></figure></p>
<h4 id="当数据量较大的时候，希尔排序，归并排序，快速排序，速度较快。"><a href="#当数据量较大的时候，希尔排序，归并排序，快速排序，速度较快。" class="headerlink" title="当数据量较大的时候，希尔排序，归并排序，快速排序，速度较快。"></a>当数据量较大的时候，希尔排序，归并排序，快速排序，速度较快。</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/19/sort/" data-id="cj3gznrwt000sx9fy2wdv1rm0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/">algorithm</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-closure" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/11/closure/" class="article-date">
  <time datetime="2017-04-10T23:50:36.000Z" itemprop="datePublished">2017-04-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/11/closure/">闭包</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>堆<br>堆是一种无序的数据结构，数据的存取方式根据引用直接获取，现实生活中常见的堆的例子：书架与书。</li>
<li>栈<br>栈是一种高效的数据结构，只能在栈顶添加或删除数据，是一种后入先出(LIFO, last-in-first-out)的数据结构。现实生活常见的栈的例子：摞盘子。<br>JavaScript没有严格意义上区分堆内存和栈内存。在JavaScript的执行环境在逻辑上实现了堆栈。<br>执行环境中的变量对象保存在堆内存中。<br>基础数据类型存储在栈内存中，基础数据类型是按值访问的，可以直接操作保存在变量终端额实际值。<br>引用数据类型的值是保存在堆内存中，引用类型的值是按引用访问的，不允许直接访问对内存中的位置，操作对象时实际是操作的对象的引用。</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">比较</th>
<th style="text-align:left">栈内存</th>
<th style="text-align:left">堆内存</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">存储数据类型</td>
<td style="text-align:left">基础数据类型</td>
<td style="text-align:left">引用数据类型</td>
</tr>
<tr>
<td style="text-align:left">存储值</td>
<td style="text-align:left">大小固定</td>
<td style="text-align:left">大小不固定，可动态调整</td>
</tr>
<tr>
<td style="text-align:left">内存分配</td>
<td style="text-align:left">编译器自动分配释放</td>
<td style="text-align:left">程序分配</td>
</tr>
<tr>
<td style="text-align:left">用途</td>
<td style="text-align:left">主要用来执行程序</td>
<td style="text-align:left">主要用来存放对象</td>
</tr>
<tr>
<td style="text-align:left">特点</td>
<td style="text-align:left">空间小，运行效率高</td>
<td style="text-align:left">空间大，运行效率相对较低</td>
</tr>
<tr>
<td style="text-align:left">存取方式</td>
<td style="text-align:left">先进后出，后进先出</td>
<td style="text-align:left">无序存储，可根据引用直接获取</td>
</tr>
</tbody>
</table>
<ul>
<li>调用栈</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">function printCallStack() &#123;</div><div class="line">    var i = 0;</div><div class="line">    var fun = arguments.callee;</div><div class="line">    do &#123;</div><div class="line">        fun = fun.arguments.callee.caller;</div><div class="line">        console.log(++i + &apos;: &apos; + fun);</div><div class="line">    &#125; while (fun);</div><div class="line">&#125;</div><div class="line"></div><div class="line">function c() &#123;</div><div class="line">    console.log(&apos;c&apos;);</div><div class="line">    printCallStack();</div><div class="line">&#125;</div><div class="line"></div><div class="line">function b() &#123;</div><div class="line">    console.log(&apos;b&apos;);</div><div class="line">    c();</div><div class="line">&#125;</div><div class="line"></div><div class="line">function a() &#123;</div><div class="line">    console.log(&apos;a&apos;);</div><div class="line">    b();</div><div class="line">&#125;</div><div class="line"></div><div class="line">a();</div></pre></td></tr></table></figure>
<ul>
<li>执行环境(execution context)<br>JavaScript执行环境定义了变量或函数有权访问的其他数据，决定了它们各自的行为。<br>每个执行环境都有一个与之关联的变量对象(variable object),环境中定义的所有变量和函数都保存在这个对象中，我们编写的代码无法访问这个对象，但解析器在处理数据的时候会再后台使用它。<br>某个执行环境中的所有代码执行完毕后，该环境被销毁，保存在其中的所有变量和函数定义也随之销毁.全局执行环境是最外围的一个执行环境（全局执行环境直到应用程序推出才会被销毁）。<br>JavaScript程序的执行流的机制: 每个函数都有自己的执行环境，当执行流进入一个函数时，函数的环境就会被推入到一个环境栈中，当函数执行之后，栈将其环境弹出，把控制权返回给之前的执行环境。</li>
<li>作用域链(scope chain)：<br>当代码在一个环境中执行时，会创建变量对象的一个作用域链。作用域链的用途，是保证对执行环境有权访问的所有变量和函数的有序访问。<br>作用域链的前端，始终是当前执行的代码所在环境的变量对象,作用域链中的下一个变量来自包含环境，一直延续到全局执行环境，全局执行环境的变量对象始终是作用域链中的最后一个对象。<br>标识符解析是沿着作用域链一级一级地搜索标识符的过程。搜索过程始终从作用域链的前端开始，然后逐级向后，直到找到标识符为止(如果找不到标识符，通常会导致错误发生).<br>延长作用域链的两种情况：</li>
<li>with语句</li>
<li>try/catch语句中catch语句</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">buildUrl</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> qs = <span class="string">"?debug=true"</span>;</div><div class="line">    <span class="keyword">with</span>(location)&#123;</div><div class="line">        <span class="keyword">var</span> url = href + qs;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> url;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>with语句接收location对象，with语句的变量对象里包含了location对象,with语句引用href时，引用的是location.href</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">lengthenScopeChain</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">try</span>&#123;</div><div class="line">        <span class="keyword">var</span> dd = <span class="number">2</span>;</div><div class="line">        <span class="keyword">throw</span> <span class="string">'create error'</span>;</div><div class="line">    &#125; <span class="keyword">catch</span>(e) &#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'dd inner catch'</span>,dd);  <span class="comment">// 2</span></div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'e'</span>, e); <span class="comment">// create error</span></div><div class="line">    &#125;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'dd outer'</span>,dd); <span class="comment">// 2</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'e outer'</span>, e);  <span class="comment">//报错，e is not defined</span></div><div class="line">&#125;</div><div class="line">lengthenScopeChain();</div></pre></td></tr></table></figure>
<p>catch语句接收e对象，catch语句的变量对象里包含了e对象</p>
<ul>
<li>作用域</li>
</ul>
<ol>
<li><p>块级作用域<br>在一些类似C语言的编程语言中，花括号内的每一段代码都具有各自的作用域，而且变量在声明它们的代码段之外是不可见的，我们称为块级作用域。</p>
</li>
<li><p>javascript函数作用域<br>JavaScript中没有块级作用域，Javascript使用了函数作用域，就是函数的执行环境：变量在声明它们的函数体内以及这个函数体嵌套的任意函数体内都是有定义的。<br>Javascript的函数作用域是指在函数内声明的所有变量在函数体内始终是可见的,这意味着变量在声明之前甚至已经可用，Javascript的这个特性被非正式地称为申明提前,即Javascript函数里声明的所有变量(但不涉及赋值)都被提前至函数体的顶部,函数声明提前这步操作是在Javscript引擎预编译时进行的，是在代码开始运行之前。<br>在函数体内，局部变量的优先级高于同名的全局变量。<br>如果在函数声明的一个局部变量或者函数参数中带有的变量和全局变量重名，局部变量会覆盖全局变量</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//函数内的变量会覆盖同名的全局变量</span></div><div class="line"><span class="keyword">var</span> name = <span class="string">'global'</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkScope</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(name);</div><div class="line">    <span class="keyword">var</span> name = <span class="string">'local'</span>;</div><div class="line">&#125;</div><div class="line">checkScope() <span class="comment">//undefined</span></div><div class="line"></div><div class="line"><span class="comment">//函数内的参数会覆盖同名的全局变量</span></div><div class="line"><span class="keyword">var</span> name = <span class="string">'global'</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkScope</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(name);</div><div class="line">&#125;</div><div class="line">checkScope(); <span class="comment">//undefined</span></div></pre></td></tr></table></figure>
<ul>
<li>作用域链</li>
</ul>
<p>闭包就是内部函数可以访问定义他们的外部函数的变量和参数(除了this，arguments),也就是函数可以访问存在于该函数声明时的作用域内的变量和函数。<br>特点：</p>
<ol>
<li>闭包可以访问函数声明时所在作用域内的变量和函数</li>
<li>即使外部函数已经返回，当前函数仍然可以引用外部函数所定义的变量</li>
<li>闭包可以更新外部变量的值，闭包存储的是外部变量的引用.<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">scope</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> value;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">get</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> value;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">set</span>: <span class="function"><span class="keyword">function</span>(<span class="params">newValue</span>) </span>&#123;</div><div class="line">            value = newValue;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> obj = scope();</div><div class="line">obj.get(); <span class="comment">//undefined</span></div><div class="line">obj.set(<span class="string">'marong'</span>);</div><div class="line">obj.get(); <span class="comment">//marong</span></div></pre></td></tr></table></figure>
</li>
</ol>
<p>优点：<br>1.避免全局变量的污染<br>2.减少代码的数量和复杂性<br>缺点：<br>1.会比其他函数占内存。<br>由于闭包会携带包含它的函数的作用域，因此会比其他函数占用更多的内存。</p>
<ul>
<li>内存</li>
<li>内存的声明周期</li>
</ul>
<ol>
<li>分配你所需要的内存</li>
<li>使用分配到的内存（读，写）</li>
<li>不需要是将其释放\归还</li>
</ol>
<ul>
<li>Javascript垃圾回收机制<br>JavaScript具有自动垃圾回收机制，执行环境会负责管理代码执行过程中使用的内存,开发人员不用关心内存的使用问题，所需内存的分配以及无用内存的回收完全实现了自动管理。这种垃圾收集机制的原理：找到那些不再继续使用的变量，然后释放其占用的内存。垃圾回收器会按照固定的时间间隔，周期性的执行这一操作。<br>局部变量的生命周期，局部变量只在函数执行的过程中存在，在这个过程中，会为局部变量在堆或栈内存上分配相应空间，以便存储它们的值，然后在函数中使用这些变量，函数运行结束后，判断局部变量是否有用,无用变量进行标识，以备将来回收。<br>浏览器中标识无用变量的策略，通常有两种。</li>
</ul>
<ol>
<li>标记清除<br>JavaScript中最常用的垃圾收集方式是标记清除(mark-and-sweep)。当变量进入环境是，将这个变量标记为“进入环境”,当变量离开环境时，将其标记为“离开环境”。垃圾收集器在运行的时候会给内存种所有的变量都加上标记，然后它会去掉环境中的变量，根据标记删除无用变量，回收它们占用的内存空间。<br>IE， Firefox,Opera,Chrome Safari的Javascript实现使用的是标记清除式的垃圾收集策略，垃圾收集的时间间隔不同。</li>
<li>引用计数<br>引用计数的含义是跟踪记录每个值被引用的次用。当声明了一个变量并将一个引用类型值赋给该变量时，则这个值的引用次数就是1，如果同一个值又被赋给另一个变量，则该值的引用次数加1。相反，如果包含对这个值引用的变量又取得了另外一个值，则这个值的引用次数减1.当这个值的引用次数变成0时。当垃圾收集器运行时，释放引用次数为0的值所占用的内存。<br>引用计数的策略在循环引用的时候，会出现问题。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">function problem()&#123;</div><div class="line">    var objA = new Object();</div><div class="line">    var objB  = new Object();</div><div class="line">    objA.someOther = objB;</div><div class="line">    objB.someOther = objA;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>当函数执行完成之后，objA,objB的引用次数都为2，垃圾回收器无法回收，如果这个函数被多次调用，就会导致大量内存得不到回收。为此，Netscape在Navigator4.0中放弃了引用计数的策略，使用标记清除的策略。<br>IE中有些对象不是原生的Javascript，其中BOM/DOM对象是使用C++以COM(Component Object Model, 组件对象模型)形式实现的。COM对象的垃圾收集策略采用的引用计数的方式，只要在IE中设计到COM，就会存在循环引用的问题。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var element = document.getElementById(&apos;some&apos;);</div><div class="line">var obj = new Object();</div><div class="line">obj.element = element;</div><div class="line">element.someobj = obj;</div></pre></td></tr></table></figure>
<p>即使DOM中element元素被移除，element也不会被垃圾回收器回收。<br>为了避免类似这种循环引用的问题，最好在不使用它们的时候，手动断开连接<br>将变量值设为null,切断变量和它之前引用值的连接，当垃圾收集器下次运行时，就会删除这些值并回收它们的内存。<br>IE9中BOM/DOM对象都是原声的Javascript对象，避免了引用计数循环引用的问题，消除了常见内存泄漏的现象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">obj.element = null;</div><div class="line">element.someobj = null;</div></pre></td></tr></table></figure>
<ul>
<li><p>内存管理<br>解除引用(dereferencing)：将其中设置为null来释放其引用，解除一个值的引用的作用是让值脱离执行环境，以便垃圾收集器下次运行时将其回收<br>分配给web浏览器的内存通常比一般的桌面应用程序少，出于安全的考虑，防止浏览器耗尽系统内存而崩溃。确保占用较少的内存，能保证页面的性能。<br>优化内存占用的最佳方式，执行的代码中只保存必要的数据。一旦数据不再有用，可以解除引用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">function createPerson()&#123;</div><div class="line">    return &#123;</div><div class="line">        name:&apos;person&apos;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">var globalPerson = createPerson;</div><div class="line">//dereferencing</div><div class="line">globalPerson = null;</div></pre></td></tr></table></figure>
</li>
<li><p>内存溢出<br>程序申请内存时，没有足够的内存空间供其使用。</p>
</li>
<li>内存泄漏<br>是指程序申请内存后，又不能回收,无法释放已申请的内存空间,内存泄漏会降低页面性能，还可能会导致程序出错或浏览器崩溃。内存泄漏可能会导致内存溢出。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/11/closure/" data-id="cj3gznrw70003x9fyfu2bavk4" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-webpack" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/24/webpack/" class="article-date">
  <time datetime="2017-03-24T11:55:59.000Z" itemprop="datePublished">2017-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/24/webpack/">wepback学习笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="webpack学习笔记"><a href="#webpack学习笔记" class="headerlink" title="webpack学习笔记"></a>webpack学习笔记</h3><p>1.css-loader是用来处理.css文件，style-loader是通过在页面中插入style标签处理样式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//js文件中加载css文件</div><div class="line">require(&apos;style-loader!css-loader!./hello.css&apos;)</div><div class="line">//在命令行中通过module-bind处理css文件的加载</div><div class="line">webpack hello.js hello.bundle.js --module-bind &apos;css=style-loader!css-loader&apos;</div></pre></td></tr></table></figure></p>
<p>2.命令行中参数<br>–module-bind 打包文件需要用到的loader<br>–watch 监听文件的变化并重新打包<br>–progress 显示打包进度<br>–display-modules 打包的所有的模块<br>–display-reason 模块打包原因</p>
<h3 id="webpack-config"><a href="#webpack-config" class="headerlink" title="webpack config"></a>webpack config</h3><p>*在项目中创建webpack.congfig.js文件，在命令行中运行webpack，会默认执行webpack.config.js中的配置，如果webpack的配置文件不是webpack.config.js,在命令行中则需要配置文件的名字<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//命令行</div><div class="line">webpack --config webpack.dev.config.js</div><div class="line">//可以用npm来给wepback执行的时候添加参数，在package.json</div><div class="line">&#123;</div><div class="line">	&apos;scripts&apos;:&#123;</div><div class="line">		&apos;webpack&apos;:&apos;webpack --config webpack.dev.config.js --progress --display-module --display-reasons --color&apos;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="webpack配置参数entry"><a href="#webpack配置参数entry" class="headerlink" title="webpack配置参数entry"></a>webpack配置参数entry</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//一个入口文件,entry的值为字符串</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">	<span class="attr">entry</span>:<span class="string">'./src/script/main.js'</span>,</div><div class="line">	<span class="attr">output</span>:&#123;</div><div class="line">    	<span class="attr">path</span>:<span class="string">'./dist/js'</span>,</div><div class="line">	 	<span class="attr">filename</span>:<span class="string">'bundle.js'</span></div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//多个入口文件,entry的值为数组，将main.js和a.js打包在一起，生成bundle.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">	<span class="attr">entry</span>:[<span class="string">'./src/script/main.js'</span>,<span class="string">'./src/script/a.js'</span>],</div><div class="line">		  <span class="attr">output</span>:&#123;</div><div class="line">		  <span class="attr">path</span>:<span class="string">'./dist/js'</span>,</div><div class="line">		  <span class="attr">filename</span>:<span class="string">'bundle.js'</span></div><div class="line">		  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//多页面文件,entry的值为对象,name为entry中的key,hash为此次打包的hash值，chunkhash为文件的md5值，可以认为是文件的版本号</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">	<span class="attr">entry</span>:&#123;</div><div class="line">		<span class="string">"main"</span>:<span class="string">"./src/script/main.js"</span>,</div><div class="line">		<span class="string">"a"</span>:<span class="string">"./src/script/a.js"</span></div><div class="line">	&#125;,</div><div class="line">	<span class="attr">output</span>:&#123;</div><div class="line">		<span class="attr">path</span>:<span class="string">'./dist/js'</span>,</div><div class="line">		<span class="comment">//filename:'[name]-[hash].js'</span></div><div class="line">		filename:<span class="string">'[name]-[chunkhash].js'</span></div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="自动化打包生成页面中的html，动态打包的文件名是不确定的"><a href="#自动化打包生成页面中的html，动态打包的文件名是不确定的" class="headerlink" title="自动化打包生成页面中的html，动态打包的文件名是不确定的"></a>自动化打包生成页面中的html，动态打包的文件名是不确定的</h3><p>利用webpack的html插件来解决<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div></pre></td><td class="code"><pre><div class="line">//安装html-webpack-plugin插件</div><div class="line">npm install html-webpack-plugin --save-dev</div><div class="line"></div><div class="line">//使用html-webpack-plugin插件,webpack.dev.config.js</div><div class="line">var htmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</div><div class="line"></div><div class="line">module.exports = &#123;</div><div class="line">entry:&#123;</div><div class="line">main:&apos;./src/script/main.js&apos;,</div><div class="line">a:&apos;./src/script/a.js&apos;</div><div class="line">	  &#125;,</div><div class="line">output:&#123;</div><div class="line">path:&apos;./dist/js&apos;,</div><div class="line">filename:&apos;[name]-[chunkhash].js&apos;</div><div class="line">	   &#125;,</div><div class="line">plugins:[</div><div class="line">new htmlWebpackPlugin()</div><div class="line">]</div><div class="line">&#125;</div><div class="line">//此时执行npm run webpack 会在dist/js目录里生成一个引用a.js main.js的index.html文件，这个index.html并没有与项目根目录下创建的index.html有关联</div><div class="line"></div><div class="line">//关联根目录下的index.html</div><div class="line">module.exports = &#123;</div><div class="line">entry:&#123;</div><div class="line">main:&apos;./src/script/main.js&apos;,</div><div class="line">a:&apos;./src/script/a.js&apos;</div><div class="line">	  &#125;,</div><div class="line">output:&#123;</div><div class="line">path:&apos;./dist/js&apos;,</div><div class="line">filename:&apos;[name]-[chunkhash].js&apos;</div><div class="line">	   &#125;,</div><div class="line">plugins:[</div><div class="line">			new htmlWebpackPlugin(&#123;</div><div class="line">			template:&apos;index.html&apos;</div><div class="line">					&#125;)</div><div class="line">]</div><div class="line">&#125;</div><div class="line">// 打包后生成的index.html,a.js main.js都在dist/js/目录下，需要的目录结构应为</div><div class="line">dist---index.html js/a.js js/main.js,此时需要修改output的path，filenam配置</div><div class="line"></div><div class="line">var htmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</div><div class="line">module.exports = &#123;</div><div class="line">	entry:&#123;</div><div class="line">		&apos;main&apos;:&apos;./src/script/main.js&apos;,</div><div class="line">		&apos;a&apos;:&apos;./src/script/a.js&apos;</div><div class="line">	&#125;,</div><div class="line">	output:&#123;</div><div class="line">		path:&apos;./dist&apos;,</div><div class="line">		filename:&apos;js/[name]-[chunkhash].js&apos;</div><div class="line">	&#125;,</div><div class="line">	plugins:[</div><div class="line">		new htmlWebpackPlugin(&#123;</div><div class="line">			filename:&apos;index-[hash].html&apos;,//指定文件的名字</div><div class="line">			template:&apos;index.html&apos;, //模板的名称</div><div class="line">			inject:&apos;head&apos;, //js插入的位置</div><div class="line">			title:&apos;webpack is good&apos;, //给模板index.html模板传递变量</div><div class="line">			date:new Date() //给模板传递date参数</div><div class="line">		&#125;)</div><div class="line">	]</div><div class="line">&#125;</div><div class="line">//index.html引用htmlWebpackPlugin里的title</div><div class="line">&lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</div><div class="line">&lt;body&gt;&lt;%= htmlWebpackPlugin.options.date %&gt;&lt;/body&gt;</div><div class="line"></div><div class="line">//在html中遍历出htmlWebpackPlugins的能获取的参数</div><div class="line"></div><div class="line">		&lt;div&gt;&lt;%= htmlWebpackPlugin.options.date %&gt;&lt;/div&gt;</div><div class="line">		&lt;% for(var key in htmlWebpackPlugin) &#123; %&gt;</div><div class="line">		&lt;%= key %&gt;</div><div class="line">		&lt;% &#125; %&gt;</div><div class="line"></div><div class="line">		&lt;% for (var key in htmlWebpackPlugin.files)&#123; %&gt;</div><div class="line">		&lt;%= key%&gt;: &lt;%= JSON.stringify(htmlWebpackPlugin.files[key]) %&gt;</div><div class="line">		&lt;% &#125; %&gt;</div><div class="line">		</div><div class="line">		&lt;% for (var key in htmlWebpackPlugin.options)&#123; %&gt;</div><div class="line">		&lt;%= key%&gt;: &lt;%= JSON.stringify(htmlWebpackPlugin.options[key]) %&gt;</div><div class="line">		&lt;% &#125; %&gt;</div><div class="line">		</div><div class="line">//htmlWebpackPlugin的key</div><div class="line">		files</div><div class="line">		</div><div class="line">		options</div><div class="line">	//htmlWebpackPlugin.files的key/value	</div><div class="line">		publicPath: &quot;&quot;</div><div class="line">		</div><div class="line">		chunks: &#123;&quot;main&quot;:&#123;&quot;size&quot;:26,&quot;entry&quot;:&quot;js/main-41d4982751088424227f.js&quot;,&quot;hash&quot;:&quot;41d4982751088424227f&quot;,&quot;css&quot;:[]&#125;,&quot;a&quot;:&#123;&quot;size&quot;:18,&quot;entry&quot;:&quot;js/a-4f55e4d7524c54cdeb7a.js&quot;,&quot;hash&quot;:&quot;4f55e4d7524c54cdeb7a&quot;,&quot;css&quot;:[]&#125;&#125;</div><div class="line">		</div><div class="line">		js: [&quot;js/main-41d4982751088424227f.js&quot;,&quot;js/a-4f55e4d7524c54cdeb7a.js&quot;]</div><div class="line">		</div><div class="line">		css: []</div><div class="line">		</div><div class="line">		manifest: </div><div class="line">		</div><div class="line">	//htmlWebpackPlugin.options的key/value	</div><div class="line">		</div><div class="line">		template: &quot;/home/marong/webpack-demo/node_modules/html-webpack-plugin/lib/loader.js!/home/marong/webpack-demo/index.html&quot;</div><div class="line">		</div><div class="line">		filename: &quot;index.html&quot;</div><div class="line">		</div><div class="line">		hash: false</div><div class="line">		</div><div class="line">		inject: &quot;head&quot;</div><div class="line">		</div><div class="line">		compile: true</div><div class="line">		</div><div class="line">		favicon: false</div><div class="line">		</div><div class="line">		minify: false</div><div class="line">		</div><div class="line">		cache: true</div><div class="line">		</div><div class="line">		showErrors: true</div><div class="line">		</div><div class="line">		chunks: &quot;all&quot;</div><div class="line">		</div><div class="line">		excludeChunks: []</div><div class="line">		</div><div class="line">		title: &quot;webpack is good&quot;</div><div class="line">		</div><div class="line">		xhtml: false</div><div class="line">		</div><div class="line">		date: &quot;2017-03-25T12:12:45.828Z&quot;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">var htmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</div><div class="line">module.exports = &#123;</div><div class="line">	entry:&#123;</div><div class="line">		&apos;main&apos;:&apos;./src/script/main.js&apos;,</div><div class="line">		&apos;a&apos;:&apos;./src/script/a.js&apos;</div><div class="line">	&#125;,</div><div class="line">	output:&#123;</div><div class="line">		path:&apos;./dist&apos;,</div><div class="line">		filename:&apos;js/[name]-[chunkhash].js&apos;,</div><div class="line">		publicPath:&apos;http://cdn.com/js&apos; //上线打包地址占位,打包后生成的js文件地址是以此开头</div><div class="line">	&#125;,</div><div class="line">	plugins:[</div><div class="line">		new htmlWebpackPlugin(&#123;</div><div class="line">			//filename:&apos;index-[hash].html&apos;,</div><div class="line">			filename:&apos;index.html&apos;,</div><div class="line">			template:&apos;index.html&apos;,</div><div class="line">			inject:fasle, //关闭自动注入js文件,手动在index.html中插入js</div><div class="line">			minify:&#123; //对html文件进行压缩</div><div class="line">			removeComments:true,//删除html中注释</div><div class="line">			collapseWhitespace:true //删除html中空格</div><div class="line">			&#125;,</div><div class="line">			title:&apos;webpack is good&apos;,</div><div class="line">			date:new Date()</div><div class="line">		&#125;)</div><div class="line">	]</div><div class="line">&#125;</div><div class="line">//index.html</div><div class="line">&lt;head&gt;</div><div class="line">&lt;script src=&apos;&lt;%= htmlWebpackPlugin.chunks.main.entry&apos;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&apos;&lt;%= htmlWebpackPlugin.chunks.a.entry&apos;&gt;&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">//配置publicPath,生成的html</div><div class="line">&lt;script src=&quot;http://cdn.com/js/main-19a6af676da9ed429fb5.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;http://cdn.com/js/a-9b44f8a7189f4606479f.js&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="处理多页面应用的情况"><a href="#处理多页面应用的情况" class="headerlink" title="处理多页面应用的情况"></a>处理多页面应用的情况</h3><p>假设有a.html b.html c.html三个页面<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line">//webpack.dev.config.js配置</div><div class="line">var htmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</div><div class="line">module.exports = &#123;</div><div class="line">	entry:&#123;</div><div class="line">		&apos;main&apos;:&apos;./src/script/main.js&apos;,</div><div class="line">		&apos;a&apos;:&apos;./src/script/a.js&apos;,</div><div class="line">		&apos;b&apos;:&apos;./src/script/b.js&apos;,</div><div class="line">		&apos;c&apos;:&apos;./src/script/c.js&apos;</div><div class="line">	&#125;,</div><div class="line">	output:&#123;</div><div class="line">		path:&apos;./dist&apos;,</div><div class="line">		filename:&apos;js/[name]-[chunkhash].js&apos;,</div><div class="line">		publicPath:&apos;http://cdn.com/&apos;</div><div class="line">	&#125;,</div><div class="line">	plugins:[</div><div class="line">		new htmlWebpackPlugin(&#123;</div><div class="line">			//filename:&apos;index-[hash].html&apos;,</div><div class="line">			filename:&apos;a.html&apos;,</div><div class="line">			template:&apos;index.html&apos;,</div><div class="line">			inject:false, </div><div class="line">			title:&apos;This a.html&apos;,</div><div class="line">			date:new Date()</div><div class="line">		&#125;),</div><div class="line">		new htmlWebpackPlugin(&#123;</div><div class="line">			//filename:&apos;index-[hash].html&apos;,</div><div class="line">			filename:&apos;b.html&apos;,</div><div class="line">			template:&apos;index.html&apos;,</div><div class="line">			inject:false, </div><div class="line">			title:&apos;This is b.html&apos;,</div><div class="line">			date:new Date()</div><div class="line">		&#125;),</div><div class="line"></div><div class="line">		new htmlWebpackPlugin(&#123;</div><div class="line">			//filename:&apos;index-[hash].html&apos;,</div><div class="line">			filename:&apos;c.html&apos;,</div><div class="line">			template:&apos;index.html&apos;,</div><div class="line">			inject:false, </div><div class="line">			title:&apos;This is c.html&apos;,</div><div class="line">			date:new Date()</div><div class="line">		&#125;)</div><div class="line">	]</div><div class="line">&#125;</div><div class="line"></div><div class="line">//index.html模板中js都固定引入chunks.a.entry,所以生成的三个页面都会有a.js</div><div class="line">//解决方案，可以在webpack配置文件中传递变量给模板，模板来判断引入哪个js,</div><div class="line">//这种方式比较麻烦.html-webpack-plugin中能设置chunks的传递值(默认传递所有的chunks),只传递对当前页面有用的chunks</div><div class="line"></div><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">	&lt;head&gt;</div><div class="line">		&lt;meta charset=&apos;utf-8&apos;&gt;</div><div class="line">		&lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</div><div class="line">		&lt;script src=&quot;&lt;%= htmlWebpackPlugin.files.chunks.main.entry %&gt;&quot;&gt;&lt;/script&gt;</div><div class="line">		&lt;script src=&quot;&lt;%= htmlWebpackPlugin.files.chunks.a.entry %&gt;&quot;&gt;&lt;/script&gt;</div><div class="line">	&lt;/head&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		&lt;!-- 文章主体start --&gt;</div><div class="line">		&lt;h1&gt;webpack title&lt;/h1&gt;</div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure></p>
<h3 id="多页面应用通过设置chunks参数，不同页面通过同一个模板加载相应的js文件"><a href="#多页面应用通过设置chunks参数，不同页面通过同一个模板加载相应的js文件" class="headerlink" title="多页面应用通过设置chunks参数，不同页面通过同一个模板加载相应的js文件"></a>多页面应用通过设置chunks参数，不同页面通过同一个模板加载相应的js文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line">//webpack.dev.config.js</div><div class="line">var htmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</div><div class="line">module.exports = &#123;</div><div class="line">	entry:&#123;</div><div class="line">		&apos;main&apos;:&apos;./src/script/main.js&apos;,</div><div class="line">		&apos;a&apos;:&apos;./src/script/a.js&apos;,</div><div class="line">		&apos;b&apos;:&apos;./src/script/b.js&apos;,</div><div class="line">		&apos;c&apos;:&apos;./src/script/c.js&apos;</div><div class="line">	&#125;,</div><div class="line">	output:&#123;</div><div class="line">		path:&apos;./dist&apos;,</div><div class="line">		filename:&apos;js/[name]-[chunkhash].js&apos;,</div><div class="line">		publicPath:&apos;http://cdn.com/&apos;</div><div class="line">	&#125;,</div><div class="line">	plugins:[</div><div class="line">		new htmlWebpackPlugin(&#123;</div><div class="line">			//filename:&apos;index-[hash].html&apos;,</div><div class="line">			filename:&apos;a.html&apos;,</div><div class="line">			template:&apos;index.html&apos;,</div><div class="line">			inject:true,//打开自动注入js</div><div class="line">			title:&apos;This a.html&apos;,</div><div class="line">			chunks:[&apos;main&apos;,&apos;a&apos;] //对a.html有用的chunks</div><div class="line">			//excludeChunks:[&apos;b&apos;,&apos;c&apos;]//如果页面中需要加载大多数chunks,可以采用排除的方式,排除当前页面不需要的chunks</div><div class="line">		&#125;),</div><div class="line">		new htmlWebpackPlugin(&#123;</div><div class="line">			//filename:&apos;index-[hash].html&apos;,</div><div class="line">			filename:&apos;b.html&apos;,</div><div class="line">			template:&apos;index.html&apos;,</div><div class="line">			inject:true, </div><div class="line">			title:&apos;This is b.html&apos;,</div><div class="line">			chunks:[&apos;b&apos;]</div><div class="line">		&#125;),</div><div class="line">		new htmlWebpackPlugin(&#123;</div><div class="line">			//filename:&apos;index-[hash].html&apos;,</div><div class="line">			filename:&apos;c.html&apos;,</div><div class="line">			template:&apos;index.html&apos;,</div><div class="line">			inject:true, </div><div class="line">			title:&apos;This is c.html&apos;,</div><div class="line">			chunks:[&apos;c&apos;]</div><div class="line">		&#125;)</div><div class="line">	]</div><div class="line">&#125;</div><div class="line">//index.html</div><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">	&lt;head&gt;</div><div class="line">		&lt;meta charset=&apos;utf-8&apos;&gt;</div><div class="line">		&lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</div><div class="line">	&lt;/head&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		&lt;!-- 文章主体start --&gt;</div><div class="line">		&lt;h1&gt;webpack title&lt;/h1&gt;</div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h3 id="如果追求页面的性能，减少http的请求数，想在页面中以inline的形式插入js"><a href="#如果追求页面的性能，减少http的请求数，想在页面中以inline的形式插入js" class="headerlink" title="如果追求页面的性能，减少http的请求数，想在页面中以inline的形式插入js"></a>如果追求页面的性能，减少http的请求数，想在页面中以inline的形式插入js</h3><p>html-webpack-plugin的作者给出了解决方法，在<a href="https://github.com/jantimon/html-webpack-plugin/blob/master/examples/inline/template.jade" target="_blank" rel="external">https://github.com/jantimon/html-webpack-plugin/blob/master/examples/inline/template.jade</a><br>中，利用webpack暴露出的变量compilation.assets在页面中插入chunks中的entry,由于webpack配置了publicPath，chunk的ernty都带着publicPath,<br>compilation.assert中存储的是不带publicPath的entry<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">	&lt;head&gt;</div><div class="line">		&lt;meta charset=&apos;utf-8&apos;&gt;</div><div class="line">		&lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</div><div class="line">		&lt;script&gt;</div><div class="line">&lt;%= compilation.assets[htmlWebpackPlugin.files.main.entry.substr(htmlWebpackPlugin.files.publicPath.length)].source() %&gt;</div><div class="line">		&lt;/script&gt;</div><div class="line">	&lt;/head&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		&lt;!-- 文章主体start --&gt;</div><div class="line">		&lt;h1&gt;webpack title&lt;/h1&gt;</div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure></p>
<h3 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h3><p>处理资源文件，返回新的资源。<br>loader的处理方式有三种，require加载文件相应文件的时，在webpack配置文件里，在命令行里。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">//require的时候</div><div class="line">require(&apos;style-loader!css-loader!./src/style/common.css&apos;)</div><div class="line">//webpack的配置文件</div><div class="line">&#123;</div><div class="line">module:&#123;</div><div class="line">loaders:[</div><div class="line">		&#123;</div><div class="line">		test:/\.jade$/,loader:&quot;jade&quot;</div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">		test:/\.css$/,loader:&apos;style!css&apos;</div><div class="line">		&#125;,</div><div class="line">		&#123;</div><div class="line">		test:/\.css$/, loaders:[&quot;style&quot;,&quot;css&quot;]</div><div class="line">		&#125;</div><div class="line">]</div><div class="line">	   &#125;</div><div class="line">&#125;</div><div class="line">//命令行列</div><div class="line">webpack --module-bind jade --module-bind &apos;css=style!css&apos;</div></pre></td></tr></table></figure></p>
<h3 id="webpack-babel"><a href="#webpack-babel" class="headerlink" title="webpack babel"></a>webpack babel</h3><p>处理es6语法，es6每年都会修订，es2015/es2016/es2017,latest插件包含所有特性(es2015/es2016/es2017)<br>通过preset设置babel-loader转换特性,插件需要通过npm来安装<br>给babel指定参数有四种方式，一种是在babel-loader后直接跟参数，一种是在webpack配置文件中通过query设置,<br>还可以通过创建.babelrc配置文件,在package.json中配置babel</p>
<p>设置babel-loader， exclude,include时候，需要绝对路径，并且同时设置，不然会报错<br>couldn’t find preset latest<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">//安装babel</div><div class="line">npm install --save-dev babel-loader bable-core</div><div class="line">//安装latest插件</div><div class="line">inpm install --save-dev  bable-preset-latest</div><div class="line">//babel-loader直接跟参数</div><div class="line">//配置文件中设置参数</div><div class="line"></div><div class="line">var htmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</div><div class="line">var path  = require(&apos;path&apos;);</div><div class="line">module.exports = &#123;</div><div class="line">	entry:&apos;./src/app.js&apos;,</div><div class="line">	output:&#123;</div><div class="line">		path:&apos;./dist&apos;,</div><div class="line">		filename:&apos;js/[name].bundle.js&apos;</div><div class="line">	&#125;,</div><div class="line">	module:&#123;</div><div class="line">		loaders:[</div><div class="line">			&#123;</div><div class="line">				test:/\.js$/,</div><div class="line">				loader:&apos;babel&apos;,</div><div class="line">				exclude:path.resolve(__dirname, &apos;node_modules&apos;),//排除babel-loader编译文件夹</div><div class="line">				include:path.resolve(__dirname, &apos;src&apos;),//babel-loader很耗时，指定编译的文件夹</div><div class="line">				query:&#123;</div><div class="line">					presets:[&quot;latest&quot;]</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		]</div><div class="line">	&#125;,</div><div class="line">	plugins:[</div><div class="line">		new htmlWebpackPlugin(&#123;</div><div class="line">			filename:&apos;index.html&apos;,</div><div class="line">			template:&apos;index.html&apos;,</div><div class="line">			inject:&apos;body&apos;</div><div class="line">		&#125;)</div><div class="line">	]</div><div class="line">&#125;</div><div class="line"></div><div class="line">//.babelrc配置文件</div><div class="line">&#123;</div><div class="line">&quot;presets&quot;:[&quot;latest&quot;]</div><div class="line">&#125;</div><div class="line">//package.json配置babel</div><div class="line"></div><div class="line">  &quot;babel&quot;:&#123;</div><div class="line">	  &quot;presets&quot;:[&quot;latest&quot;]</div><div class="line">  &#125;,</div></pre></td></tr></table></figure></p>
<h3 id="webpack处理css"><a href="#webpack处理css" class="headerlink" title="webpack处理css"></a>webpack处理css</h3><ul>
<li>postcss-loader css后处理loader，postcss常用插件autoprefixer<br><em>style-loader css-loader  post-css
</em>如果在css文件中@import ‘common.css’, webpack会用style-loader,css-loader处理，但不会用postcss-loader来处理，<br>并把通过import引入的css新建一个style标签来插入到页面中<br>需要css-loader配置参数,importLoaders=num,设置在css-loader之后，指定几个数量的loader来处理import的css<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save-dev style-loader css-loader postcss-loader autoprefixer</div></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">//webpack.dev.config.js</div><div class="line"></div><div class="line">var htmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</div><div class="line">var path  = require(&apos;path&apos;);</div><div class="line">module.exports = &#123;</div><div class="line">	entry:&apos;./src/app.js&apos;,</div><div class="line">	output:&#123;</div><div class="line">		path:&apos;./dist&apos;,</div><div class="line">		filename:&apos;js/[name].bundle.js&apos;</div><div class="line">	&#125;,</div><div class="line">	module:&#123;</div><div class="line">		loaders:[</div><div class="line">			&#123;</div><div class="line">				test:/\.js$/,</div><div class="line">				loader:&apos;babel&apos;,</div><div class="line">				exclude:path.resolve(__dirname, &apos;node_modules&apos;),</div><div class="line">				include:path.resolve(__dirname, &apos;src&apos;),</div><div class="line">				query:&#123;</div><div class="line">					presets:[&quot;latest&quot;]</div><div class="line">				&#125;</div><div class="line">			&#125;,</div><div class="line">			&#123;</div><div class="line">				test:/\.css$/,</div><div class="line">				loader:&apos;style-loader!css-loader?importLoaders=1!postcss-loader&apos;</div><div class="line">			&#125;</div><div class="line">		]</div><div class="line">	&#125;,</div><div class="line">	//postcss:function()&#123;//postcss是数组，填写postcss-loader需要的插件，必填也可直接写成一个数组的格式</div><div class="line">		//return [</div><div class="line">			//require(&apos;autoprefixer&apos;)(&#123;</div><div class="line">				//broswers:[&apos;last 5 versions&apos;]</div><div class="line">			//&#125;)</div><div class="line">		//]</div><div class="line">	//&#125;,</div><div class="line">	postcss:[</div><div class="line">		require(&apos;autoprefixer&apos;)(&#123;</div><div class="line">			broswers:[&apos;last 5 versions&apos;]</div><div class="line">		&#125;)</div><div class="line">	],</div><div class="line">	plugins:[</div><div class="line">		new htmlWebpackPlugin(&#123;</div><div class="line">			filename:&apos;index.html&apos;,</div><div class="line">			template:&apos;index.html&apos;,</div><div class="line">			inject:&apos;body&apos;</div><div class="line">		&#125;)</div><div class="line">	]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="webpack-处理less-sass文件"><a href="#webpack-处理less-sass文件" class="headerlink" title="webpack 处理less sass文件"></a>webpack 处理less sass文件</h3><p>如果是less文件中import less文件，能正常编译，不需要给css-loader配置importLoaders参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install less less-loader sass-loader --save-dev</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">//webpack 配置</div><div class="line">	module:&#123;</div><div class="line">		loaders:[</div><div class="line">			&#123;</div><div class="line">				test:/\.js$/,</div><div class="line">				loader:&apos;babel&apos;,</div><div class="line">				exclude:path.resolve(__dirname, &apos;node_modules&apos;),</div><div class="line">				include:path.resolve(__dirname, &apos;src&apos;),</div><div class="line">				query:&#123;</div><div class="line">					presets:[&quot;latest&quot;]</div><div class="line">				&#125;</div><div class="line">			&#125;,</div><div class="line">			&#123;</div><div class="line">				test:/\.css$/,</div><div class="line">				loader:&apos;style-loader!css-loader?importLoaders=1!postcss-loader&apos;</div><div class="line">			&#125;,</div><div class="line">			&#123;</div><div class="line">				test:/\.less/,</div><div class="line">				//loader:&apos;style-loader!css-loader!postcss-loader!less-loader&apos;</div><div class="line">				loader:&apos;style!css!postcss!less&apos;//可以省略-loader</div><div class="line">			&#125;</div><div class="line">		]</div><div class="line">	&#125;,</div></pre></td></tr></table></figure>
<h3 id="webpack-处理项目中的模板文件"><a href="#webpack-处理项目中的模板文件" class="headerlink" title="webpack 处理项目中的模板文件"></a>webpack 处理项目中的模板文件</h3><p>*有多种模板文件loader, html-loader, ejs-loader<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//html-loader把模板处理为字符串</div><div class="line">npm install --save-dev html-loader ejs-loader</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div></pre></td><td class="code"><pre><div class="line">//html</div><div class="line"></div><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">	&lt;head&gt;</div><div class="line">		&lt;meta charset=&apos;utf-8&apos;&gt;</div><div class="line">		&lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</div><div class="line">	&lt;/head&gt;</div><div class="line">	&lt;body&gt;</div><div class="line">		&lt;!-- 文章主体start --&gt;</div><div class="line">		&lt;h1&gt;webpack title&lt;/h1&gt;</div><div class="line">		&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</div><div class="line">	&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div><div class="line">//lader.html</div><div class="line"></div><div class="line">&lt;div class=&quot;layer&quot;&gt;</div><div class="line">	&lt;div&gt;This is a layer&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">//layer.tpl</div><div class="line"></div><div class="line">&lt;div class=&quot;layer&quot;&gt;</div><div class="line">	&lt;div&gt;&lt;%= name %&gt;&lt;/div&gt;</div><div class="line">	&lt;% for (var i = 0; i &lt; arr.length;i++) &#123;%&gt;</div><div class="line">&lt;%= arr[i] %&gt;</div><div class="line">	&lt;% &#125; %&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">//layer.js</div><div class="line"></div><div class="line">//import tpl from &apos;./layer.html&apos;;</div><div class="line">import tpl from &apos;./layer.tpl&apos;;</div><div class="line">import &apos;./layer.less&apos;;</div><div class="line">function layer()&#123;</div><div class="line">	return &#123;</div><div class="line">		name:&apos;layer&apos;,</div><div class="line">		tpl:tpl</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line">export default layer;</div><div class="line">//app.js</div><div class="line"></div><div class="line">import &apos;./css/common.css&apos;;</div><div class="line">import Layer from &apos;./components/layer/layer.js&apos;;</div><div class="line">const App = function()&#123;</div><div class="line">	var layer = new Layer();</div><div class="line">	var app = document.getElementById(&apos;app&apos;);</div><div class="line">	//html string</div><div class="line">	app.innerHTML = layer.tpl;</div><div class="line">	//ejs function </div><div class="line">	app.innerHTML = layer.tpl(&#123;</div><div class="line">		name:&apos;ejs&apos;,</div><div class="line">		arr:[&apos;tpl&apos;,&apos;html&apos;, &apos;loader&apos;]</div><div class="line">	&#125;)</div><div class="line"></div><div class="line">&#125;</div><div class="line">new App();</div><div class="line">//wepback配置文件</div><div class="line"></div><div class="line">var htmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;)</div><div class="line">var path  = require(&apos;path&apos;);</div><div class="line">module.exports = &#123;</div><div class="line">	entry:&apos;./src/app.js&apos;,</div><div class="line">	output:&#123;</div><div class="line">		path:&apos;./dist&apos;,</div><div class="line">		filename:&apos;js/[name].bundle.js&apos;</div><div class="line">	&#125;,</div><div class="line">	module:&#123;</div><div class="line">		loaders:[</div><div class="line">			&#123;</div><div class="line">				test:/\.js$/,</div><div class="line">				loader:&apos;babel&apos;,</div><div class="line">				exclude:path.resolve(__dirname, &apos;node_modules&apos;),</div><div class="line">				include:path.resolve(__dirname, &apos;src&apos;),</div><div class="line">				query:&#123;</div><div class="line">					presets:[&quot;latest&quot;]</div><div class="line">				&#125;</div><div class="line">			&#125;,</div><div class="line">			&#123;</div><div class="line">				test:/\.css$/,</div><div class="line">				loader:&apos;style-loader!css-loader?importLoaders=1!postcss-loader&apos;</div><div class="line">			&#125;,</div><div class="line">			&#123;</div><div class="line">				test:/\.less$/,</div><div class="line">				//loader:&apos;style-loader!css-loader!postcss-loader!less-loader&apos;</div><div class="line">				loader:&apos;style!css!postcss!less&apos;</div><div class="line">			&#125;,</div><div class="line">			&#123;</div><div class="line">				test:/\.tpl/,</div><div class="line">				loader:&apos;ejs-loader&apos;</div><div class="line">			&#125;,</div><div class="line">			&#123;</div><div class="line">				test:/\.html$/,</div><div class="line">				loader:&apos;html-loader&apos;</div><div class="line">			&#125;</div><div class="line">		]</div><div class="line">	&#125;,</div><div class="line">	//postcss:function()&#123;</div><div class="line">		//return [</div><div class="line">			//require(&apos;autoprefixer&apos;)(&#123;</div><div class="line">				//broswers:[&apos;last 5 versions&apos;]</div><div class="line">			//&#125;)</div><div class="line">		//]</div><div class="line">	//&#125;,</div><div class="line">	postcss:[</div><div class="line">		require(&apos;autoprefixer&apos;)(&#123;</div><div class="line">			broswers:[&apos;last 5 versions&apos;]</div><div class="line">		&#125;)</div><div class="line">	],</div><div class="line">	plugins:[</div><div class="line">		new htmlWebpackPlugin(&#123;</div><div class="line">			filename:&apos;index.html&apos;,</div><div class="line">			template:&apos;index.html&apos;,</div><div class="line">			inject:&apos;body&apos;</div><div class="line">		&#125;)</div><div class="line">	]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="webpack-处理图片及其他文件"><a href="#webpack-处理图片及其他文件" class="headerlink" title="webpack 处理图片及其他文件"></a>webpack 处理图片及其他文件</h3><p>file-loader 处理图片<br>url-loader 当图片大小小于limit的时候，转为base64,大于limit的时候，交由file-loader处理<br>image-webpack-loader 压缩图片大小，与file-loader,url-loader配合使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">npm install --save-dev file-loader url-loader image-webpack-loader</div><div class="line"></div><div class="line">			&#123;</div><div class="line">				test:/\.(jpg|png|svg|gif)/i,</div><div class="line">				//loader:&apos;file-loader&apos;,</div><div class="line">				//query:&#123;</div><div class="line">				//	name:&apos;assets/[name]-[hash:5].[ext]&apos;</div><div class="line">				//&#125;</div><div class="line">				//loader:&apos;url-loader&apos;,</div><div class="line">				//query:&#123;</div><div class="line">				//	limit:100000,</div><div class="line">				//	name:&apos;assets/[name]-[hash:5].[ext]&apos;</div><div class="line">				//&#125;</div><div class="line">				loaders:[</div><div class="line">					&apos;url-loader?limit=100000&amp;name=assets/[name]-[hash-5].[ext]&apos;,</div><div class="line">					&apos;image-webpack&apos;</div><div class="line">				]</div><div class="line">			&#125;</div></pre></td></tr></table></figure></p>
<h3 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a>webpack-dev-server</h3><ul>
<li>webpack-dev-server是一个小型Node.js Express服务器，它使用webpack-dev-middleware中间件来为通过wepback打包生成的资源文件提供web服务。它还有一个通过Socket.IO连接着webpack-dev-server服务器的小型运行时程序。</li>
<li>publicPath</li>
<li>启动webpack-dev-server后，目标文件中看不到编译后的文件，实时编译后的文件都保存到了内存中。</li>
</ul>
<h3 id="postcss-sprites-自动拼合图片"><a href="#postcss-sprites-自动拼合图片" class="headerlink" title="postcss-sprites 自动拼合图片"></a>postcss-sprites 自动拼合图片</h3><p>能自动拼合图片，能生成单个或多个sprites图片，并能自动输出图片的大小<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save-dev postcss-sprites</div></pre></td></tr></table></figure></p>
<p>配置如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line">var postcss = require(&apos;postcss&apos;)</div><div class="line">var postcssSprites = require(&apos;postcss-sprites&apos;)</div><div class="line">var postcssAssets = require(&apos;postcss-assets&apos;)</div><div class="line">var postcssNext = require(&apos;postcss-cssnext&apos;)</div><div class="line">var updateRule = require(&apos;postcss-sprites/lib/core&apos;).updateRule;</div><div class="line"></div><div class="line">        new webpack.LoaderOptionsPlugin(&#123;</div><div class="line">            options: &#123;</div><div class="line">                postcss:function()&#123;</div><div class="line">                    return [</div><div class="line">                        postcssAssets(&#123;</div><div class="line">                            loadPaths: [&apos;./src/images/&apos;],</div><div class="line">                            relative: true</div><div class="line">                        &#125;),</div><div class="line">                        postcssNext(&#123;//代替autoprefixer</div><div class="line">                            browsers: [&quot;&gt; 1%&quot;, &quot;last 2 version&quot;, &quot;Android &gt;= 4.0&quot;]</div><div class="line">                        &#125;),</div><div class="line">                        postcssSprites(&#123;</div><div class="line">                        //需要处理样式表的文件夹</div><div class="line">                            stylesheetPath: &apos;./src/css&apos;,</div><div class="line">                            //生成sprites图片的文件夹</div><div class="line">                            spritePath: &apos;./src/images/outputsprite&apos;,</div><div class="line">                            outputDimensions: true,</div><div class="line">                            skipPrefix: true,</div><div class="line">                            //过滤需要合并的图片</div><div class="line">                            filterBy: function(image) &#123;</div><div class="line">		                            if (!/sprite/.test(image.url)) &#123;</div><div class="line">			                              return Promise.reject();</div><div class="line">		                            &#125;</div><div class="line"></div><div class="line">		                            return Promise.resolve();</div><div class="line">	                          &#125;,</div><div class="line">                              //可以根据匹配规则，合并某组文件为一个sprites</div><div class="line">                            groupBy: function(image) &#123;</div><div class="line">                            //图片文件名中有shapes合并为一个sprite.shape.png</div><div class="line">		                            // if (image.url.indexOf(&apos;shapes&apos;) === -1) &#123;</div><div class="line">			                          //     return Promise.reject(new Error(&apos;Not a shape image.&apos;));</div><div class="line">		                            // &#125;</div><div class="line"></div><div class="line">		                            // return Promise.resolve(&apos;shapes&apos;);</div><div class="line">                                    //根据文件夹拼合一组图片，如果有/images/sprites/index   /images/sprites/login 这两个文件夹，会生成三张图片，sprites.index.png,sprites.login.png, sprites.other.png 三张图片</div><div class="line"></div><div class="line">                                let groups = /\/images\/sprites\/(.*?)\/.*/gi.exec(image.url);</div><div class="line">                                let groupName = groups ? groups[1] : &apos;other&apos;;</div><div class="line">                                image.retina = true;</div><div class="line">                                image.ratio = 1;</div><div class="line">                                if (groupName) &#123;</div><div class="line">                                    let ratio = /@(\d+)x$/gi.exec(groupName);</div><div class="line">                                    if (ratio) &#123;</div><div class="line">                                        ratio = ratio[1];</div><div class="line">                                        while (ratio &gt; 10) &#123;</div><div class="line">                                            ratio = ratio / 10;</div><div class="line">                                        &#125;</div><div class="line">                                        image.ratio = ratio;</div><div class="line">                                    &#125;</div><div class="line">                                &#125;</div><div class="line">                                return Promise.resolve(groupName);</div><div class="line">	                          &#125;,</div><div class="line">	                          hooks: &#123;</div><div class="line">                              //onUpdateRule控制输入到css的内容，下面的代码回在生成的css中带有图片的宽高</div><div class="line">		                            onUpdateRule: function(rule, token, image) &#123;</div><div class="line">			                              // Use built-in logic for background-image &amp; background-position</div><div class="line">			                              updateRule(rule, token, image);</div><div class="line"></div><div class="line">			                              [&apos;width&apos;, &apos;height&apos;].forEach(function(prop) &#123;</div><div class="line">				                                var value = image.coords[prop];</div><div class="line">				                                if (image.retina) &#123;</div><div class="line">					                                  value /= image.ratio;</div><div class="line">				                                &#125;</div><div class="line">				                                rule.insertAfter(rule.last, postcss.decl(&#123;</div><div class="line">					                                  prop: prop,</div><div class="line">					                                  value: value + &apos;px&apos;</div><div class="line">				                                &#125;));</div><div class="line">			                              &#125;);</div><div class="line">		                            &#125;</div><div class="line">	                          &#125;</div><div class="line">                        &#125;)</div><div class="line">                    ]</div><div class="line">                &#125;,</div></pre></td></tr></table></figure></p>
<h3 id="extract-text-webpack-plugin"><a href="#extract-text-webpack-plugin" class="headerlink" title="extract-text-webpack-plugin"></a>extract-text-webpack-plugin</h3><p>把样式单独打包成一个样式文件,并插入到页面中原来注入style标签的位置,对css、less、sass文件配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">var ExtractTextPlugin = require(&apos;extract-text-webpack-plugin&apos;)</div><div class="line">var ExtractTextPlugin = require(&apos;extract-text-webpack-plugin&apos;)</div><div class="line"></div><div class="line">var DeployFtpWebpackPlugin = require(&apos;./deploy.plugin&apos;);</div><div class="line">// process.traceDeprecation = true;</div><div class="line">module.exports = &#123;</div><div class="line">    entry:&apos;./src/main.js&apos;,</div><div class="line">    output:&#123;</div><div class="line">        path: path.resolve(__dirname, &apos;dist&apos;),</div><div class="line">        filename: &apos;bundle-[hash].js&apos;</div><div class="line">    &#125;,</div><div class="line">    module: &#123;</div><div class="line">        rules: [</div><div class="line">            &#123;</div><div class="line">                test:/\.js$/,</div><div class="line">                loader:&apos;babel-loader&apos;,</div><div class="line">                exclude: /node_modules/</div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                test:/\.css$/,</div><div class="line">                use: ExtractTextPlugin.extract(&#123;</div><div class="line">                    fallback: &apos;style-loader&apos;,</div><div class="line">                    use:&apos;css-loader?importLoaders=1!postcss-loader&apos;</div><div class="line">                &#125;)</div><div class="line">                // loader: &apos;style-loader!css-loader?importLoaders=1!postcss-loader&apos;</div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                test:/\.scss/,</div><div class="line">                use: ExtractTextPlugin.extract(&#123;</div><div class="line">                    fallback: &apos;style-loader&apos;,</div><div class="line">                    use: &apos;css-loader!postcss-loader!sass-loader&apos;</div><div class="line">                &#125;)</div><div class="line">                // loader:&apos;style-loader!css-loader!postcss-loader!sass-loader&apos;</div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                test:/\.(jpg|png|svg|gif)$/,</div><div class="line">                loader: &apos;url-loader&apos;,</div><div class="line">                query: &#123;</div><div class="line">                    limit:10,</div><div class="line">                    name: &apos;assets/[name]-[hash:5].[ext]&apos;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        ]</div><div class="line">    &#125;,</div><div class="line">    plugins: [</div><div class="line">        new ExtractTextPlugin(&quot;style.css&quot;),</div><div class="line">        ...</div></pre></td></tr></table></figure></p>
<h3 id="第三方库不打包处理-webpack-IgnorePlugin"><a href="#第三方库不打包处理-webpack-IgnorePlugin" class="headerlink" title="第三方库不打包处理,webpack.IgnorePlugin"></a>第三方库不打包处理,webpack.IgnorePlugin</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var ignoreFiles = new Webpack,IgnorePlugin(/\/jquery.js$/);</div><div class="line">module.exports = &#123;</div><div class="line">plugins: [ignoreFiles]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="提取多入口文件中公共的代码，打包成一个独立的文件webpack-optimize-CommonsChunkPlugin"><a href="#提取多入口文件中公共的代码，打包成一个独立的文件webpack-optimize-CommonsChunkPlugin" class="headerlink" title="提取多入口文件中公共的代码，打包成一个独立的文件webpack.optimize.CommonsChunkPlugin"></a>提取多入口文件中公共的代码，打包成一个独立的文件webpack.optimize.CommonsChunkPlugin</h3><ol>
<li>可以提取多入口文件中公共的代码<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">entry:&#123;</div><div class="line">    main:&apos;./src/main.js&apos;,</div><div class="line">    main2:&apos;./src/main2.js&apos;,</div><div class="line">    vender:Object.keys(packageJson.dependencies)</div><div class="line">&#125;,</div><div class="line">...</div><div class="line">    new webpack.optimize.CommonsChunkPlugin(&#123;</div><div class="line">        name:&apos;common&apos;,</div><div class="line">        filename:&apos;common.js&apos;,</div><div class="line">        chunks: [&apos;main&apos;, &apos;main2&apos;]</div><div class="line">    &#125;),</div><div class="line">    //最后会生成三个文件common.js main.js main2.js vender.js</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="webpack-optimize-OccurenceOrderPlugin"><a href="#webpack-optimize-OccurenceOrderPlugin" class="headerlink" title="webpack.optimize.OccurenceOrderPlugin"></a>webpack.optimize.OccurenceOrderPlugin</h4><ul>
<li>给组件分配ID，通过这个插件webpack可以分析考虑使用最多的模块，并未他们分配最小的ID<br>在webpack2中改为webpack.optimize.OcurrenceOrderPlugin,在webpack2中默认开启,不用在配置文件中写 </li>
</ul>
<p>plugins: [<br>    // webpack 1</p>
<ul>
<li>new webpack.optimize.OccurenceOrderPlugin()<br>// webpack 2</li>
<li>new webpack.optimize.OccurrenceOrderPlugin()<br>]</li>
</ul>
<h3 id="wepback-optimize-UglifyJsPlugin压缩JS代码"><a href="#wepback-optimize-UglifyJsPlugin压缩JS代码" class="headerlink" title="wepback.optimize.UglifyJsPlugin压缩JS代码"></a>wepback.optimize.UglifyJsPlugin压缩JS代码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install uglifyjs-webpack-plugin --save-dev</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><ol>
<li>配置loader时不能省略-loader</li>
<li>postcss配置报错，在webpack2中不能包含自定义配置项来配置loader，postcss用LoaderOptionsPlugin来给loader配置<br>报错信息<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">Invalid configuration object. Webpack has been initialised using a configuration object that does not match the API schema.</div><div class="line"> - configuration has an unknown property <span class="string">'postcss'</span>. These properties are valid:</div><div class="line">   object &#123; amd?, bail?, cache?, context?, dependencies?, devServer?, devtool?, entry, externals?, loader?, module?, name?, node?, output?, performance?, plugins?, profile?, recordsInputPath?, recordsOutputPath?, recordsPath?, resolve?, resolveLoader?, stats?, target?, watch?, watchOptions? &#125;</div><div class="line">   For typos: please correct them.</div><div class="line">   For loader options: webpack 2 no longer allows custom properties <span class="keyword">in</span> configuration.</div><div class="line">     Loaders should be updated to allow passing options via loader options <span class="keyword">in</span> module.rules.</div><div class="line">     Until loaders are updated one can use the LoaderOptionsPlugin to pass these options to the loader:</div><div class="line">     plugins: [</div><div class="line">       new webpack.LoaderOptionsPlugin(&#123;</div><div class="line">         // <span class="built_in">test</span>: /\.xxx$/, // may apply this only <span class="keyword">for</span> some modules</div><div class="line">         options: &#123;</div><div class="line">           postcss: ...</div><div class="line">         &#125;</div><div class="line">       &#125;)</div><div class="line">     ]</div></pre></td></tr></table></figure>
</li>
</ol>
<p>webpack2中需替换为<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> webpack.LoaderOptionsPlugin(&#123;</div><div class="line">    <span class="attr">options</span>: &#123;</div><div class="line">        <span class="attr">postcss</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> [</div><div class="line">                <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>)(&#123;</div><div class="line">                    <span class="attr">broswers</span>:[<span class="string">'last 5 version'</span>]</div><div class="line">                &#125;),</div><div class="line">                <span class="built_in">require</span>(<span class="string">'postcss-assets'</span>)(&#123;</div><div class="line">                    <span class="attr">loadPaths</span>: [<span class="string">'./src/images/'</span>],</div><div class="line">                    <span class="attr">relative</span>: <span class="literal">true</span></div><div class="line">                &#125;),</div><div class="line">                <span class="built_in">require</span>(<span class="string">"postcss-cssnext"</span>)(&#123;</div><div class="line">                    <span class="attr">browsers</span>: [<span class="string">"&gt; 1%"</span>, <span class="string">"last 2 version"</span>, <span class="string">"Android &gt;= 4.0"</span>]</div><div class="line">                &#125;),</div><div class="line">                <span class="built_in">require</span>(<span class="string">'postcss-sprites'</span>)(&#123;</div><div class="line">                    <span class="attr">stylesheetPath</span>: <span class="string">'./src/css'</span>,</div><div class="line">                    <span class="attr">spritePath</span>: <span class="string">'./src/images/sprite.png'</span>,</div><div class="line">                    <span class="attr">outputDimensions</span>: <span class="literal">true</span>,</div><div class="line">                    <span class="attr">skipPrefix</span>: <span class="literal">true</span>,</div><div class="line">                    <span class="attr">filterBy</span>: <span class="function"><span class="keyword">function</span>(<span class="params">img</span>) </span>&#123;</div><div class="line">                        <span class="keyword">return</span> <span class="regexp">/\/sp\-/</span>.test(img.url);</div><div class="line">                    &#125;,</div><div class="line">                    <span class="attr">groupBy</span>: <span class="function"><span class="keyword">function</span>(<span class="params">img</span>) </span>&#123;</div><div class="line">                        <span class="keyword">var</span> match = img.url.match(<span class="regexp">/\/(sp\-[^\/]+)\//</span>);</div><div class="line">                        <span class="keyword">return</span> match ? match[<span class="number">1</span>] : <span class="literal">null</span>;</div><div class="line">                    &#125;</div><div class="line">                &#125;)</div><div class="line">            ]</div><div class="line">        &#125;,</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/24/webpack/" data-id="cj3gznrx10014x9fyt3vtg0xl" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack/">webpack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-setTimeout" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/24/setTimeout/" class="article-date">
  <time datetime="2017-03-24T11:55:59.000Z" itemprop="datePublished">2017-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/24/setTimeout/">定时器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><p>由于JavaScript是单线程的特性，Javascript是同一时间只能执行一段代码，异步事件的处理程序，需要在线程中没有代码执行的时候才能执行,定时器的延迟时间并不按照指定的时间间隔触发。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> start = +<span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> n = <span class="number">0</span>; n &lt; <span class="number">1000</span>; n++)&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'n'</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'n is over time '</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - start);</div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'setTimeout1'</span>, <span class="string">'time '</span>, (+<span class="keyword">new</span> <span class="built_in">Date</span> - start));</div><div class="line">&#125;,<span class="number">10</span>);</div><div class="line"><span class="keyword">var</span> interval = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    count++</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'setInterval '</span>,count, <span class="string">' time '</span>, (+<span class="keyword">new</span> <span class="built_in">Date</span> - start));</div><div class="line">    <span class="keyword">if</span>(count == <span class="number">100</span>)&#123;</div><div class="line">        clearInterval(interval);</div><div class="line">    &#125;</div><div class="line">&#125;, <span class="number">10</span>);</div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'setTimeout2'</span>, <span class="string">'time '</span>, (+<span class="keyword">new</span> <span class="built_in">Date</span> - start));</div><div class="line">&#125;,<span class="number">10</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'start'</span>);</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> m = <span class="number">0</span>; m&lt; <span class="number">1000</span>; m++)&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'m'</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'m is over time'</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - start);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'end'</span>);</div><div class="line"><span class="comment">//执行结果</span></div><div class="line">n</div><div class="line"> n is over time  <span class="number">28</span></div><div class="line">start</div><div class="line">m</div><div class="line">m is over time <span class="number">50</span></div><div class="line">end</div><div class="line">setTimeout1 time  <span class="number">51</span></div><div class="line">setInterval  <span class="number">1</span>  time  <span class="number">52</span></div><div class="line">setTimeout2 time  <span class="number">52</span></div><div class="line">setInterval  <span class="number">2</span>  time  <span class="number">60</span></div><div class="line">setInterval  <span class="number">3</span>  time  <span class="number">70</span></div><div class="line">setInterval  <span class="number">4</span>  time  <span class="number">80</span></div><div class="line">setInterval  <span class="number">5</span>  time  <span class="number">90</span></div><div class="line">setInterval  <span class="number">6</span>  time  <span class="number">100</span></div><div class="line">setInterval  <span class="number">7</span>  time  <span class="number">110</span></div><div class="line">setInterval  <span class="number">8</span>  time  <span class="number">120</span></div><div class="line">setInterval  <span class="number">9</span>  time  <span class="number">130</span></div><div class="line">setInterval  <span class="number">10</span>  time  <span class="number">140</span></div><div class="line">setInterval  <span class="number">11</span>  time  <span class="number">150</span></div></pre></td></tr></table></figure></p>
<p><img src="/css/images/timer.png" alt="线程代码执行"><br>由此可以看出,异步事件发生时，就会排队，只在线程空闲的时候才执行。<br>开始启动一个10毫秒的延迟的定时器，一个10毫秒的间隔定时器<br>主线代码执行了50毫秒,在10毫秒的时候，setTimeout1,setInterval, setTimeout2应该立即执行，但是线程里还在执行主线代码，setTimeout1，setInterval, setTimeout2排队等待线程空闲。50毫秒后，主线代码执行结束，开始执行setTimeout1,setInterval,setTimeout2。<br>浏览器只对一个setInterval的实例进行排队， 没有对多个实例进行排队，后续线程中没有排队的处理程序，setInterval每隔10毫秒执行。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/24/setTimeout/" data-id="cj3gznrwp000qx9fyuwsa39hc" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-toStringValueOf" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/24/toStringValueOf/" class="article-date">
  <time datetime="2017-03-24T01:33:02.000Z" itemprop="datePublished">2017-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/24/toStringValueOf/">toString和valueOf的用法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>数值、布尔值、字符串和对象都有toString(),valueOf方法。<br>null和undefined没有这两个方法。<br>toString():返回对象的字符串表示<br>valueOf():返回对象的字符串、数值或布尔值表示。<br>在javascript中，很多操作都会在后台隐式调用对象的toString()和valueOf()方法,以便取得可操作的值。<br>内置函数和操作符的一般执行流程：首先会调用对象的valueOf方法，然后确定该方法返回的值是否可以按照相应的规则转换，如果不能，则基于这个返回值再调用toString()方法，再操作返回的字符串。</p>
<table>
<thead>
<tr>
<th>type</th>
<th>valueOf</th>
<th>toString</th>
</tr>
</thead>
<tbody>
<tr>
<td>undefined</td>
<td>无此方法</td>
<td>无此方法</td>
</tr>
<tr>
<td>null</td>
<td>无此方法</td>
<td>无此方法</td>
</tr>
<tr>
<td>boolean</td>
<td>boolean</td>
<td>“true”/“false”</td>
</tr>
<tr>
<td>string</td>
<td>string</td>
<td>string</td>
</tr>
<tr>
<td>object</td>
<td>object</td>
<td>string</td>
</tr>
<tr>
<td>Date</td>
<td>number</td>
<td>string</td>
</tr>
<tr>
<td>function</td>
<td>function</td>
<td>string</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="toString和valueOf的应用"><a href="#toString和valueOf的应用" class="headerlink" title="toString和valueOf的应用"></a>toString和valueOf的应用</h2><p>应用1：利用输入函数名，会隐式调用valueOf(),toString()方法实现add()()()…</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> result = <span class="number">0</span>;</div><div class="line">    <span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>);</div><div class="line">    args.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">        result += num;</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>);</div><div class="line">        args.push(result);</div><div class="line">        <span class="keyword">return</span> add.apply(<span class="literal">null</span>,args);</div><div class="line">    &#125;;</div><div class="line">    fn.valueOf = fn.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> fn;</div><div class="line">&#125;</div><div class="line">add(<span class="number">1</span>,<span class="number">3</span>) <span class="comment">//4</span></div><div class="line">add(<span class="number">1</span>)(<span class="number">3</span>) <span class="comment">//4</span></div><div class="line">add(<span class="number">1</span>,<span class="number">3</span>)(<span class="number">1</span>)(<span class="number">3</span>) <span class="comment">//8</span></div><div class="line"></div><div class="line"><span class="comment">//方法二，给函数添加result属性，用来保存每次计算的结果</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> args= [].slice.call(<span class="built_in">arguments</span>);</div><div class="line">    <span class="keyword">var</span> result = <span class="number">0</span>;</div><div class="line">    args.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">       result += num;</div><div class="line">    &#125;);</div><div class="line">    result += ~~add;</div><div class="line">    add.result = result;</div><div class="line">    <span class="keyword">return</span> add;</div><div class="line">&#125;</div><div class="line">add.valueOf = add.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> add.result;</div><div class="line">&#125;;</div><div class="line">add(<span class="number">1</span>,<span class="number">3</span>) <span class="comment">//4</span></div><div class="line"><span class="comment">//以后每次调用需要重置result的值</span></div><div class="line">add(<span class="number">1</span>)(<span class="number">3</span>) <span class="comment">//4</span></div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/24/toStringValueOf/" data-id="cj3gznrww000zx9fyk0kk81qd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-aliyun" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/23/aliyun/" class="article-date">
  <time datetime="2017-02-23T00:49:50.000Z" itemprop="datePublished">2017-02-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/23/aliyun/">阿里云服务器centos配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="购买ECS实例（申请香港vpc-专有网络服务器带固定公网IP-在服务器内部通过ifconfig查看不到外网网卡eth1-）"><a href="#购买ECS实例（申请香港vpc-专有网络服务器带固定公网IP-在服务器内部通过ifconfig查看不到外网网卡eth1-）" class="headerlink" title="购买ECS实例（申请香港vpc(专有网络服务器带固定公网IP,在服务器内部通过ifconfig查看不到外网网卡eth1)）"></a>购买ECS实例（申请香港vpc(专有网络服务器带固定公网IP,在服务器内部通过ifconfig查看不到外网网卡eth1)）</h2><h2 id="登录ECS实例"><a href="#登录ECS实例" class="headerlink" title="登录ECS实例"></a>登录ECS实例</h2><p>2.1登录方法：<br>2.1.1.通过阿里远程终端登录<br>管理实例-远程连接-输入远程终端密码-如果屏幕卡住，按任意键–&gt;输入用户名root，密码–&gt;成功链接到远程实例<br>2.1.2 通过PuTTY链接linux系统<br>输入公网ip-&gt;输入用户名、密码</p>
<p>##.格式化和挂载数据盘（没有购买数据盘，暂时使用系统盘）<br>df -h :查看磁盘容量的使用情况<br>fdisk -l : 查看当前磁盘的情况</p>
<h2 id="vpn服务器创建步骤"><a href="#vpn服务器创建步骤" class="headerlink" title="vpn服务器创建步骤"></a>vpn服务器创建步骤</h2><h3 id="先看看你的主机是否支持pptp，返回结果为yes就表示通过。"><a href="#先看看你的主机是否支持pptp，返回结果为yes就表示通过。" class="headerlink" title="先看看你的主机是否支持pptp，返回结果为yes就表示通过。"></a>先看看你的主机是否支持pptp，返回结果为yes就表示通过。</h3><p>modprobe ppp-compress-18 &amp;&amp; echo yes</p>
<h3 id="先更新一下再安装。"><a href="#先更新一下再安装。" class="headerlink" title="先更新一下再安装。"></a>先更新一下再安装。</h3><p>yum install update</p>
<h3 id="安装ppp和pptpd"><a href="#安装ppp和pptpd" class="headerlink" title="安装ppp和pptpd"></a>安装ppp和pptpd</h3><p>yum -y install ppp pptpd</p>
<h3 id="配置pptpd"><a href="#配置pptpd" class="headerlink" title="配置pptpd"></a>配置pptpd</h3><p>1.编辑配置文件 vi /etc/pptpd.conf<br>localip为vpn的网关地址<br>remoteip为vpn拨号获取的地址段，即在cmd里ipconfig里，ppp适配器vpn 192.168.8.2<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">localip 192.168.8.1</div><div class="line">remoteip 192.168.8.2-254</div></pre></td></tr></table></figure></p>
<p>2.编辑 vi /etc/ppp/options.pptpd,添加dns<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ms-dns 8.8.8.8</div><div class="line">ms-dns 8.8.4.4</div></pre></td></tr></table></figure></p>
<p>3.配置vpn账号和密码，编辑/etc/ppp/chap-secrets<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">username1 pptpd password1 *</div></pre></td></tr></table></figure></p>
<p>4.打开内核转发，编辑/tc/sysctl.conf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">net.ipv4.ip_forward = 1</div></pre></td></tr></table></figure></p>
<p>重启<br>sysctl -p<br>5.添加iptables转发规则,因为是专有网络的服务器，在服务器内部是看不到外网网卡eth1<br>修改/etc/sysconfig/iptables 里nat表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">*filter</div><div class="line">-A FORWARD -i ppp+ -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -j TCPMSS --set-mss 1356</div><div class="line">*nat</div><div class="line">-A POSTROUTING -s 192.168.8.0/24 -j MASQUERADE</div></pre></td></tr></table></figure></p>
<p>重启防火墙<br>service iptables save<br>service iptables restart</p>
<h3 id="服务配置"><a href="#服务配置" class="headerlink" title="服务配置"></a>服务配置</h3><p>1.重启pptpd服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service iptables restart</div></pre></td></tr></table></figure></p>
<p>2.设置pptp和iptables自启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chkconfig pptpd on</div><div class="line">chkconfig iptables on</div></pre></td></tr></table></figure></p>
<h3 id="vpn连接成功"><a href="#vpn连接成功" class="headerlink" title="vpn连接成功"></a>vpn连接成功</h3><h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><p>1.配置完成后，一直显示，无网络访问权限<br>[ 问题现象 ]<br>配置vpn后但是无法访问外网</p>
<p>[ 问题实例 ]<br>47.91.156.125</p>
<p>[ 处理意见 ]<br>目前我们检查您的主机47.91.156.125ping是正常的，您连接vpn后无法访问外网是您的配置问题导致的，具体需要您进行排查下，但是具体的您可以参考文档<a href="https://help.aliyun.com/knowledge_detail/41345.html进行核实下" target="_blank" rel="external">https://help.aliyun.com/knowledge_detail/41345.html进行核实下</a><br>按照参考文档重新设置了iptables的转发规则，成功了<br>2.用了两个安装pptpd vpn的脚本</p>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p>1.<a href="https://help.aliyun.com/knowledge_detail/41345.html" target="_blank" rel="external">https://help.aliyun.com/knowledge_detail/41345.html</a><br>3.<a href="https://blog.linuxeye.com/412.html" target="_blank" rel="external">https://blog.linuxeye.com/412.html</a></p>
<h3 id="安装FTP服务"><a href="#安装FTP服务" class="headerlink" title="安装FTP服务"></a>安装FTP服务</h3><ol>
<li>检测是否安装了FTP # rpm -q vsftpd</li>
<li>安装FTP， yum install vsftpd</li>
<li>设置为开机启动，chkconfig vsftpd on</li>
<li><p>配置ftp参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"># setsebool -P ftpd_disable_trans=1</div><div class="line"></div><div class="line">修改/etc/vsftpd/vsftpd.conf,在最后一行处添加local_root=/</div><div class="line">service vsftpd restart</div><div class="line"></div><div class="line">#mkdir /tmp/test  创建一个ftp上传时的目录</div><div class="line">//1、创建一个账号为test的账户，-s /sbin/nologin是让其不能登陆系统，-d 是指定用户目录为/tpm/test ，即该账户只能登陆ftp，却不能用做登陆系统用。</div><div class="line">#adduser -d /tmp/test  -g ftp -s /sbin/nologin test </div><div class="line"></div><div class="line">#passwd test</div><div class="line"></div><div class="line">修改/etc/vsftpd/vsftpd.conf</div><div class="line">chroot_list_enable=YES</div><div class="line">chroot_list_file=/etc/vsftpd/chroot_list</div><div class="line"></div><div class="line">新增一个文件: /etc/vsftpd/chroot_list</div><div class="line">内容写需要限制的用户名：</div><div class="line">test</div><div class="line"></div><div class="line">重新启动vsftpd</div><div class="line">#service vsftpd restart</div></pre></td></tr></table></figure>
</li>
<li><p>文件上传 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">lcd d:/frontend/baby/common2015/ </div><div class="line">cd /tmp/test/</div><div class="line">chmod -R 777 /tmp/test</div><div class="line">put project.json</div><div class="line">//可以上传一个tar.gz的压缩包，上传到服务器后，再解压缩</div></pre></td></tr></table></figure>
</li>
<li><p>文件下载</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">lcd d:/frontend/baby/common2015/ </div><div class="line">cd /tmp/test/</div><div class="line">get index.html</div></pre></td></tr></table></figure>
<p>6.客户端ftp命令行<br>win+R ftp 打卡ftp命令行<br>open 47.91.156.125 打开ftp服务器，输入用户名， 密码</p>
<p>lcd 进入客户端的文件夹<br>!dir 显示客户端当前目录的文件信息<br>cd 进入服务器的文件夹<br>dir 显示服务器端当前目录的文件信息<br>get 下载一个文件<br>mget <em>.</em> 下载当前服务器文件下的所有的文件<br>put 上传一个文件<br>mput <em>.</em> 上传全部文件，不包括文件夹<br>bye 退出ftp服务器<br>? 查看更多命令</p>
<p>7.遇到的问题</p>
<ul>
<li>文件上传的时候，遇到vsftp上传文件出现553 Could not create file，是因为/tmp/test文件夹没有读写的权限，chmod -R 777，修改上传文件夹的读写权限 </li>
<li>文件下载的时候， ftp报错 200 port command successful. consider using pasv 425 failed to establish connection，关闭客户端电脑的防火墙就好了</li>
</ul>
</li>
</ol>
<h3 id="nginx-安装步骤"><a href="#nginx-安装步骤" class="headerlink" title="nginx 安装步骤"></a>nginx 安装步骤</h3><ol>
<li><p>检查安装环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//nginx 需要gcc编译</div><div class="line">rpm -qa gcc </div><div class="line">// nginx的Rewrite和HTTP模块会哟用到PCRE</div><div class="line">rpm -qa pcre</div><div class="line">//nginx的Gzip用到zlib</div><div class="line">rpm -qa zlib</div><div class="line">rpm -qa openssl</div><div class="line">//还需要安装pcre-devel openssl-devel,不然后续编译的时候，会报错</div><div class="line">./configure: error: the HTTP rewrite module requires the PCRE library.</div><div class="line"> </div><div class="line">yum -y install pcre-devel openssl openssl-devel</div></pre></td></tr></table></figure>
</li>
<li><p>下载nginx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">//下载</div><div class="line">cd /usr/local/src</div><div class="line">wget http://nginx.org/download/nginx-1.10.3.tar.gz</div><div class="line">//解压</div><div class="line">tar -zxvf nginx-1.10.3.tar.gz</div><div class="line">//安装环境检查和安装配置</div><div class="line">cd nginx-1.10.3</div><div class="line">./configure --prefix=/usr/local/nginx</div><div class="line">//编译</div><div class="line">make</div><div class="line">//安装</div><div class="line">make install</div><div class="line">//查看安装</div><div class="line">whereis nginx</div><div class="line">//启动nginx</div><div class="line"> /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf</div><div class="line">//查看nginx进程状态</div><div class="line">ps -A | grep nginx</div><div class="line">//打开ssi</div><div class="line">server&#123;</div><div class="line">   location / &#123;</div><div class="line">   ssi on;</div><div class="line">   ssi_silent_errors on;</div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line">//重启nginx</div><div class="line">cd /usr/local/nginx/sbin</div><div class="line">./nginx -s reload</div></pre></td></tr></table></figure>
</li>
<li><p>参考链接<br><a href="http://www.cnblogs.com/heacool/p/6406664.html" target="_blank" rel="external">http://www.cnblogs.com/heacool/p/6406664.html</a><br><a href="http://williamx.blog.51cto.com/3629295/958398" target="_blank" rel="external">http://williamx.blog.51cto.com/3629295/958398</a></p>
</li>
</ol>
<h3 id="安装nodejs环境"><a href="#安装nodejs环境" class="headerlink" title="安装nodejs环境"></a>安装nodejs环境</h3><ol>
<li><p>安装nvm</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//https://github.com/creationix/nvm</div><div class="line">wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.1/install.sh | bash</div><div class="line">//打印NVM_DIR</div><div class="line">echo $NVM_DIR</div></pre></td></tr></table></figure>
</li>
<li><p>安装nodejs</p>
</li>
<li>nvm命令<ul>
<li>nvm list-remote：列出所有可安装的版本；</li>
<li>nvm install v0.12.4：安装指定版本的nodejs</li>
<li>nvm ls 查看当前已安装的版本</li>
<li>nvm use v0.12.4 切换版本</li>
<li>nvm alias default v0.12.4 设置默认版本    </li>
</ul>
</li>
<li>nodejs项目部署<br>在服务器上创建测试代码<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</div><div class="line"><span class="keyword">const</span> hostname = <span class="string">'127.0.0.1'</span>;<span class="comment">//专有网络不能填写公网ip地址</span></div><div class="line"><span class="keyword">const</span> port = <span class="number">9000</span>;</div><div class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</div><div class="line">    res.statusCode = <span class="number">200</span>;</div><div class="line">    res.end(<span class="string">'hello, this is my first test nodejs project'</span>);</div><div class="line">&#125;);</div><div class="line">server.listen(port, hostname, () =&gt; &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ol>
<p>还需要配置nginx,并重启<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">location / &#123;</div><div class="line"></div><div class="line">   proxy_pass http://127.0.0.1:9000;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="pptpd-vpn-查看当前在线用户"><a href="#pptpd-vpn-查看当前在线用户" class="headerlink" title="pptpd vpn 查看当前在线用户"></a>pptpd vpn 查看当前在线用户</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">last | grep still | grep ppp</div></pre></td></tr></table></figure>
<h3 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h3><ul>
<li>系统<br>  uname -a 查看内核/操作系统/CPU信息<br>  hostname 查看计算机名<br>  clear 清屏<br>  who 显示在线登录用户<br>  whoami 显示当前操作用户<br>  env 查看环境变量</li>
<li>资源<br>  free -m 查看内存使用量和交换区使用量<br>  df -h 查看各分区使用情况<br>  du -sh &lt;目录名&gt; 查看指定目录大小<br>  grep MemTotal /proc/meminfo 查看内存总量<br>  grep MemFress /proc/meminfo 查看空闲内存量<br>  uptime 查看系统运行时间、用户数、负载<br>  cat /proc/loadavg 查看系统负载</li>
<li><p>用户<br>  w 查看活动用户<br>  last 查看用户登录日志</p>
</li>
<li><p>进程<br>  ps -ef 查看所有进程<br>  top 动态显示当前耗费资源最多的进程信息</p>
</li>
<li>服务<br>  chkconfig –list 列出所有系统服务<br>  chkconfig –list | grep on 列出所有启动的系统服务</li>
<li>程序<br>rpm  -qa 查看所有安装的软件包</li>
</ul>
<h3 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">yum install git</div><div class="line">git --version</div><div class="line">yum remove git //卸载git</div></pre></td></tr></table></figure>
<h2 id="安装L2TP-VPN"><a href="#安装L2TP-VPN" class="headerlink" title="安装L2TP VPN"></a>安装L2TP VPN</h2><p>wget <a href="https://git.io/vpnsetup-centos" target="_blank" rel="external">https://git.io/vpnsetup-centos</a> -O vpnsetup.sh &amp;&amp; sudo sh vpnsetup.sh<br>IPsec PSK: eRc…<br>// 添加VPN账号<br>/etc/ppp/chap-secrets</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/23/aliyun/" data-id="cj3gznrvy0000x9fyuxgwjnre" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Server/">Server</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-git-mutilssh" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/21/git-mutilssh/" class="article-date">
  <time datetime="2017-02-21T01:01:46.000Z" itemprop="datePublished">2017-02-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/21/git-mutilssh/">git生成多个ssh配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ssh是一种网络协议，用于计算机之间的加密登录。</p>
<h3 id="github-生成ssh-key"><a href="#github-生成ssh-key" class="headerlink" title="github 生成ssh key"></a>github 生成ssh key</h3><ol>
<li>账户setting/SSH and GPG keys<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa -b 4096 -C &quot;hollymarong@example.com&quot;</div><div class="line">//输入两次密码</div><div class="line">enter password twice</div><div class="line">//打开ssh-agent</div><div class="line">eval &quot;$(ssh-agent -s)&quot;</div><div class="line">//在ssh-agent中添加SSH key</div><div class="line"> ssh-add ~/.ssh/id_rsa</div><div class="line">//复制ssh key，并在github账户中添加ssh key</div><div class="line">clip &lt; ~/.ssh/id_rsa.pub</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="gitlab-生成ssh-key"><a href="#gitlab-生成ssh-key" class="headerlink" title="gitlab 生成ssh key"></a>gitlab 生成ssh key</h3><ol>
<li>账户setting/SSH  Keys<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa -C &quot;marong@corp.netease.com&quot;</div><div class="line">//重命名文件~/.ssh/id_rsa_netease_nex，不要覆盖~/.ssh/id_rsa</div><div class="line">//输入两次密码</div><div class="line">enter password twice</div><div class="line">//打开ssh-agent</div><div class="line">eval &quot;$(ssh-agent -s)&quot;</div><div class="line">//在ssh-agent中添加SSH key</div><div class="line"> ssh-add ~/.ssh/id_rsa_netease_nex</div><div class="line">//复制ssh key，并在github账户中添加ssh key</div><div class="line">clip &lt; ~/.ssh/id_rsa_netease_nex.pub</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="在-ssh文件夹中，新建config文件"><a href="#在-ssh文件夹中，新建config文件" class="headerlink" title="在~/.ssh文件夹中，新建config文件"></a>在~/.ssh文件夹中，新建config文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">//新建config文件</div><div class="line">touch config</div><div class="line">//配置config文件</div><div class="line">#  github user(marong@corp.netease.com)  netease nex</div><div class="line">Host gitlab.ws.netease.com</div><div class="line">User marong</div><div class="line">IdentityFile ~/.ssh/id_rsa_netease_nex</div><div class="line"></div><div class="line"># Default github user(hollymarong@gmail.com)  默认配置，一般可以省略</div><div class="line">Host github.com</div><div class="line">User hollymarong</div><div class="line">Identityfile ~/.ssh/id_rsa</div></pre></td></tr></table></figure>
<h3 id="检测ssh是否配置成功"><a href="#检测ssh是否配置成功" class="headerlink" title="检测ssh是否配置成功"></a>检测ssh是否配置成功</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ssh -T git@github.com</div><div class="line">//Hi hollymarong! You&apos;ve successfully authenticated, but GitHub does not provide shell access.</div><div class="line">ssh -T git@gitlab.ws.netease.com</div><div class="line">//ssh: connect to host gitlab.ws.netease.com port 22: Connection refused,提示连接不上，是权限的问题，不影响具体项目</div></pre></td></tr></table></figure>
<h3 id="git-bash-客户端的问题"><a href="#git-bash-客户端的问题" class="headerlink" title="git bash 客户端的问题"></a>git bash 客户端的问题</h3><p>配置后以上之后，如果gitbash 出现error 证书的问题，这时候卸载git bash 重新安装之后就能拉取项目了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/21/git-mutilssh/" data-id="cj3gznrwf000bx9fyk4jszma7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-emacs-command" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/27/emacs-command/" class="article-date">
  <time datetime="2016-12-27T02:47:18.000Z" itemprop="datePublished">2016-12-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/27/emacs-command/">emacs-command</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="info"><a href="#info" class="headerlink" title="info"></a>info</h3><ul>
<li>M-x info(C-h i) –&gt;  Emacs lisp Intro</li>
</ul>
<h2 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h2><ul>
<li>eshell</li>
</ul>
<h2 id="Magit"><a href="#Magit" class="headerlink" title="Magit"></a>Magit</h2><ul>
<li>Magit is a full Git interface</li>
</ul>
<h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><ul>
<li>Ctrl-H t  Built in Tutorial</li>
<li>Ctrl-x Ctrl-c  退出ecma</li>
<li>Ctrl-v 翻到下一页</li>
<li>Alt-v 翻到上一页</li>
<li>Ctl-l 光标所在行的文字移动到中间，再次输入，移动到顶端，再次输入，移动到底端</li>
<li>Ctrl-p 上一行</li>
<li>Ctrl-n 下一行</li>
<li>Ctrl-f 向右移动</li>
<li>Ctrl-b 向左移动</li>
<li>M-f  对英文以单词为单位向右移动，对中文以标点符号为单位向右移动</li>
<li>M-b 对英文以单词为单位向左移动，对中文以标点符号为单位向左边移动</li>
<li>Ctrl-a 移动到一行的头部</li>
<li>Ctrl-e 移动到一行的尾部</li>
<li>M-a 移动到一句的头部</li>
<li>M-e 移动到一句的尾部</li>
<li>M-&lt; 将光标移动到头部(Alt-Shift-&lt;)</li>
<li>M-&gt; 将光标移动到尾部(Alt-Shift-&gt;)</li>
<li>Ctrl-u-数字 Ctrl-f 将光标向右移动8个单词 </li>
<li>Ctrl-u-8 m  –在当前光标下输入8个m</li>
<li>Ctrl-g 用来终止命令   </li>
<li>Ctrl-/|Ctrl_(Ctrl) 撤销命令</li>
<li>Ctrl-d 删除贯标后的一个字符</li>
<li>M-d 删除贯标后的一个单词</li>
<li>M-del 删除光标前的一个单词</li>
<li>del 删除高标前的一个字符</li>
<li>Ctrl-k  移除从光标到行尾的字符</li>
<li>M-k 移除从光标到行尾的字符</li>
<li>Ctrl-@  移动到要删除的字符处 Ctrl+w</li>
<li>Ctrl-y  粘贴</li>
<li>C-h k C-p  在新视图中查看命令的详细说明</li>
<li>C-h f 函数名 解释一个函数名</li>
<li>C-h k 按键  查看快捷键</li>
<li>C-h v </li>
</ul>
<h2 id="窗口"><a href="#窗口" class="headerlink" title="窗口"></a>窗口</h2><ul>
<li>Ctrl-x-1  只保留一个窗口</li>
<li>Ctrl-x-2  将屏幕垂直划分成两个窗格，光标停留在上方的窗格</li>
</ul>
<h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><ul>
<li>Ctrl-x Ctrl-f 查找文件</li>
<li>Ctrl-x Ctrl-s 存储文件</li>
<li>创建新文件的方法，就是查找一个不存在的文件，然后保存</li>
<li>Ctrl-x Ctrl-b 列出缓冲区</li>
<li>Ctrl-x b+缓冲区的名字（按tab自动补全）  跳转到之前编辑的文件</li>
<li>Ctrl-x s 保存多个缓冲区</li>
<li>Ctrl-z 暂时离开emacs,不杀死emacs的进程</li>
<li>Ctrl-s 向前搜索</li>
<li>Ctrl-r 向后搜索</li>
<li>M-x kill-buffer 从buffer list删除buffer文件</li>
<li>M-x ibuffer 显示buffer list , D 删除buffer</li>
<li>C-x C-e 执行lisp语句</li>
</ul>
<h3 id="批量重命名文件"><a href="#批量重命名文件" class="headerlink" title="批量重命名文件"></a>批量重命名文件</h3><ul>
<li>C-x C-j 打开当前文件所在目录 Dired模式</li>
<li>Shift+6 跳转到上级目录</li>
<li>C-; iedit模式在dired模式下快捷键失效，启用重新绑定的M-s e</li>
<li>C-x C-q 进入到dired模式的Editable编辑模式–&gt;C-=(选中要重命名的文件)–&gt;M-s e(同时编辑)-C-c C-c(编辑完成保存)</li>
<li>C-c Esc 退出修改</li>
</ul>
<h3 id="搜索和替换"><a href="#搜索和替换" class="headerlink" title="搜索和替换"></a>搜索和替换</h3><ul>
<li>search speed:ag(Linux)&gt;pt(所有平台)&gt;ack&gt;grep</li>
<li>helm-ag 安装 </li>
<li>M-x helm-do-ag-project-root &lt;字段 !需要屏蔽的字段&gt; –&gt; C-c C-e (打开buffer 能直接编辑搜索出的结果)</li>
<li>C-c p s 快捷键绑定搜索</li>
<li>C-c c-k 取消</li>
</ul>
<h3 id="helm-ag"><a href="#helm-ag" class="headerlink" title="helm-ag"></a>helm-ag</h3><ul>
<li>搜索工具，linux下工具，在windows下需要Cygwin工具</li>
<li>用babun安装,编译完成后把ag.exe放到bin下，添加环境变量<br>C:\Users\marong.babun\cygwin\bin<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$pact install libpcre-devel</div><div class="line">$pact install liblzma-devel</div><div class="line"></div><div class="line">$git clone https://github.com/ggreer/the_silver_searcher.git</div><div class="line"></div><div class="line">$cd the_silver_searcher</div><div class="line">$./build.sh</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="imenu"><a href="#imenu" class="headerlink" title="imenu"></a>imenu</h3><ul>
<li>M-x imenu 列出函数列表，能列出lisp，不能列出js函数列表</li>
<li>M-x counsel-imenu  能列出js函数列表</li>
<li>M-s i：列出函数列表，调用counsel-imenu</li>
</ul>
<h3 id="flycheck-代码检查"><a href="#flycheck-代码检查" class="headerlink" title="flycheck 代码检查"></a>flycheck 代码检查</h3><ul>
<li>只对js文件进行代码检查,windows系统不好用</li>
<li>安装过程玩后报错require let-alist not　provided,在elpa文件下有let-alist的包，最后发现let-alist.el文件没有内容，卸载后重新下载后，flycheck能用了</li>
<li><p>M-x flycheck-verify-setup</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(add-hook &apos;js2-mode-hook &apos;flycheck-mode)</div></pre></td></tr></table></figure>
</li>
<li><p>M-x flycheck-list-errors 开启一个新的buffer来展示错误，在buffer具体错误上回车，可以跳转到相应的代码</p>
</li>
</ul>
<h3 id="evil-安装过程遇到的问题"><a href="#evil-安装过程遇到的问题" class="headerlink" title="evil 安装过程遇到的问题"></a>evil 安装过程遇到的问题</h3><ul>
<li>安装evil后报错提示undo-tree goto-chg两个package未安装，分别安装两个packages</li>
<li>M-x evil-mode找不到evil模式，重新卸载M-x package-list-packages –&gt; d –&gt; x 卸载之后，重新安装后，就能打开evil模式了</li>
</ul>
<h3 id="yasnippet"><a href="#yasnippet" class="headerlink" title="yasnippet"></a>yasnippet</h3><ul>
<li>可以自定义</li>
<li>al Tab —&gt; alert</li>
<li>f Tab —&gt; function</li>
<li>com Tab —&gt; /<em> </em>/</li>
<li>log  Tab —&gt; console.log</li>
</ul>
<h3 id="auto-yasnippet"><a href="#auto-yasnippet" class="headerlink" title="auto-yasnippet"></a>auto-yasnippet</h3><ul>
<li>M-x aya-create</li>
<li>M-x aya-expand<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(add-to-list~AAA path~AAA name~AAA)</div><div class="line">M-x aya-create</div><div class="line">M-x aya-expand</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h2><ul>
<li>Ctrl—x text-mode</li>
<li>M-x fundamental-mode 缺省模式</li>
<li>M-x auto-fill-mode 自动换行模式</li>
<li>设置自动换行边界数字：Ctrl-u 70 Ctrl-x f</li>
<li>M-x linum-mode 设置行号</li>
<li>M-x recentf-mode 该模式保存最近打开的文件</li>
</ul>
<h3 id="Org-Mode"><a href="#Org-Mode" class="headerlink" title="Org Mode"></a>Org Mode</h3><ul>
<li>Tab 展开/关闭</li>
<li>C-c C-t Todo/Done/None切换</li>
<li>M-Return 自动排序号</li>
<li>&lt;s Tab 自动补全 #+BEGIN_SRC #+END_SRC</li>
<li>C-c C-s 设置日程开始时间</li>
<li>C-c C-s 设置日程结束时间</li>
<li>C-c C-c 保存</li>
<li>C-x C-e 导出html/LaTex(PDF)格式 –&gt; ho(导出html，并打开)</li>
<li>M-x org-capture –&gt;t–&gt;新建TODO事项</li>
<li>C-c a s  搜索日程</li>
</ul>
<h3 id="org-pomodoro"><a href="#org-pomodoro" class="headerlink" title="org-pomodoro"></a>org-pomodoro</h3><ul>
<li>时间管理工具</li>
<li>安装完成后需要require</li>
<li>在gtd.org里C-c a –&gt;打开agenda–&gt; 在一个gtd里输入M-x org-pomodoro—&gt;在状态栏里就能看到时间管理</li>
</ul>
<h3 id="Occur模式"><a href="#Occur模式" class="headerlink" title="Occur模式"></a>Occur模式</h3><ul>
<li>搜索模式</li>
<li>M-s o &lt;搜索内容&gt;</li>
<li>回车跳转到搜索的地方</li>
<li>C-x o在搜索的buffer和popwin之间切换</li>
<li>M-x occur-edit-mode(e)  能直接在搜索结果里进行修改</li>
<li>增强occurmode，M-s o能直接抓取光标所在的单词，或选中的字段</li>
</ul>
<h3 id="web-mode"><a href="#web-mode" class="headerlink" title="web-mode"></a>web-mode</h3><ul>
<li>M-x customize-group –&gt; web-mode –&gt; 定制</li>
<li>C-h v web-mode-markup-indent-offset 查看html 当前缩进值</li>
<li>C-c t i 切换当前缩进值2/4</li>
<li>C-M \ 整个buffer缩进</li>
<li>M-; toggle 注释</li>
</ul>
<h3 id="js2-refactor"><a href="#js2-refactor" class="headerlink" title="js2-refactor"></a>js2-refactor</h3><ul>
<li>提取函数:选中重构的函数，C-c C-m –&gt; ef</li>
<li>提取方法函数：C-c C-m –&gt; em</li>
<li>提取本地变量为函数参数： C-c C-m –&gt; ip</li>
<li>提取函数参数为函数内变量： C-c C—m –&gt;lp</li>
</ul>
<h3 id="Dired模式"><a href="#Dired模式" class="headerlink" title="Dired模式"></a>Dired模式</h3><ul>
<li>Dired模式下可以拷贝、删除、重命名文件</li>
</ul>
<ul>
<li>C-x d &lt;文件&gt; 显示制定文件夹下文件详情 大小、时间等</li>
<li><ul>
<li>创建文件夹和文件，回车进入新建的文件夹里    </li>
</ul>
</li>
<li>C-x C-f : create file</li>
<li>g: refresh dired buffer</li>
<li>C: copy file  </li>
<li>D: delete file</li>
<li>d: mark delete file </li>
<li>u: cancle mark </li>
<li>x: execute</li>
<li>R: rename filename<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//能打开当文件所在的目录C-x C-j</div><div class="line">(required &apos;dired-x)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="expand-region"><a href="#expand-region" class="headerlink" title="expand-region"></a>expand-region</h3><ul>
<li>C-= 能选中光标所在单词，按=逐级往外扩展选中</li>
</ul>
<h3 id="iedit"><a href="#iedit" class="headerlink" title="iedit"></a>iedit</h3><ul>
<li>M-x iedit-mode 定位光标所在的单词，同时编辑多个区域</li>
<li>C-; 绑定的快捷键 多编辑toggle</li>
<li>M-s o (搜索内容) -&gt; e 进入过occur编辑模式 —&gt;C-=(expand-region) 选中要编辑单词 -&gt; M-s e 编辑多个区域</li>
</ul>
<h3 id="evil"><a href="#evil" class="headerlink" title="evil"></a>evil</h3><ol>
<li>vim 80% 的功能</li>
<li>the difference between Normal and Emacs state<ul>
<li>C-u vim中向上翻页 Emacs中Universal args， 设置之后Ctrl-u/d 可以上下翻页了</li>
</ul>
</li>
<li>evil state<ul>
<li>evil normal state</li>
<li>evil insert state</li>
<li>evil visual state</li>
<li>evil motion state</li>
<li>evil operator state</li>
</ul>
</li>
<li>C-z(M-x evil-emacs-state) toggle between Normal and Emacs state</li>
</ol>
<h3 id="evil-leader"><a href="#evil-leader" class="headerlink" title="evil-leader"></a>evil-leader</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(evil-leader/set-key</div><div class="line">  &quot;e&quot; &apos;find-file</div><div class="line">  &quot;b&quot; &apos;switch-to-buffer</div><div class="line">  &quot;k&quot; &apos;kill-buffer)</div></pre></td></tr></table></figure>
<h3 id="window-numbering"><a href="#window-numbering" class="headerlink" title="window-numbering"></a>window-numbering</h3><ul>
<li>M-<num> 窗口跳转</num></li>
</ul>
<h3 id="powerline"><a href="#powerline" class="headerlink" title="powerline"></a>powerline</h3><ul>
<li>增强mode-bar</li>
</ul>
<h3 id="evil-surround"><a href="#evil-surround" class="headerlink" title="evil-surround"></a>evil-surround</h3><ul>
<li>viw S “|’ 给单词加上双引号</li>
<li>cs ‘“ 把单引号换成双引号</li>
<li>cs “(  把双引号换成括号，如果按9上的(会有空格</li>
<li>cs “) 把双引号换成括号，如果按0上的）不会有空格</li>
</ul>
<h3 id="evil-nerd-commenter"><a href="#evil-nerd-commenter" class="headerlink" title="evil-nerd-commenter"></a>evil-nerd-commenter</h3><ul>
<li>M;  注释切换</li>
<li>V jk –&gt; M;</li>
<li>gv 选择上次选中的区域，M; –&gt;取消注释</li>
</ul>
<h3 id="use-package"><a href="#use-package" class="headerlink" title="use-package"></a>use-package</h3><ul>
<li>更安全的require<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">  ;;  会报错</div><div class="line">  (require &apos;xxx)  </div><div class="line">  ;; 不会报错</div><div class="line">(use-package xxx)</div></pre></td></tr></table></figure>
</li>
</ul>
<p>###spacemacs</p>
<ul>
<li>直接glone 到d:/Emacs24.4/.emacs.d目录</li>
<li>安装初始化选项，在安装的过程中</li>
<li>spc+f+j 打开当前文件所在的目录</li>
<li>spc+qq 退出emacs</li>
<li>SPC-b-f  在finder中打开文件</li>
<li>SPC-f-e-R  安装包</li>
<li>SPC-f-e-d 打开.spacemacs.d/init.el</li>
<li>SPC-f-e-i 打开.emacs.d/init.el</li>
<li>SPC-f-e-r 安装包</li>
<li>SPC-h-SPC <layer> 查看layer安装的packages</layer></li>
<li>Ctrl-s 搜索</li>
<li>M-x (SPC-SPC)命令</li>
<li>C-h f查看lisp函数定义的文档</li>
<li>C-h v查看lisp的变量</li>
<li>C-h C-f 查看函数</li>
<li>SPC-s-j 查看函数列表文件</li>
<li>SPC-h-l  查看安装的elpa package文件</li>
<li>SPC-h-r 查看spacemacs全部文档</li>
<li>SPC-h-R 查看spacemacs 安装包的文档</li>
<li>SPC-f-f find file</li>
<li>SPC-f-j dired mode</li>
<li>SPC-o-y  有道搜索单词</li>
<li>,-d-m-e 展开宏函数,q退出宏函数</li>
<li>SPC-<num> 窗口间的跳转</num></li>
<li>SPC-w-d 删除打开的窗口</li>
<li>SPC-p-f 查找项目下的文件</li>
<li>SPC-f-f　查找当前项目下的文件夹</li>
<li>SPC-f-L  查找本地文件</li>
<li>SPC-J-= 格式化全文</li>
<li>C-h 返回上级目录</li>
</ul>
<ul>
<li>insert 模式下<ul>
<li>C-a 移动到行首</li>
<li>C-w 移动到行尾</li>
</ul>
</li>
</ul>
<h3 id="spacemacs-文件操作"><a href="#spacemacs-文件操作" class="headerlink" title="spacemacs 文件操作"></a>spacemacs 文件操作</h3><ul>
<li>SPC-p-f 查找当前文件下的目录</li>
<li>SPC-f-L 查找整个系统的文件</li>
<li>SPC-f-l</li>
<li>SPC-f-o 使用外部程序打开文件</li>
<li>SPC-f-E sudo-edit 以root权限编辑文件host</li>
<li>SPC-f-d 删除当前文件及buffer</li>
<li>SPC-f-j 打开当前buffer的dired目录</li>
<li>SPC-f-r　打开当前常用的文件</li>
<li>SPC-f-R 重命名当前文件</li>
<li>SPC-f-v 给当前项目设置lisp的变量</li>
<li>SPC-f-y 查看当前buffer的路径并复制</li>
<li>SPC-f-e-d 打开/.spacemacs.d/init.el文件</li>
<li>SPC-f-e-i 打开/.emacs.d/init.el 文件</li>
<li>SPC-f-c copy file</li>
<li>SPC-f-b　jump bookmark</li>
<li>SPC-f-s 保存当前buffer</li>
<li>SPC-f-S 保存所有的buffer</li>
</ul>
<h3 id="spacemacs-buffer-操作"><a href="#spacemacs-buffer-操作" class="headerlink" title="spacemacs buffer 操作"></a>spacemacs buffer 操作</h3><ul>
<li>SPC-b-. 显示buffer操作提示n/p切换buffer</li>
<li>SPC-b-b 查找buffer</li>
<li>SPC-b-d 删除buffer<h4 id="spacemacs-创建自己的layer"><a href="#spacemacs-创建自己的layer" class="headerlink" title="spacemacs 创建自己的layer"></a>spacemacs 创建自己的layer</h4></li>
</ul>
<h3 id="2048game"><a href="#2048game" class="headerlink" title="2048game"></a>2048game</h3><ul>
<li>C-z  切换Normal–&gt; Emacs state</li>
</ul>
<h3 id="Tips-and-Tricks"><a href="#Tips-and-Tricks" class="headerlink" title="Tips and Tricks"></a>Tips and Tricks</h3><ul>
<li>Use “Search” instead of cursor movement</li>
</ul>
<ul>
<li>Ctrl-S and word to jump to </li>
<li>Alt-N to jump to same word cursor is on</li>
<li>F13 to jump to a character </li>
</ul>
<ul>
<li>Repeat a command with a prefixed number, i.e.<ul>
<li>Alt-9 Alt-B to jump back 9 words</li>
<li>Ctrl-5 Ctrl-P to jump up 5 lines</li>
<li>linum-relative mode is helpful</li>
</ul>
</li>
</ul>
<h3 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h3><ul>
<li>Evil:EvilVim 模拟器</li>
<li>Options/Manage Emacs Packages/Company/install<ul>
<li>安装完成之后，在文件中开启M-x company-mode 打开自动补全功能 M-n M-p上下选择要补全的内容</li>
<li>M-x global-company-mode 打开的任何文件都会自动补全</li>
</ul>
</li>
<li>换color theme <ul>
<li>M-x load-theme monokai</li>
</ul>
</li>
</ul>
<h2 id="packages"><a href="#packages" class="headerlink" title="packages"></a>packages</h2><ul>
<li>M-x package-list-packages === Options/Manage Emacs Packages(因为init.el中添加了melpa源，packagelist 里有3000多个包)</li>
<li>选择要安装的包，光标放在要安装的包上，i</li>
<li>取消选择包，光标放在要取消的包上，u</li>
<li>搜索包，C-s 包名</li>
<li>选择要删除的包，光标放在要删除的包上，d</li>
<li>执行命令，x</li>
<li>更新所有的packages, U</li>
</ul>
<h3 id="custorm-group"><a href="#custorm-group" class="headerlink" title="custorm-group"></a>custorm-group</h3><ul>
<li>修改插件配置<ul>
<li>M-x customize-group</li>
<li>js2-mode</li>
<li>external-varialable 点击向下的箭头</li>
<li>修改颜色为darkgrey</li>
<li>点击state -&gt; Save for future sessions</li>
<li>q 退出 </li>
<li>未定义的js变量为灰色</li>
<li>在init.el 最后面，多了一行<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(custom-set-faces</div><div class="line">    &apos;(js2-external-variable ((t (:foreground &quot;dark gray&quot;))))</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="nodejs-repl"><a href="#nodejs-repl" class="headerlink" title="nodejs-repl"></a>nodejs-repl</h3><p>M-x nodejs-repl<br>,sb 运行当前buffer的代码</p>
<h3 id="smex-安装步骤"><a href="#smex-安装步骤" class="headerlink" title="smex 安装步骤"></a>smex 安装步骤</h3><ul>
<li>在d:/Emacs24.4/.emacs.d/init.el中包列表中加入smex</li>
<li>增加M-x的插件，C-s切换选项<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//加载</div><div class="line">(require &apos;smex) ; Not needed if you use package.el</div><div class="line">(smex-initialize) ; Can be omitted. This might cause a (minimal) delay</div><div class="line">                  ; when Smex is auto-initialized on its first run.</div><div class="line">//配置快捷键</div><div class="line">(global-set-key (kbd &quot;M-x&quot;) &apos;smex)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="swiper-插件的安装"><a href="#swiper-插件的安装" class="headerlink" title="swiper 插件的安装"></a>swiper 插件的安装</h3><ul>
<li>在d:/Emacs24.4/.emacs.d/init.el中包列表中加入swiper</li>
<li>配置完快捷键后，发现与counsel有关的函数不能执行</li>
<li>用M-x package-list-packages 重新安装的counsel</li>
</ul>
<h2 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h2><p>– emacs –debug-init<br>– emacs -Q<br>    – 这样Emacs就不会加载任何配置文件， 你可以对比Emacs默认的行为来判断是否真的是因为配置文件引起的问题。</p>
<h2 id="mac-下安装步骤"><a href="#mac-下安装步骤" class="headerlink" title="mac 下安装步骤"></a>mac 下安装步骤</h2><p>brew install emacs –with-cocoa –with-gnutls<br>ln -s /usr/local/Cellar/emacs/25.3/Emacs.app /Applications </p>
<h2 id="windows下安装步骤"><a href="#windows下安装步骤" class="headerlink" title="windows下安装步骤"></a>windows下安装步骤</h2><ul>
<li>到这个网址可以下载到Emacs的windows版本：<a href="http://ftp.gnu.org/pub/gnu/emacs/windows/" target="_blank" rel="external">http://ftp.gnu.org/pub/gnu/emacs/windows/</a></li>
<li>双击bin文件夹里的addpm.exe进行安装</li>
<li>在D创建文件夹Emacs24.4</li>
<li><ul>
<li>为了方便全局调用，请添加bin路径到环境变量（比如我的，D:\Emacs24.4\bin）。</li>
</ul>
</li>
<li><p>在cmd里，输入emacs -nw，以终端模式来运行emacs；只输入emacs，以GUI模式来运行</p>
</li>
<li><p>启动emacs，用鼠标点击Options菜单，随便点击一两个选项，比如点击一下Active Region Highlighting，然后点击Save Options,这样做的目的是让emacs自动创建.emacs.d目录以及.emacs文件</p>
</li>
<li>在Emacs窗口的最后一行，显示Wrote C:\Users\marong\AppData\Roaming.emacs</li>
</ul>
<h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><ul>
<li>windows 下flycheck不太兼容</li>
<li><p>tern libray　not found </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//window 下</div><div class="line">npm install -g tern</div></pre></td></tr></table></figure>
</li>
</ul>
<p>macos ，在.spacemacs.d/init.el的user-init里添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(setenv &quot;PATH&quot; (concat (getenv &quot;PATH&quot;) &quot;:/Users/marong/.nvm/versions/node/v7.10.0/bin&quot;))</div><div class="line">(setq exec-path (append exec-path &apos;(&quot;/Users/marong/.nvm/versions/node/v7.10.0/bin&quot;)))</div></pre></td></tr></table></figure></p>
<h3 id="国内镜像"><a href="#国内镜像" class="headerlink" title="国内镜像"></a>国内镜像</h3><ul>
<li>用清华的镜像稳定一点，elpachina不太稳定<br>1.popkit<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(setq package-archives</div><div class="line">          &apos;((&quot;popkit&quot; . &quot;http://elpa.popkit.org/packages/&quot;)))</div></pre></td></tr></table></figure>
</li>
</ul>
<p>2.elpachina<br><a href="http://elpa.emacs-china.org/" target="_blank" rel="external">http://elpa.emacs-china.org/</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(setq package-archives &apos;((&quot;gnu&quot;   . &quot;http://elpa.emacs-china.org/gnu/&quot;)</div><div class="line">                         (&quot;melpa&quot; . &quot;http://elpa.emacs-china.org/melpa/&quot;)))</div></pre></td></tr></table></figure></p>
<h3 id="elisp-emacs-lisp"><a href="#elisp-emacs-lisp" class="headerlink" title="elisp(emacs lisp)"></a>elisp(emacs lisp)</h3><ul>
<li>写elisp </li>
</ul>
<ul>
<li>导航栏里/Buffers/<em>scratch</em>   默认开启Lisp Interaction mode</li>
</ul>
<ul>
<li>一般计算表达</li>
</ul>
<ul>
<li>输入(+ 2 2)  — C-x C-e  在最下面提示4</li>
<li>输入;2 +3*4 回车之后 输入内容居中 </li>
<li>C-h m  查看当前模式 内容居中的原因是开启了electric-indent mode</li>
<li>M-x electric-indent-mode 关闭该模式</li>
<li>重新输入; 2 + 3 * 4 — 分号是注释的意思</li>
<li>(+ 2 (* 3 4)  —&gt;C-x C-e  —&gt;结果14</li>
</ul>
<ul>
<li>设置变量</li>
</ul>
<ul>
<li>设置变量(setq my-name “marong”) C-x C-e</li>
<li>输出变量(message my-name) C-x C-e</li>
</ul>
<ul>
<li>设置函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">(defun my-func()   //没有变量</div><div class="line">    //定义成交互式函数，就能M-x my-func</div><div class="line">    (interactive)</div><div class="line">    (message &quot;hello, %s&quot; my-name))  //%s加上是为了输入my-name</div><div class="line">(my-func)</div><div class="line"></div><div class="line">//为my-func函数执行绑定快捷键</div><div class="line">(global-set-key (kbd &quot;&lt;f2&gt;&quot;) &apos;my-func)</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>M-x eval-buffer 执行整个buffer文件<h3 id="macro"><a href="#macro" class="headerlink" title="macro"></a>macro</h3></li>
</ul>
<ul>
<li>可以生成代码的代码</li>
</ul>
<h3 id="markdown编辑"><a href="#markdown编辑" class="headerlink" title="markdown编辑"></a>markdown编辑</h3><p>1.markdown中写表格|name|age|gender -&gt;回车 -&gt;生成表格<br>2.Tab 切换表格单元格<br>3.Shfit-Tab 切换到上一个单元格</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/27/emacs-command/" data-id="cj3gznrwg000dx9fyat99opi8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Emacs/">Emacs</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-vim-command" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/13/vim-command/" class="article-date">
  <time datetime="2016-11-13T02:47:25.000Z" itemprop="datePublished">2016-11-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/13/vim-command/">vim-command</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="gvim-配置环境变量"><a href="#gvim-配置环境变量" class="headerlink" title="gvim 配置环境变量"></a>gvim 配置环境变量</h3><p>PATH：添加上D:\Program Files\Vim\vim80<br>在cmd/GitBash 中输入gvim [文件]，在gvim中打开</p>
<ul>
<li>gvim deps.html +30 打开文件之后，光标定位在30行</li>
</ul>
<h3 id="normal模式"><a href="#normal模式" class="headerlink" title="normal模式:"></a>normal模式:</h3><ul>
<li>w 以单词为单位的移动，移动到下一个单词的首字母</li>
<li>b 以单词为单位的后退，后退到上一个单词的首字母</li>
<li>e 以单位为单位的移动，移动到下一个单词的尾字母</li>
<li>ge 以单词为单位的移动，移动到上一个单词的尾字母</li>
<li>cw 从光标到这个单词的结尾，并进入插入模式，c表示更改</li>
<li>cc 将一行替换为想替换的文本</li>
</ul>
<h3 id="Visual模式"><a href="#Visual模式" class="headerlink" title="Visual模式:"></a>Visual模式:</h3><ul>
<li>v—&gt;h/l移动选择—d&gt;删除</li>
<li>使用标记<ul>
<li>``  以G为命令的跳转，会记得起跳的位置</li>
<li>Ctrl+o o:older 回到之前操作的地方</li>
<li>Ctrl+i  回到后来停置光标的位置</li>
<li>:jumps 列出曾经跳转位置的列表，&gt;为最后一个跳转的位置</li>
<li>m{a-z}  可以自己定义标记的名字</li>
<li>`{a-z} 跳会自己定义标记的地方</li>
<li>V-j-j-&lt;||&gt;    5&gt;&gt; || 5&lt;&lt; (normal  模式下缩进)  选择多行并缩进</li>
</ul>
</li>
</ul>
<h3 id="替换模式："><a href="#替换模式：" class="headerlink" title="替换模式："></a>替换模式：</h3><ul>
<li>r 替换当前光标下的字符</li>
<li>R 进入替换模式，按Esc退出替换模式</li>
</ul>
<h3 id="命令行模式下-Esc"><a href="#命令行模式下-Esc" class="headerlink" title="命令行模式下(Esc):"></a>命令行模式下(Esc):</h3><p>:version 查看vim的版本<br>j:光标向下移动<br>k:光标向上移动<br>h:光标向右移动<br>l:光标向左移动<br>w:以单词为单位移动：<br>ctrl+F:向下翻一页<br>ctrl+B:向上翻一页<br>ctrl+D:向下翻半页<br>ctrl+U:向上翻半页<br>ctrl+E:增加底部行数，方便查看底部代码<br>zt：滚动至屏幕顶端<br>zb：滚动至屏幕底端<br>zz：滚动至屏幕中间<br>:w [path]:保存文件到指定路径 :w Desktop/hellowvim.html(保存到桌面文件)<br>G:跳转到文件尾<br>gg:跳转到文件头部<br>%：光标移动到行尾<br>^：光标移动到行首<br>[num]G:跳转到具体行数<br>o:在当前光标下方新增一行<br>O:<br>^/$:move to the beginning/end of line<br>I/A：move to the beginning/end of line and insert<br>D/C:delete/change until end of lline<br>V：高亮显示当前行<br>删除/复制行 </p>
<ul>
<li>dd 剪切一行 ，按p进行粘贴。</li>
<li>3dd 删除当前光标所在行的以下三行，前面加个数字可以剪切n行，按p进行粘贴。</li>
<li>yy  复制一行，，按p进行粘贴。</li>
<li>3yy 复制三行，前面加个数字可以复制n行，按p进行粘贴。</li>
<li>p 粘贴 </li>
<li>v键进入选择模式，然后按h,j,k,l移动光标，选择文本，然后按y进行复制，按p进行粘贴。</li>
<li>全部删除：按esc后，然后ggdG</li>
<li>全部复制：按esc后，然后ggyG<br>撤消与撤消的撤消 </li>
<li>u 撤消 </li>
<li>Ctrl+R 撤消的撤消</li>
<li>:earlier 2m 回车  回到2分钟之前的操作<br>查找字符串 </li>
<li>:/string    #正向查找string  按n显示下一次 </li>
<li>:%string    #逆向查找string </li>
<li>在当前字符串上按*,正向查找当前字符串 </li>
<li>在当前字符串上按#,反向查找当前字符串</li>
<li>:noh || set nohlsearch取消搜索高亮<br>单词替换<ul>
<li>yiw —-&gt;viw<br>替换字符串</li>
</ul>
</li>
<li>:s/keyword/replaceword: 替换光标所在行第一个出现的keyword为replaceword<ul>
<li>:s/keyword/replaceword: 替换光标所在行u<br>macro 宏</li>
</ul>
</li>
<li>.(dot command)不是所有的上一次的操作都能重复的，宏可以录制，并重复</li>
<li><p>记录一个宏</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">q&#123;register&#125;  //开始记录一个宏</div><div class="line">do something  //当前宏的操作</div><div class="line">q     //退出当前宏的记录</div></pre></td></tr></table></figure>
</li>
<li><p>播放一个宏</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@&#123;register&#125;  //播放一个宏</div></pre></td></tr></table></figure>
<p> 将光标定位到age = 26这一行 —-&gt;qw —-&gt;开始记录当前宏 —–&gt;进行一系列的操作，改为 var age = 26;操作完成之后—–&gt;q–&gt;完成当前录制——&gt;将光标移动到favourite行——&gt;<br> @w——&gt;favourite这行就变成了var favourite = tea; —–&gt;对name行执行相同的操作@w<br> 如果想选中三行，并播放宏。—-先将光标定位到name行—&gt;V—-&gt;jj—-&gt;选中三行—-&gt;:normal @w—-&gt;播放宏<br> w就是register</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var name = marong,</div><div class="line">    age = 26,</div><div class="line">    favourite = tea;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>分屏操作</p>
<ul>
<li>Ctrl-w c   关闭当前屏幕</li>
<li>Ctrl-w s   上下分屏当前打开的文件</li>
<li>Ctrl-w v   左右分屏当前打开的文</li>
<li>Ctrl-w q   关闭当前窗口，如果只剩最后一个了，则退出Vim</li>
<li>ctrl-w w   光标自动在左右侧窗口切换 #！！！</li>
<li>ctrl-W K  当期那窗口上移动同时占据整个Vim程序窗口的宽度</li>
<li>ctrl-W H  向左移动窗口</li>
<li>ctrl-W J  向下移动窗口</li>
<li>ctrl-W L  向右移动窗口动</li>
<li>ctrl-w =  调整所有窗口至相同</li>
<li>ctrl-w +  增加当前窗口的高度</li>
<li>ctrl-W &gt; 增加当前窗口的宽度</li>
<li>ctrl-W &lt;  减小当前窗口的宽度</li>
<li>ctrl-W x 将当前窗口与下一个窗口交换</li>
<li>ctrl-w t 将光标移动到最左边的窗口</li>
<li>ctrl-w b 将光标移动到最右边的窗口</li>
<li>ctrl-w p 将光标移动到前一个（最后打开的）窗口</li>
<li>{num}ctrl-w + 将当前窗口增加num行的高度</li>
<li>:split 新增一个窗口上下分割，光标定位到上个窗口</li>
<li>:vsplit 新增一个窗口左右分割，新窗口出现在当前窗口的左边</li>
<li>:vnew 垂直分割窗口，并打开一个新的缓冲区<br>折叠<ul>
<li>zc 折叠某一个</li>
<li>zo 展开某一个折叠</li>
<li>zm  折叠全部</li>
<li>zR 展开全部折叠<br>文字断行</li>
</ul>
</li>
<li>:set wrap  所有文字断行</li>
<li>:set nowrap 所有文字强制一行<br>文件搜索</li>
<li>在打开的文件中，光标放在有文件路径的那一个行，按下gf，文件就自动跳转到路径下的文件，页面中的include引入的片段也可以，要在另一窗口中打开指定的文件的话, 可以以”ctrl-w f”</li>
<li>gd 把光标放在函数上，按下gd，跳转到函数定义的地方<br>字符类相关</li>
<li>guu || vu： 把一行的文字全都变成小写</li>
<li>gUU || vU: 把一行的文字全都变成大写</li>
<li>ga： 查看光标出字符的ASCII码</li>
<li>-g8: 查看贯标出字符的utf-8码</li>
<li>x 删除当前光标下的字符</li>
<li>X 删除当前光标之前的字符</li>
<li>D 删除光标至行尾的内容</li>
<li>dw 删除当前光标至下一个word的开头</li>
<li>db 删除当前光标至前一个word的开始</li>
<li>diw 删除当前光标所在的word(不包括空白字符)</li>
<li>daw 删除当前光标所在的word(包括空白字符)</li>
<li>dG 删除当前行至文尾的内容</li>
<li>dgg 删除当前行至文头的内容</li>
<li>p/P 在光标所在行的下方/上方粘贴</li>
<li>f/F[字符]  向后移动到/向前移动到某个字符</li>
<li>[num]f/F[字符] 向后移动到/向前移动到某个字符的第几个</li>
<li>t/T[字符]  向后移动到/向前移动到某个字符的前一个字符</li>
<li>yiw：复制当前光标所在单词，p粘贴</li>
<li>yi} || yi] || yi) || yi” ||yi’：删除光标所在花括号、中括号、小括号里的内容</li>
<li>di} || di] || di) || di” ||di’：删除光标所在花括号、中括号、小括号里的内容</li>
<li>ci} || ci] || ci) || ci’ ||ci”：删除光标所在花括号、中括号、小括号里的内容，并进入insert模式</li>
<li>yt[字符]：复制当前光标直到某个字符，不包括某个字符</li>
<li>dt[字符]：删除当前光标直到某个字符，不包括某个字符</li>
<li>ct[字符]：删除当前光标直到某个字符，不包括某个字符</li>
<li>df [字符]：删除当前光标知道某个字符，比如df.(删除当前光标直到.),dfn(删除当前光标直到n)</li>
<li>c：删除，插入并替换</li>
<li>caw：删除光标所在整个单词，并进入insert模式</li>
<li>cw：删除光标所在字符到单词的结尾</li>
<li>va” 选在双引号之间的内容，并连同双引号，选中之后可以y，c,d之类操作</li>
<li>va’ 选择单引号之间的内容，并连同单引号，选中之后可以y，c,d之类操作</li>
<li>.  (repeat last command,重复上一次操作）<br>奖贯标定位到aa的单引号内，ci’—-&gt;YYYY-MM-DD HH:mm:ss —&gt;normal command —–&gt;光标一定到bb的单引号内—&gt;.—&gt;就和aa的操作结果是一样的<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var aa = &apos;YYYY-MM-DD&apos;;</div><div class="line">var bb = &apos;YYYY-MM-DD&apos;;</div><div class="line"> var cc = &apos;YYYY-MM-DD&apos;;</div><div class="line">  var dd = &apos;YYYY-MM-DD&apos;;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>缩进</p>
<ul>
<li><blockquote>
<blockquote>
<p>&lt;&lt; ：向后、向前缩进</p>
</blockquote>
</blockquote>
</li>
<li>= ：缩进当前行，对齐缩进</li>
<li>=% ：在代码的语句块重，把光标移动到{括号上,按下=%，对齐代码块中的代码</li>
<li>G=gg || gg=G ：缩进整个文件（G是到文件结尾，gg是到文件开头</li>
</ul>
<h3 id="插入模式-i"><a href="#插入模式-i" class="headerlink" title="插入模式(i):"></a>插入模式(i):</h3><ul>
<li>Ctrl + n:自动补齐</li>
<li>Ctrl + p: 安装上下箭头，选择要补齐的字段</li>
<li>Ctrl +x Ctrl + f Ctrl + p:自动补齐文件名</li>
<li>Ctrl + X 和 Ctrl + D 宏定义补齐</li>
<li>Ctrl + X 和 Ctrl + ] 是Tag 补齐</li>
<li>Ctrl + X 和 Ctrl + F 是文件名 补齐</li>
<li>Ctrl + X 和 Ctrl + I 也是关键词补齐，但是关键后会有个文件名，告诉你这个关键词在哪个文件中</li>
<li>Ctrl + X 和 Ctrl +V 是表达式补齐</li>
<li>Ctrl + X 和 Ctrl +L 这可以对整个行补齐</li>
<li>i：从光标当前位置开始输入文件。</li>
<li>a：从目前光标所在位置的下一个位置开始输入文字。</li>
<li>o：插入新的一行，从行首开始输入文字。</li>
<li>I：在光标所在行的行首插入。</li>
<li>A：在光标所在行的行末插入。</li>
<li>O：在光标所在的行的下面插入一行。</li>
<li>s：删除光标后的一个字符，然后进入插入模式。</li>
<li>S：删除光标所在的行，然后进入插入模式。</li>
</ul>
<h3 id="底行模式"><a href="#底行模式" class="headerlink" title="底行模式"></a>底行模式</h3><ol>
<li>:Explore<ul>
<li>浏览项目目录,hj移动项目，回车选择项目或文件</li>
<li>输入-回到上级目录</li>
<li>R：重命名文件</li>
<li>tab键可以来回切换目录</li>
<li>d 新建文件夹</li>
</ul>
</li>
<li>:ls 查看当前打开的文件<ul>
<li>:e#文件编号，编辑当前选择的文件</li>
</ul>
</li>
<li>:f [filename]修改当前打开的文件名</li>
<li>:new [filename]新建文件</li>
<li>文件保存和退出<ul>
<li>:w 保存不退出</li>
<li>:q 退出文件</li>
<li>:wq 保存并退出</li>
<li>:q! 不保存并退出</li>
<li>:x 退出，如果文件更改则保存</li>
<li>shift + Z +Z  退出，如果文件更改则保存（按住Shift，再按两次z）</li>
</ul>
</li>
<li>文件对比<ul>
<li>在一个窗口里输入:diffthis</li>
<li>在另一个窗口里输入:diffthis</li>
</ul>
</li>
</ol>
<h3 id="缓冲区"><a href="#缓冲区" class="headerlink" title="缓冲区"></a>缓冲区</h3><ul>
<li>:ls :files :buffers 列出缓冲</li>
<li>:ball 编辑所有参数或缓冲区</li>
<li>:buffer n 移向缓冲区n</li>
<li>:bdelete 卸载缓冲区，并从缓冲区列表中删除</li>
</ul>
<h3 id="emmet-vim"><a href="#emmet-vim" class="headerlink" title="emmet-vim"></a>emmet-vim</h3><ul>
<li>html:5 <ctrl y="" ,=""> 生成html片段</ctrl></li>
<li>! <ctrl y="" ,=""> 生成html片段</ctrl></li>
</ul>
<h3 id="nerdtree快捷键"><a href="#nerdtree快捷键" class="headerlink" title="nerdtree快捷键"></a>nerdtree快捷键</h3><ul>
<li>o: 打开当前文件夹或直接打开文件</li>
<li>go：打开文件，当光标留在nerdtree</li>
<li>t：在新 Tab 中打开选中文件/书签，并跳到新 Tab</li>
<li>T：在新 Tab 中打开选中文件/书签，但不跳到新 Tab</li>
<li>i：split 一个新窗口打开选中文件，并跳到该窗口</li>
<li>gi：split 一个新窗口打开选中文件，但不跳到该窗口</li>
<li>？:来回切换帮助文档</li>
<li>设置某个路径为当前的nerdtree，打开gvim后，输入:cd D:/frontend/modules/,回车—&gt;cd—&gt;选择打开当前目录—&gt;C,设置当前目录为nerdtress</li>
<li>:NERDTree : 打开nerdtree</li>
<li>B：打开或关闭bookmark,打开bookmark，之后，双击项目</li>
<li>:Bookmark [<name>] 创建bookmark</name></li>
<li>删除标签，双击选中标签，按下D，输入y</li>
<li>r: 刷新当前光标所在的文件</li>
<li>R：刷新当前根节点</li>
<li>p: 返回父级</li>
<li>A：全屏幕或默认状态显示nerdtree<ul>
<li>m—&gt;a directory name\   创建一个文件夹</li>
<li>m—&gt;a filename  创建一个文件</li>
<li>m—&gt;d 删除某个节点</li>
<li>m—&gt;m 重命名或移动某个节点</li>
</ul>
</li>
</ul>
<h3 id="nerd-commenter"><a href="#nerd-commenter" class="headerlink" title="nerd commenter"></a>nerd commenter</h3><ul>
<li>\cc  注释，多行注释，V–L–\cc</li>
<li>\cu  取消注释，取消多行注释，V–l–\cu</li>
</ul>
<h3 id="vim-multiple-cursors"><a href="#vim-multiple-cursors" class="headerlink" title="vim-multiple-cursors"></a>vim-multiple-cursors</h3><ul>
<li>替换单词，光标移动到单词，Ctrl+n —&gt;Ctrl+n—-&gt;c—&gt;replaceword </li>
</ul>
<h3 id="tab-标签切换"><a href="#tab-标签切换" class="headerlink" title="tab 标签切换"></a>tab 标签切换</h3><ul>
<li>gt: 标签切换到下一tab</li>
<li>gT: 标签切换到上一个tab</li>
<li>{i} gt ：i是数字，到指定页，比如：5 gt 就是到第5页</li>
<li>:tabm {n}</li>
<li>:tabc: 关闭当前标签</li>
<li>:tabs: 查看所有打开的tab</li>
<li>:tabo：  关闭所有其他的 tab：</li>
<li>:tabp: 前一个tab</li>
<li>:tabn: 后一个tab</li>
<li>:tabclose [i] – 如果后面指定了数字，那就关闭指定页，如果没有就关闭当前页</li>
<li>:q : 关闭当前页</li>
<li>Ctrl + O： 向后回退你的光标移动，tab级别光标移动</li>
<li>Ctrl + I：向前追赶你的光标移动，tab级别光标移动</li>
</ul>
<p>这两个快捷键很有用，可以在Tab页和Windows中向前和向后trace你的光标键，这也方便你跳转光标。</p>
<h3 id="读取shell命令"><a href="#读取shell命令" class="headerlink" title="读取shell命令"></a>读取shell命令</h3><ul>
<li>:r!date   上面这个命令，:r 是:read的缩写，!是表明要运行一个shell命令，意思是我要把shell命令的输出读到vim里来。</li>
</ul>
<h3 id="ctrlp-插件的使用"><a href="#ctrlp-插件的使用" class="headerlink" title="ctrlp 插件的使用"></a>ctrlp 插件的使用</h3><ul>
<li>:CtrlP 再输入要查找的文件名，选择文件</li>
<li>Ctrl + p  输入要查找的文件名、后缀，模糊搜索–&gt;Ctrl+j/k上线移动选择文件 –&gt;Ctrl+T(在tab中打开)|| Ctrl+v(垂直窗口打开) || Ctrl+x(水平窗口打开)</li>
<li>一次打开多个文件：Ctrl+P —&gt;Ctrl+k/j –&gt;Ctrl+z(选中当前文件)—–&gt;Ctrl+k/j –&gt;Ctrl+z(选中另一个当前文件)—&gt; Ctrl+o(打开多个文件)</li>
<li>ctrl + p ctrl + f: 在    在普通文件、Buffers或者MRU文件模式切换</li>
</ul>
<h2 id="EasyGrey-插件的使用"><a href="#EasyGrey-插件的使用" class="headerlink" title="EasyGrey 插件的使用"></a>EasyGrey 插件的使用</h2><ul>
<li>按下的速度要快，不然动作会被分解，不会执行</li>
<li>:Grep targetword </li>
<li>\vv || :Grep word 搜索当前光标下的单词</li>
<li>\vV || :Grep !word 全词搜索匹配</li>
<li>\vr || :Replace /target/replacement/ || :Replace target replace   替换词</li>
<li>:ReplaceUndo  撤销替换，只能撤销上一次的替换</li>
<li>如果想查询指定文件夹下的某个词： <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//进入要查询的文件夹</div><div class="line">:cd d:/frontend/modules</div><div class="line">//搜索关键词,不区分大小写，递归子文件夹查找</div><div class="line">:Grep foreach -ir</div><div class="line">//打开EasyGrep选项，输入？显示全部操作面板，e查看当前操作的文件夹</div><div class="line">:GrepOptions ---&gt; ? ----&gt; a</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="fugitive-插件的使用"><a href="#fugitive-插件的使用" class="headerlink" title="fugitive 插件的使用"></a>fugitive 插件的使用</h2><ul>
<li>:Gstatus 查看当前状态</li>
<li>:Gdiff 对比当前文件与上一版本的改动<h2 id="tagbar-插件的安装与使用"><a href="#tagbar-插件的安装与使用" class="headerlink" title="tagbar 插件的安装与使用"></a>tagbar 插件的安装与使用</h2></li>
<li>安装tagbar插件，需要下载ctags，<a href="http://ctags.sourceforge.net/，选择windows的版本，下载压缩包完成后，把解压后的文件夹放在D:/Program" target="_blank" rel="external">http://ctags.sourceforge.net/，选择windows的版本，下载压缩包完成后，把解压后的文件夹放在D:/Program</a> Files/ 下，并配置环境变量：D:\Program Files\ctags58</li>
<li>:TagbarToggle</li>
</ul>
<h3 id="vim-配置-vimrc"><a href="#vim-配置-vimrc" class="headerlink" title="vim 配置, _vimrc"></a>vim 配置, _vimrc</h3><h3 id="打开配置文件的时候，自动折叠-设置-vim-相关文件打开后默认折叠方式为marker，约定俗成的用三个花括号注释包裹起来，配置文件看起来就简洁多了"><a href="#打开配置文件的时候，自动折叠-设置-vim-相关文件打开后默认折叠方式为marker，约定俗成的用三个花括号注释包裹起来，配置文件看起来就简洁多了" class="headerlink" title="打开配置文件的时候，自动折叠,设置 vim 相关文件打开后默认折叠方式为marker，约定俗成的用三个花括号注释包裹起来，配置文件看起来就简洁多了"></a>打开配置文件的时候，自动折叠,设置 vim 相关文件打开后默认折叠方式为marker，约定俗成的用三个花括号注释包裹起来，配置文件看起来就简洁多了</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&quot; Startup &#123;&#123;&#123; </div><div class="line">  filetype indent plugin on </div><div class="line">&quot; vim 文件折叠方式为 marker </div><div class="line">augroup ft_vim </div><div class="line">	au!</div><div class="line">       	au FileType vim setlocal foldmethod=marker </div><div class="line">augroup END </div><div class="line">&quot; &#125;&#125;&#125;</div></pre></td></tr></table></figure>
<h3 id="设置编码"><a href="#设置编码" class="headerlink" title="设置编码"></a>设置编码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&quot; Lang &amp; Encoding &#123;&#123;&#123;</div><div class="line">set fileencodings=utf-8,gbk2312,gbk,gb18030,cp936</div><div class="line">set encoding=utf-8 //暂时删除，菜单会乱码</div><div class="line">set langmenu=zh_CN//暂时删除，菜单会乱码</div><div class="line">let $LANG = &apos;en_US.UTF-8&apos;//暂时删除，菜单会乱码</div><div class="line">&quot;language messages zh_CN.UTF-8</div><div class="line">&quot; &#125;&#125;&#125;</div></pre></td></tr></table></figure>
<h3 id="设置gui"><a href="#设置gui" class="headerlink" title="设置gui"></a>设置gui</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">&quot; GUI &#123;&#123;&#123;</div><div class="line">colorscheme Tomorrow-Night</div><div class="line"></div><div class="line">source $VIMRUNTIME/delmenu.vim</div><div class="line">source $VIMRUNTIME/menu.vim</div><div class="line">set cursorline</div><div class="line">set hlsearch</div><div class="line">set number</div><div class="line">&quot; 窗口大小</div><div class="line">set lines=35 columns=140</div><div class="line">&quot; 分割出来的窗口位于当前窗口下边/右边</div><div class="line">set splitbelow</div><div class="line">set splitright</div><div class="line">&quot;不显示工具/菜单栏</div><div class="line">set guioptions-=T</div><div class="line">set guioptions-=m</div><div class="line">set guioptions-=L</div><div class="line">set guioptions-=r</div><div class="line">set guioptions-=b</div><div class="line">&quot; 使用内置 tab 样式而不是 gui</div><div class="line">set guioptions-=e</div><div class="line">&quot; set nolist</div><div class="line">set listchars=trail:·,extends:&gt;,precedes:&lt;</div><div class="line">set guifont=Inconsolata:h12:cANSI</div><div class="line"></div><div class="line">set statusline=%f</div><div class="line">set statusline+=%m</div><div class="line">set statusline+=\ %&#123;fugitive#head()&#125;</div><div class="line">set statusline+=%=</div><div class="line">set statusline+=%&#123;&apos;&apos;.(&amp;fenc!=&apos;&apos;?&amp;fenc:&amp;enc).&apos;&apos;&#125;</div><div class="line">set statusline+=/</div><div class="line">set statusline +=%&#123;&amp;ff&#125;            &quot;file format</div><div class="line">set statusline+=\ -\      &quot; Separator</div><div class="line">set statusline+=%l/%L</div><div class="line">set statusline+=[%p%%]</div><div class="line">set statusline+=\ -\      &quot; Separator</div><div class="line">set statusline +=%1*\ %y\ %*</div><div class="line"></div><div class="line">&quot; &#125;&#125;&#125;</div></pre></td></tr></table></figure>
<h3 id="vundle安装"><a href="#vundle安装" class="headerlink" title="vundle安装"></a>vundle安装</h3><p>在windows系统中，vim编辑器配置的文件夹是vimfiles、_vimrc<br>在linux系统中，vim编辑器配置的文件夹是.vim, .vimrc<br>参考链接：<a href="http://allotory.github.io/posts/2016/02/25/vimrc_config/" target="_blank" rel="external">http://allotory.github.io/posts/2016/02/25/vimrc_config/</a><br>git链接：<a href="https://github.com/allotory/doricha" target="_blank" rel="external">https://github.com/allotory/doricha</a><br>步骤：</p>
<ol>
<li>备份好vimfiles, _vimrc文件</li>
<li>git clone –recursive git@github.com:allotory/doricha.git vimfiles</li>
<li>在_vimrc文件中添加以下代码，<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">if(has(&apos;win32&apos;) || has(&apos;win64&apos;))</div><div class="line">    source $VIM/vimfiles/vundle_vimrc</div><div class="line">    source $VIM/vimfiles/basic_vimrc</div><div class="line">else</div><div class="line">    source ~/.vim/vundle_vimrc</div><div class="line">    source ~/.vim/basic_vimrc</div><div class="line">endif</div></pre></td></tr></table></figure>
</li>
</ol>
<p>更新插件:BundleUpdate<br>清除不再使用的插件:BundleClean,<br>列出所有插件:BundleList<br>查找插件:BundleSearch</p>
<h3 id="安装插件步骤"><a href="#安装插件步骤" class="headerlink" title="安装插件步骤"></a>安装插件步骤</h3><ol>
<li><p>安装nerdtree插件</p>
<ul>
<li><p>在vundle_vimrc中添加插件 Plugin </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Plugin &apos;scrooloose/nerdtree&apos;</div></pre></td></tr></table></figure>
</li>
<li><p>在gvim中输入:PluginInstall</p>
</li>
<li><p>在basic_vimrc配置nerdtress</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">autocmd vimenter * NERDTree</div><div class="line">let NERDTreeWinSize=25</div></pre></td></tr></table></figure>
</li>
<li><p>将已安装的插件以子模块的形式进行管理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">    $ git submodule add https://github.com/scrooloose/nerdtree.git bundle/nerdtree</div><div class="line">`   Adding existing repo at &apos;bundle/nerdtree&apos; to the index</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git submodule init //每次add之后，都需要init</div></pre></td></tr></table></figure>
</li>
<li><p>此时我们已经完成了所有的安装配置操作，可以正常的提交到 Github。</p>
</li>
</ul>
</li>
<li><p>安装vim-tomorrow-night theme</p>
<ul>
<li><p>在vundle_vimrc中添加插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Plugin &apos;chriskempson/vim-tomorrow-theme&apos;</div></pre></td></tr></table></figure>
</li>
<li><p>在gvim中输入:PluginInstall</p>
</li>
<li><p>在basic_vimrc配置vim-tomorrow-night</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">colorscheme Tomorrow-Night</div></pre></td></tr></table></figure>
</li>
<li><p>将已安装的插件以子模块的形式进行管理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">    $ git submodule add https://github.com/chriskempson/vim-tomorrow-theme.git bundle/vim-tomorrow-theme</div><div class="line">`   Adding existing repo at &apos;bundle/vim-tomorrow-theme&apos; to the index</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git submodule init //每次add之后，都需要init</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>此时我们已经完成了所有的安装配置操作，可以正常的提交到 Github。</li>
</ul>
</li>
<li>安装youcompleteme<ul>
<li>参照官网windows下的安装步骤</li>
<li><ol>
<li>如何判断是否支持python3，命令符输入vim –version 看看里面是否有+python3，如果是-python3则表示不支持</li>
</ol>
</li>
<li>安装Vundle，具体步骤请看<a href="https://github.com/VundleVim/Vundle.vim" target="_blank" rel="external">https://github.com/VundleVim/Vundle.vim</a></li>
<li>通过Vundle安装YouCompleteMe</li>
<li>Plugin Valloric/YouCompleteMe加入vimrc</li>
<li>启动Vim，:e PluginInstall，等待安装完成</li>
<li>下载python3最新版本安装，ycm官方推荐python3</li>
<li>下载安装CMake，安装过程中勾选加入path比较容易</li>
<li>下载安装7zip，编译ycm的时候需要用</li>
<li>下载安装Visual Studio 2015 Community版本</li>
<li>打开VS2015，创建一个新C++ Project， 会提示你下载安装C++ tools，选择安装，此过程需要每个盘符4GB空间</li>
<li>由于包比较大，子模块下载的时候容易出错，我后来就手动安装，需要网络好的情况下</li>
</ul>
</li>
</ol>
<h3 id="tern-for-vim"><a href="#tern-for-vim" class="headerlink" title="tern_for_vim"></a>tern_for_vim</h3><ul>
<li>ternjs/tern_for_vim</li>
<li>需要安装 tern_for_vim 就可以获得 JavaScript 的语义补全</li>
<li>安装完成后，在bundle/tern_for_vim里执行npm install</li>
<li>在项目目录里，需要配置.tern-project文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;libs&quot;: [</div><div class="line">    &quot;browser&quot;,</div><div class="line">    &quot;jquery&quot;</div><div class="line">  ],</div><div class="line">  &quot;loadEagerly&quot;: [</div><div class="line">    &quot;importantfile.js&quot;</div><div class="line">  ],</div><div class="line">  &quot;plugins&quot;: &#123;</div><div class="line">    &quot;requirejs&quot;: &#123;</div><div class="line">      &quot;baseURL&quot;: &quot;./&quot;,</div><div class="line">      &quot;paths&quot;: &#123;&#125;</div><div class="line">    &#125;,</div><div class="line">    &quot;node&quot;:&#123;&#125;,</div><div class="line">    &quot;angularjs&quot;:&#123;&#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="git删除一个submodule"><a href="#git删除一个submodule" class="headerlink" title="git删除一个submodule"></a>git删除一个submodule</h3><p>需要手动删除.gitmodules里面repo的配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git submodule deinit &lt;asubmodule&gt;    </div><div class="line">git rm &lt;asubmodule&gt;</div><div class="line"># Note: asubmodule (no trailing slash)</div><div class="line"># or, if you want to leave it in your working tree</div><div class="line">git rm --cached &lt;asubmodule&gt;</div><div class="line">rm -rf .git/modules/&lt;asubmodule&gt;</div></pre></td></tr></table></figure></p>
<h3 id="vim配置过程中报错"><a href="#vim配置过程中报错" class="headerlink" title="vim配置过程中报错"></a>vim配置过程中报错</h3><ol>
<li>vundle #begin方法没有找到<ul>
<li>因为vundle没有clone到本地，在vim执行:echo globpath(&amp;rtp, ‘autoload/vundle.vim’)，查看vundle路径，什么都没有返回</li>
<li>解决办法：git clone –recursive git@github.com:allotory/doricha.git vimfiles</li>
</ul>
</li>
<li>NERDTree使用m–&gt;d删除某个文件夹的时候，报错，最后发现是因为用git bash命令行窗口打开的gvim，删除文件夹的命令不好用，直接打开gvim，删除文件的命令就不报错了</li>
<li>如果有时候执行submodule add [url] [path],在.gitmodules没有改模块的配置,No submodule mapping found in .gitmodules for path<ul>
<li>解决方法：执行git rm –cached [path]<br>4.YouCompleteMe:安装过程遇到的问题<br>1.执行git submodule update –init –recursive 的时候，注意是否有的子模块下载失败，需要网络好的情况下，由于模块多，文件大，需要足够很长的时间和耐心，如果执行失败，就多执行几次，或者进入子模块中执行。在安装过程中，ycmd模块中的子模块较多，而且子模块中有子模块，多执行几次。<br>2.所有文件编译好之后，还是会报错：setUpPython Pythons site module could not be loaded。这是因为电脑上有python-2.7.11导致的，卸载掉python-2.7.11就好了。编译时用的python3.5.2</li>
</ul>
</li>
</ol>
<h3 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h3><ol>
<li>替换一个文件中某一行的keyword</li>
<li>某个项目下的keyword</li>
<li>快速注释 </li>
<li>安装YouCompleteMe 代码片段snipe</li>
<li>多光标同时编辑</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/13/vim-command/" data-id="cj3gznrwy0011x9fye3iy6mos" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vim/">Vim</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-svn-commandline" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/08/svn-commandline/" class="article-date">
  <time datetime="2016-08-08T02:35:39.000Z" itemprop="datePublished">2016-08-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/08/svn-commandline/">svn-commandline</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="svn命令行"><a href="#svn命令行" class="headerlink" title="svn命令行"></a>svn命令行</h3><ul>
<li>svn help ： 查看svn命令</li>
<li>svn add</li>
<li>svn blame</li>
<li>svn cat</li>
<li>svn changelist</li>
<li>svn checkout <co></co></li>
<li>svn commit <ci></ci></li>
<li>svn copy</li>
<li>svn delete</li>
<li>svn diff <di></di></li>
<li>svn export</li>
<li>svn import</li>
<li>svn info</li>
<li>svn list</li>
<li>svn lock</li>
<li>svn log</li>
<li>svn merge</li>
<li>svn mergeinfo </li>
<li>svn mkdir</li>
<li>svn move &lt; mv, rename, ren&gt;</li>
<li>svn patch</li>
<li>svn propdel <pdel, pd=""></pdel,></li>
<li>svn propedit <pedit, pe=""></pedit,></li>
<li>svn propget <pget, pg=""></pget,></li>
<li>svn proplist <plist, pl=""></plist,></li>
<li>svn propset <pset, ps=""></pset,></li>
<li>svn relocate</li>
<li>svn resolve</li>
<li>svn resolved</li>
<li>svn revert</li>
<li>svn status <stat, st=""></stat,></li>
<li>svn switch <sw></sw></li>
<li>svn unlock</li>
<li>svn update <up></up></li>
<li>svn upgrade<h3 id="放弃本地所有修改"><a href="#放弃本地所有修改" class="headerlink" title="放弃本地所有修改"></a>放弃本地所有修改</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">svn revert -R .</div><div class="line">svn up</div><div class="line">svn revert index.html //恢复某个文件</div><div class="line">svn revert modules/tab/tab.css modules/head/head.css ... //恢复多个文件</div><div class="line">svn revert module/tabs/ --depth==infinity   //恢复某个文件夹</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="svn显示最近几条log"><a href="#svn显示最近几条log" class="headerlink" title="svn显示最近几条log"></a>svn显示最近几条log</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">svn --limit &lt;n&gt; // 显示最近n条log </div><div class="line">svn -l &lt;n&gt; // 显示最近n条log </div><div class="line">svn -l 4 // 显示最近4条log</div></pre></td></tr></table></figure>
<h3 id="svn-提交多个文件"><a href="#svn-提交多个文件" class="headerlink" title="svn 提交多个文件"></a>svn 提交多个文件</h3><ul>
<li>方法一：<ul>
<li>svn commit –m”log msg” mydir/dir1/file1.c mydir/dir2/myfile1.h mydir/dir3/myfile3.</li>
</ul>
</li>
<li>方法二：<ul>
<li>$ svn changelist my-changelist mydir/dir1/file1.c mydir/dir2/myfile1.h<br>$ svn changelist my-changelist mydir/dir3/myfile3.c etc.<br>… (add all the files you want to commit together at your own rate)</li>
<li>$ svn commit -m”log msg” –changelist my-changelist</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/08/svn-commandline/" data-id="cj3gznrwv000vx9fyxj38zj7j" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/svn/">svn</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-git-commandline" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/06/09/git-commandline/" class="article-date">
  <time datetime="2016-06-09T03:38:18.000Z" itemprop="datePublished">2016-06-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/09/git-commandline/">git-commandline</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Git操作"><a href="#Git操作" class="headerlink" title="Git操作"></a>Git操作</h1><ul>
<li>git init ： 初始化仓库</li>
<li>git log: 查看提交日子</li>
</ul>
<h2 id="git-clone远程分支"><a href="#git-clone远程分支" class="headerlink" title="git clone远程分支"></a>git clone远程分支</h2><pre><code>git clone 地址 
//如果发现只有一个.git目录，需要checkout了，查看branch信息
git branch -r  
//origin/andrio
//origin/iso
//origin/pc
//如果此时我们需要时andriod分支的代码，那么就要进行checkout了
git checkout origin/andriod
</code></pre><h2 id="git-提交远程分支"><a href="#git-提交远程分支" class="headerlink" title="git 提交远程分支"></a>git 提交远程分支</h2><pre><code>git push origin 远程分支的名字
</code></pre><h2 id="git-更新某个分支"><a href="#git-更新某个分支" class="headerlink" title="git 更新某个分支"></a>git 更新某个分支</h2><pre><code>git fetch [主机名] [分支名]
git fetch origin master
</code></pre><h2 id="git-删除某个分支"><a href="#git-删除某个分支" class="headerlink" title="git 删除某个分支"></a>git 删除某个分支</h2><pre><code>git branch -d [分支名]

git branch -d dev
</code></pre><h2 id="git-合并分支"><a href="#git-合并分支" class="headerlink" title="git 合并分支"></a>git 合并分支</h2><pre><code>git merge [分支名]: git merge andrio
</code></pre><h2 id="git-提交"><a href="#git-提交" class="headerlink" title="git 提交"></a>git 提交</h2><pre><code>git add -A || git add -all
git commit -a -m &apos;first commit&apos;
</code></pre><h2 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h2><pre><code>git log andrio，查看某个分支的log
</code></pre><h2 id="git-log-p-filename"><a href="#git-log-p-filename" class="headerlink" title="git log -p [filename]"></a>git log -p [filename]</h2><pre><code>查看文件的log
</code></pre><h2 id="git-diff-w-filename-：-查看文件的合并情况"><a href="#git-diff-w-filename-：-查看文件的合并情况" class="headerlink" title="git diff -w [filename]： 查看文件的合并情况"></a>git diff -w [filename]： 查看文件的合并情况</h2><h2 id="如果希望保留生产服务器上所做的改动-仅仅并入新配置项-处理方法如下"><a href="#如果希望保留生产服务器上所做的改动-仅仅并入新配置项-处理方法如下" class="headerlink" title="如果希望保留生产服务器上所做的改动,仅仅并入新配置项, 处理方法如下:"></a>如果希望保留生产服务器上所做的改动,仅仅并入新配置项, 处理方法如下:</h2><p>git stash<br>git pull<br>git stash pop</p>
<h2 id="如果希望用代码库中的文件完全覆盖本地工作版本-方法如下"><a href="#如果希望用代码库中的文件完全覆盖本地工作版本-方法如下" class="headerlink" title="如果希望用代码库中的文件完全覆盖本地工作版本. 方法如下:"></a>如果希望用代码库中的文件完全覆盖本地工作版本. 方法如下:</h2><p>git reset –hard<br>git pull</p>
<p>#Setting your branch to exactly match the remote branch can be done in two steps:<br>git fetch origin<br>git reset –hard origin/master</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/06/09/git-commandline/" data-id="cj3gznrwb0008x9fyb7ebtn1i" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Emacs/">Emacs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MVVM-Vue/">MVVM Vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Perl/">Perl</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server/">Server</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vim/">Vim</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/">algorithm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/">mac</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svn/">svn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/Emacs/" style="font-size: 10px;">Emacs</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/MVVM-Vue/" style="font-size: 10px;">MVVM Vue</a> <a href="/tags/Perl/" style="font-size: 10px;">Perl</a> <a href="/tags/Server/" style="font-size: 10px;">Server</a> <a href="/tags/Vim/" style="font-size: 10px;">Vim</a> <a href="/tags/algorithm/" style="font-size: 10px;">algorithm</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/svn/" style="font-size: 10px;">svn</a> <a href="/tags/webpack/" style="font-size: 10px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/06/03/html-element/">HTML5 Element类别和内容模型</a>
          </li>
        
          <li>
            <a href="/2017/05/27/vuestart/">Vue2.0入门使用</a>
          </li>
        
          <li>
            <a href="/2017/05/22/jsEqualOperator/">Javascript相等操作符</a>
          </li>
        
          <li>
            <a href="/2017/05/22/cssMarginPaddingPercentage/">CSS中百分比值</a>
          </li>
        
          <li>
            <a href="/2017/05/10/mac-commandline/">mac-commandline</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 marong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>