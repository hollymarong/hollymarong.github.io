<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>marong blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="技术学习总结">
<meta property="og:type" content="website">
<meta property="og:title" content="marong blog">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="marong blog">
<meta property="og:description" content="技术学习总结">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="marong blog">
<meta name="twitter:description" content="技术学习总结">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">marong blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Less is more</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
  <a href="https://github.com/hollymarong"><img style="position: absolute; top: 0; right: 0; border: 0;z-index:2;" src="https://camo.githubusercontent.com/52760788cde945287fbb584134c4cbc2bc36f904/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"></a>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-toStringValueOf" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/03/24/toStringValueOf/" class="article-date">
  <time datetime="2017-03-24T01:33:02.000Z" itemprop="datePublished">2017-03-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/24/toStringValueOf/">toString和valueOf的用法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>数值、布尔值、字符串和对象都有toString(),valueOf方法。<br>null和undefined没有这两个方法。<br>toString():返回对象的字符串表示<br>valueOf():返回对象的字符串、数值或布尔值表示。<br>在javascript中，很多操作都会在后台隐式调用对象的toString()和valueOf()方法,以便取得可操作的值。<br>内置函数和操作符的一般执行流程：首先会调用对象的valueOf方法，然后确定该方法返回的值是否可以按照相应的规则转换，如果不能，则基于这个返回值再调用toString()方法，再操作返回的字符串。</p>
<table>
<thead>
<tr>
<th>type</th>
<th>valueOf</th>
<th>toString</th>
</tr>
</thead>
<tbody>
<tr>
<td>undefined</td>
<td>无此方法</td>
<td>无此方法</td>
</tr>
<tr>
<td>null</td>
<td>无此方法</td>
<td>无此方法</td>
</tr>
<tr>
<td>boolean</td>
<td>boolean</td>
<td>“true”/“false”</td>
</tr>
<tr>
<td>string</td>
<td>string</td>
<td>string</td>
</tr>
<tr>
<td>object</td>
<td>object</td>
<td>string</td>
</tr>
<tr>
<td>Date</td>
<td>number</td>
<td>string</td>
</tr>
<tr>
<td>function</td>
<td>function</td>
<td>string</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="toString和valueOf的应用"><a href="#toString和valueOf的应用" class="headerlink" title="toString和valueOf的应用"></a>toString和valueOf的应用</h2><p>应用1：利用输入函数名，会隐式调用valueOf(),toString()方法实现add()()()…</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> result = <span class="number">0</span>;</div><div class="line">    <span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>);</div><div class="line">    args.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">        result += num;</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>);</div><div class="line">        args.push(result);</div><div class="line">        <span class="keyword">return</span> add.apply(<span class="literal">null</span>,args);</div><div class="line">    &#125;;</div><div class="line">    fn.valueOf = fn.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> fn;</div><div class="line">&#125;</div><div class="line">add(<span class="number">1</span>,<span class="number">3</span>) <span class="comment">//4</span></div><div class="line">add(<span class="number">1</span>)(<span class="number">3</span>) <span class="comment">//4</span></div><div class="line">add(<span class="number">1</span>,<span class="number">3</span>)(<span class="number">1</span>)(<span class="number">3</span>) <span class="comment">//8</span></div><div class="line"></div><div class="line"><span class="comment">//方法二，给函数添加result属性，用来保存每次计算的结果</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> args= [].slice.call(<span class="built_in">arguments</span>);</div><div class="line">    <span class="keyword">var</span> result = <span class="number">0</span>;</div><div class="line">    args.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">       result += num;</div><div class="line">    &#125;);</div><div class="line">    result += ~~add;</div><div class="line">    add.result = result;</div><div class="line">    <span class="keyword">return</span> add;</div><div class="line">&#125;</div><div class="line">add.valueOf = add.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> add.result;</div><div class="line">&#125;;</div><div class="line">add(<span class="number">1</span>,<span class="number">3</span>) <span class="comment">//4</span></div><div class="line"><span class="comment">//以后每次调用需要重置result的值</span></div><div class="line">add(<span class="number">1</span>)(<span class="number">3</span>) <span class="comment">//4</span></div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/03/24/toStringValueOf/" data-id="cj4hy1pey0016dwx9c18t3ib5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-aliyun" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/23/aliyun/" class="article-date">
  <time datetime="2017-02-23T00:49:50.000Z" itemprop="datePublished">2017-02-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/23/aliyun/">阿里云服务器centos配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="购买ECS实例（申请香港vpc-专有网络服务器带固定公网IP-在服务器内部通过ifconfig查看不到外网网卡eth1-）"><a href="#购买ECS实例（申请香港vpc-专有网络服务器带固定公网IP-在服务器内部通过ifconfig查看不到外网网卡eth1-）" class="headerlink" title="购买ECS实例（申请香港vpc(专有网络服务器带固定公网IP,在服务器内部通过ifconfig查看不到外网网卡eth1)）"></a>购买ECS实例（申请香港vpc(专有网络服务器带固定公网IP,在服务器内部通过ifconfig查看不到外网网卡eth1)）</h2><h2 id="登录ECS实例"><a href="#登录ECS实例" class="headerlink" title="登录ECS实例"></a>登录ECS实例</h2><p>2.1登录方法：<br>2.1.1.通过阿里远程终端登录<br>管理实例-远程连接-输入远程终端密码-如果屏幕卡住，按任意键–&gt;输入用户名root，密码–&gt;成功链接到远程实例<br>2.1.2 通过PuTTY链接linux系统<br>输入公网ip-&gt;输入用户名、密码</p>
<p>##.格式化和挂载数据盘（没有购买数据盘，暂时使用系统盘）<br>df -h :查看磁盘容量的使用情况<br>fdisk -l : 查看当前磁盘的情况</p>
<h2 id="vpn服务器创建步骤"><a href="#vpn服务器创建步骤" class="headerlink" title="vpn服务器创建步骤"></a>vpn服务器创建步骤</h2><h3 id="先看看你的主机是否支持pptp，返回结果为yes就表示通过。"><a href="#先看看你的主机是否支持pptp，返回结果为yes就表示通过。" class="headerlink" title="先看看你的主机是否支持pptp，返回结果为yes就表示通过。"></a>先看看你的主机是否支持pptp，返回结果为yes就表示通过。</h3><p>modprobe ppp-compress-18 &amp;&amp; echo yes</p>
<h3 id="先更新一下再安装。"><a href="#先更新一下再安装。" class="headerlink" title="先更新一下再安装。"></a>先更新一下再安装。</h3><p>yum install update</p>
<h3 id="安装ppp和pptpd"><a href="#安装ppp和pptpd" class="headerlink" title="安装ppp和pptpd"></a>安装ppp和pptpd</h3><p>yum -y install ppp pptpd</p>
<h3 id="配置pptpd"><a href="#配置pptpd" class="headerlink" title="配置pptpd"></a>配置pptpd</h3><p>1.编辑配置文件 vi /etc/pptpd.conf<br>localip为vpn的网关地址<br>remoteip为vpn拨号获取的地址段，即在cmd里ipconfig里，ppp适配器vpn 192.168.8.2<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">localip 192.168.8.1</div><div class="line">remoteip 192.168.8.2-254</div></pre></td></tr></table></figure></p>
<p>2.编辑 vi /etc/ppp/options.pptpd,添加dns<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ms-dns 8.8.8.8</div><div class="line">ms-dns 8.8.4.4</div></pre></td></tr></table></figure></p>
<p>3.配置vpn账号和密码，编辑/etc/ppp/chap-secrets<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">username1 pptpd password1 *</div></pre></td></tr></table></figure></p>
<p>4.打开内核转发，编辑/tc/sysctl.conf<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">net.ipv4.ip_forward = 1</div></pre></td></tr></table></figure></p>
<p>重启<br>sysctl -p<br>5.添加iptables转发规则,因为是专有网络的服务器，在服务器内部是看不到外网网卡eth1<br>修改/etc/sysconfig/iptables 里nat表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">*filter</div><div class="line">-A FORWARD -i ppp+ -p tcp -m tcp --tcp-flags FIN,SYN,RST,ACK SYN -j TCPMSS --set-mss 1356</div><div class="line">*nat</div><div class="line">-A POSTROUTING -s 192.168.8.0/24 -j MASQUERADE</div></pre></td></tr></table></figure></p>
<p>重启防火墙<br>service iptables save<br>service iptables restart</p>
<h3 id="服务配置"><a href="#服务配置" class="headerlink" title="服务配置"></a>服务配置</h3><p>1.重启pptpd服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service iptables restart</div></pre></td></tr></table></figure></p>
<p>2.设置pptp和iptables自启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chkconfig pptpd on</div><div class="line">chkconfig iptables on</div></pre></td></tr></table></figure></p>
<h3 id="vpn连接成功"><a href="#vpn连接成功" class="headerlink" title="vpn连接成功"></a>vpn连接成功</h3><h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><p>1.配置完成后，一直显示，无网络访问权限<br>[ 问题现象 ]<br>配置vpn后但是无法访问外网</p>
<p>[ 问题实例 ]<br>47.91.156.125</p>
<p>[ 处理意见 ]<br>目前我们检查您的主机47.91.156.125ping是正常的，您连接vpn后无法访问外网是您的配置问题导致的，具体需要您进行排查下，但是具体的您可以参考文档<a href="https://help.aliyun.com/knowledge_detail/41345.html进行核实下" target="_blank" rel="external">https://help.aliyun.com/knowledge_detail/41345.html进行核实下</a><br>按照参考文档重新设置了iptables的转发规则，成功了<br>2.用了两个安装pptpd vpn的脚本</p>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p>1.<a href="https://help.aliyun.com/knowledge_detail/41345.html" target="_blank" rel="external">https://help.aliyun.com/knowledge_detail/41345.html</a><br>3.<a href="https://blog.linuxeye.com/412.html" target="_blank" rel="external">https://blog.linuxeye.com/412.html</a></p>
<h3 id="安装FTP服务"><a href="#安装FTP服务" class="headerlink" title="安装FTP服务"></a>安装FTP服务</h3><ol>
<li>检测是否安装了FTP # rpm -q vsftpd</li>
<li>安装FTP， yum install vsftpd</li>
<li>设置为开机启动，chkconfig vsftpd on</li>
<li><p>配置ftp参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"># setsebool -P ftpd_disable_trans=1</div><div class="line"></div><div class="line">修改/etc/vsftpd/vsftpd.conf,在最后一行处添加local_root=/</div><div class="line">service vsftpd restart</div><div class="line"></div><div class="line">#mkdir /tmp/test  创建一个ftp上传时的目录</div><div class="line">//1、创建一个账号为test的账户，-s /sbin/nologin是让其不能登陆系统，-d 是指定用户目录为/tpm/test ，即该账户只能登陆ftp，却不能用做登陆系统用。</div><div class="line">#adduser -d /tmp/test  -g ftp -s /sbin/nologin test </div><div class="line"></div><div class="line">#passwd test</div><div class="line"></div><div class="line">修改/etc/vsftpd/vsftpd.conf</div><div class="line">chroot_list_enable=YES</div><div class="line">chroot_list_file=/etc/vsftpd/chroot_list</div><div class="line"></div><div class="line">新增一个文件: /etc/vsftpd/chroot_list</div><div class="line">内容写需要限制的用户名：</div><div class="line">test</div><div class="line"></div><div class="line">重新启动vsftpd</div><div class="line">#service vsftpd restart</div></pre></td></tr></table></figure>
</li>
<li><p>文件上传 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">lcd d:/frontend/baby/common2015/ </div><div class="line">cd /tmp/test/</div><div class="line">chmod -R 777 /tmp/test</div><div class="line">put project.json</div><div class="line">//可以上传一个tar.gz的压缩包，上传到服务器后，再解压缩</div></pre></td></tr></table></figure>
</li>
<li><p>文件下载</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">lcd d:/frontend/baby/common2015/ </div><div class="line">cd /tmp/test/</div><div class="line">get index.html</div></pre></td></tr></table></figure>
<p>6.客户端ftp命令行<br>win+R ftp 打卡ftp命令行<br>open 47.91.156.125 打开ftp服务器，输入用户名， 密码</p>
<p>lcd 进入客户端的文件夹<br>!dir 显示客户端当前目录的文件信息<br>cd 进入服务器的文件夹<br>dir 显示服务器端当前目录的文件信息<br>get 下载一个文件<br>mget <em>.</em> 下载当前服务器文件下的所有的文件<br>put 上传一个文件<br>mput <em>.</em> 上传全部文件，不包括文件夹<br>bye 退出ftp服务器<br>? 查看更多命令</p>
<p>7.遇到的问题</p>
<ul>
<li>文件上传的时候，遇到vsftp上传文件出现553 Could not create file，是因为/tmp/test文件夹没有读写的权限，chmod -R 777，修改上传文件夹的读写权限 </li>
<li>文件下载的时候， ftp报错 200 port command successful. consider using pasv 425 failed to establish connection，关闭客户端电脑的防火墙就好了</li>
</ul>
</li>
</ol>
<h3 id="nginx-安装步骤"><a href="#nginx-安装步骤" class="headerlink" title="nginx 安装步骤"></a>nginx 安装步骤</h3><ol>
<li><p>检查安装环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//nginx 需要gcc编译</div><div class="line">rpm -qa gcc </div><div class="line">// nginx的Rewrite和HTTP模块会哟用到PCRE</div><div class="line">rpm -qa pcre</div><div class="line">//nginx的Gzip用到zlib</div><div class="line">rpm -qa zlib</div><div class="line">rpm -qa openssl</div><div class="line">//还需要安装pcre-devel openssl-devel,不然后续编译的时候，会报错</div><div class="line">./configure: error: the HTTP rewrite module requires the PCRE library.</div><div class="line"> </div><div class="line">yum -y install pcre-devel openssl openssl-devel</div></pre></td></tr></table></figure>
</li>
<li><p>下载nginx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">//下载</div><div class="line">cd /usr/local/src</div><div class="line">wget http://nginx.org/download/nginx-1.10.3.tar.gz</div><div class="line">//解压</div><div class="line">tar -zxvf nginx-1.10.3.tar.gz</div><div class="line">//安装环境检查和安装配置</div><div class="line">cd nginx-1.10.3</div><div class="line">./configure --prefix=/usr/local/nginx</div><div class="line">//编译</div><div class="line">make</div><div class="line">//安装</div><div class="line">make install</div><div class="line">//查看安装</div><div class="line">whereis nginx</div><div class="line">//启动nginx</div><div class="line"> /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf</div><div class="line">//查看nginx进程状态</div><div class="line">ps -A | grep nginx</div><div class="line">//打开ssi</div><div class="line">server&#123;</div><div class="line">   location / &#123;</div><div class="line">   ssi on;</div><div class="line">   ssi_silent_errors on;</div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line">//重启nginx</div><div class="line">cd /usr/local/nginx/sbin</div><div class="line">./nginx -s reload</div></pre></td></tr></table></figure>
</li>
<li><p>参考链接<br><a href="http://www.cnblogs.com/heacool/p/6406664.html" target="_blank" rel="external">http://www.cnblogs.com/heacool/p/6406664.html</a><br><a href="http://williamx.blog.51cto.com/3629295/958398" target="_blank" rel="external">http://williamx.blog.51cto.com/3629295/958398</a></p>
</li>
</ol>
<h3 id="安装nodejs环境"><a href="#安装nodejs环境" class="headerlink" title="安装nodejs环境"></a>安装nodejs环境</h3><ol>
<li><p>安装nvm</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//https://github.com/creationix/nvm</div><div class="line">wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.1/install.sh | bash</div><div class="line">//打印NVM_DIR</div><div class="line">echo $NVM_DIR</div></pre></td></tr></table></figure>
</li>
<li><p>安装nodejs</p>
</li>
<li>nvm命令<ul>
<li>nvm list-remote：列出所有可安装的版本；</li>
<li>nvm install v0.12.4：安装指定版本的nodejs</li>
<li>nvm ls 查看当前已安装的版本</li>
<li>nvm use v0.12.4 切换版本</li>
<li>nvm alias default v0.12.4 设置默认版本    </li>
</ul>
</li>
<li>nodejs项目部署<br>在服务器上创建测试代码<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</div><div class="line"><span class="keyword">const</span> hostname = <span class="string">'127.0.0.1'</span>;<span class="comment">//专有网络不能填写公网ip地址</span></div><div class="line"><span class="keyword">const</span> port = <span class="number">9000</span>;</div><div class="line"><span class="keyword">const</span> server = http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</div><div class="line">    res.statusCode = <span class="number">200</span>;</div><div class="line">    res.end(<span class="string">'hello, this is my first test nodejs project'</span>);</div><div class="line">&#125;);</div><div class="line">server.listen(port, hostname, () =&gt; &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ol>
<p>还需要配置nginx,并重启<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">location / &#123;</div><div class="line"></div><div class="line">   proxy_pass http://127.0.0.1:9000;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="pptpd-vpn-查看当前在线用户"><a href="#pptpd-vpn-查看当前在线用户" class="headerlink" title="pptpd vpn 查看当前在线用户"></a>pptpd vpn 查看当前在线用户</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">last | grep still | grep ppp</div></pre></td></tr></table></figure>
<h3 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h3><ul>
<li>系统<br>  uname -a 查看内核/操作系统/CPU信息<br>  hostname 查看计算机名<br>  clear 清屏<br>  who 显示在线登录用户<br>  whoami 显示当前操作用户<br>  env 查看环境变量</li>
<li>资源<br>  free -m 查看内存使用量和交换区使用量<br>  df -h 查看各分区使用情况<br>  du -sh &lt;目录名&gt; 查看指定目录大小<br>  grep MemTotal /proc/meminfo 查看内存总量<br>  grep MemFress /proc/meminfo 查看空闲内存量<br>  uptime 查看系统运行时间、用户数、负载<br>  cat /proc/loadavg 查看系统负载</li>
<li><p>用户<br>  w 查看活动用户<br>  last 查看用户登录日志</p>
</li>
<li><p>进程<br>  ps -ef 查看所有进程<br>  top 动态显示当前耗费资源最多的进程信息</p>
</li>
<li>服务<br>  chkconfig –list 列出所有系统服务<br>  chkconfig –list | grep on 列出所有启动的系统服务</li>
<li>程序<br>rpm  -qa 查看所有安装的软件包</li>
</ul>
<h3 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">yum install git</div><div class="line">git --version</div><div class="line">yum remove git //卸载git</div></pre></td></tr></table></figure>
<h2 id="安装L2TP-VPN"><a href="#安装L2TP-VPN" class="headerlink" title="安装L2TP VPN"></a>安装L2TP VPN</h2><p>wget <a href="https://git.io/vpnsetup-centos" target="_blank" rel="external">https://git.io/vpnsetup-centos</a> -O vpnsetup.sh &amp;&amp; sudo sh vpnsetup.sh<br>IPsec PSK: eRc…<br>// 添加VPN账号<br>/etc/ppp/chap-secrets</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/23/aliyun/" data-id="cj4hy1pe30003dwx9gx4rasxb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Server/">Server</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-git-mutilssh" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/21/git-mutilssh/" class="article-date">
  <time datetime="2017-02-21T01:01:46.000Z" itemprop="datePublished">2017-02-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/21/git-mutilssh/">git生成多个ssh配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ssh是一种网络协议，用于计算机之间的加密登录。</p>
<h3 id="github-生成ssh-key"><a href="#github-生成ssh-key" class="headerlink" title="github 生成ssh key"></a>github 生成ssh key</h3><ol>
<li>账户setting/SSH and GPG keys<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa -b 4096 -C &quot;hollymarong@example.com&quot;</div><div class="line">//输入两次密码</div><div class="line">enter password twice</div><div class="line">//打开ssh-agent</div><div class="line">eval &quot;$(ssh-agent -s)&quot;</div><div class="line">//在ssh-agent中添加SSH key</div><div class="line"> ssh-add ~/.ssh/id_rsa</div><div class="line">//复制ssh key，并在github账户中添加ssh key</div><div class="line">clip &lt; ~/.ssh/id_rsa.pub</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="gitlab-生成ssh-key"><a href="#gitlab-生成ssh-key" class="headerlink" title="gitlab 生成ssh key"></a>gitlab 生成ssh key</h3><ol>
<li>账户setting/SSH  Keys<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa -C &quot;marong@corp.netease.com&quot;</div><div class="line">//重命名文件~/.ssh/id_rsa_netease_nex，不要覆盖~/.ssh/id_rsa</div><div class="line">//输入两次密码</div><div class="line">enter password twice</div><div class="line">//打开ssh-agent</div><div class="line">eval &quot;$(ssh-agent -s)&quot;</div><div class="line">//在ssh-agent中添加SSH key</div><div class="line"> ssh-add ~/.ssh/id_rsa_netease_nex</div><div class="line">//复制ssh key，并在github账户中添加ssh key</div><div class="line">clip &lt; ~/.ssh/id_rsa_netease_nex.pub</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="在-ssh文件夹中，新建config文件"><a href="#在-ssh文件夹中，新建config文件" class="headerlink" title="在~/.ssh文件夹中，新建config文件"></a>在~/.ssh文件夹中，新建config文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">//新建config文件</div><div class="line">touch config</div><div class="line">//配置config文件</div><div class="line">#  github user(marong@corp.netease.com)  netease nex</div><div class="line">Host gitlab.ws.netease.com</div><div class="line">User marong</div><div class="line">IdentityFile ~/.ssh/id_rsa_netease_nex</div><div class="line"></div><div class="line"># Default github user(hollymarong@gmail.com)  默认配置，一般可以省略</div><div class="line">Host github.com</div><div class="line">User hollymarong</div><div class="line">Identityfile ~/.ssh/id_rsa</div></pre></td></tr></table></figure>
<h3 id="检测ssh是否配置成功"><a href="#检测ssh是否配置成功" class="headerlink" title="检测ssh是否配置成功"></a>检测ssh是否配置成功</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ssh -T git@github.com</div><div class="line">//Hi hollymarong! You&apos;ve successfully authenticated, but GitHub does not provide shell access.</div><div class="line">ssh -T git@gitlab.ws.netease.com</div><div class="line">//ssh: connect to host gitlab.ws.netease.com port 22: Connection refused,提示连接不上，是权限的问题，不影响具体项目</div></pre></td></tr></table></figure>
<h3 id="git-bash-客户端的问题"><a href="#git-bash-客户端的问题" class="headerlink" title="git bash 客户端的问题"></a>git bash 客户端的问题</h3><p>配置后以上之后，如果gitbash 出现error 证书的问题，这时候卸载git bash 重新安装之后就能拉取项目了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/02/21/git-mutilssh/" data-id="cj4hy1peg000jdwx9pxh1lr0a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-emacs-command" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/27/emacs-command/" class="article-date">
  <time datetime="2016-12-27T02:47:18.000Z" itemprop="datePublished">2016-12-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/27/emacs-command/">emacs-command</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="info"><a href="#info" class="headerlink" title="info"></a>info</h3><ul>
<li>M-x info(C-h i) –&gt;  Emacs lisp Intro</li>
</ul>
<h2 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h2><ul>
<li>eshell</li>
</ul>
<h2 id="Magit"><a href="#Magit" class="headerlink" title="Magit"></a>Magit</h2><ul>
<li>Magit is a full Git interface</li>
</ul>
<h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><ul>
<li>Ctrl-H t  Built in Tutorial</li>
<li>Ctrl-x Ctrl-c  退出ecma</li>
<li>Ctrl-v 翻到下一页</li>
<li>Alt-v 翻到上一页</li>
<li>Ctl-l 光标所在行的文字移动到中间，再次输入，移动到顶端，再次输入，移动到底端</li>
<li>Ctrl-p 上一行</li>
<li>Ctrl-n 下一行</li>
<li>Ctrl-f 向右移动</li>
<li>Ctrl-b 向左移动</li>
<li>M-f  对英文以单词为单位向右移动，对中文以标点符号为单位向右移动</li>
<li>M-b 对英文以单词为单位向左移动，对中文以标点符号为单位向左边移动</li>
<li>Ctrl-a 移动到一行的头部</li>
<li>Ctrl-e 移动到一行的尾部</li>
<li>M-a 移动到一句的头部</li>
<li>M-e 移动到一句的尾部</li>
<li>M-&lt; 将光标移动到头部(Alt-Shift-&lt;)</li>
<li>M-&gt; 将光标移动到尾部(Alt-Shift-&gt;)</li>
<li>Ctrl-u-数字 Ctrl-f 将光标向右移动8个单词 </li>
<li>Ctrl-u-8 m  –在当前光标下输入8个m</li>
<li>Ctrl-g 用来终止命令   </li>
<li>Ctrl-/|Ctrl_(Ctrl) 撤销命令</li>
<li>Ctrl-d 删除贯标后的一个字符</li>
<li>M-d 删除贯标后的一个单词</li>
<li>M-del 删除光标前的一个单词</li>
<li>del 删除高标前的一个字符</li>
<li>Ctrl-k  移除从光标到行尾的字符</li>
<li>M-k 移除从光标到行尾的字符</li>
<li>Ctrl-@  移动到要删除的字符处 Ctrl+w</li>
<li>Ctrl-y  粘贴</li>
<li>C-h k C-p  在新视图中查看命令的详细说明</li>
<li>C-h f 函数名 解释一个函数名</li>
<li>C-h k 按键  查看快捷键</li>
<li>C-h v </li>
</ul>
<h2 id="窗口"><a href="#窗口" class="headerlink" title="窗口"></a>窗口</h2><ul>
<li>Ctrl-x-1  只保留一个窗口</li>
<li>Ctrl-x-2  将屏幕垂直划分成两个窗格，光标停留在上方的窗格</li>
</ul>
<h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><ul>
<li>Ctrl-x Ctrl-f 查找文件</li>
<li>Ctrl-x Ctrl-s 存储文件</li>
<li>创建新文件的方法，就是查找一个不存在的文件，然后保存</li>
<li>Ctrl-x Ctrl-b 列出缓冲区</li>
<li>Ctrl-x b+缓冲区的名字（按tab自动补全）  跳转到之前编辑的文件</li>
<li>Ctrl-x s 保存多个缓冲区</li>
<li>Ctrl-z 暂时离开emacs,不杀死emacs的进程</li>
<li>Ctrl-s 向前搜索</li>
<li>Ctrl-r 向后搜索</li>
<li>M-x kill-buffer 从buffer list删除buffer文件</li>
<li>M-x ibuffer 显示buffer list , D 删除buffer</li>
<li>C-x C-e 执行lisp语句</li>
</ul>
<h3 id="批量重命名文件"><a href="#批量重命名文件" class="headerlink" title="批量重命名文件"></a>批量重命名文件</h3><ul>
<li>C-x C-j 打开当前文件所在目录 Dired模式</li>
<li>Shift+6 跳转到上级目录</li>
<li>C-; iedit模式在dired模式下快捷键失效，启用重新绑定的M-s e</li>
<li>C-x C-q 进入到dired模式的Editable编辑模式–&gt;C-=(选中要重命名的文件)–&gt;M-s e(同时编辑)-C-c C-c(编辑完成保存)</li>
<li>C-c Esc 退出修改</li>
</ul>
<h3 id="搜索和替换"><a href="#搜索和替换" class="headerlink" title="搜索和替换"></a>搜索和替换</h3><ul>
<li>search speed:ag(Linux)&gt;pt(所有平台)&gt;ack&gt;grep</li>
<li>helm-ag 安装 </li>
<li>M-x helm-do-ag-project-root &lt;字段 !需要屏蔽的字段&gt; –&gt; C-c C-e (打开buffer 能直接编辑搜索出的结果)</li>
<li>C-c p s 快捷键绑定搜索</li>
<li>C-c c-k 取消</li>
<li>报错Error running time helm-ag–do-ag-cand..,是因为没有安装ag<h3 id="安装ag"><a href="#安装ag" class="headerlink" title="安装ag"></a>安装ag</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">brew install the_silver_searcher</div><div class="line">ag --version</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="helm-ag"><a href="#helm-ag" class="headerlink" title="helm-ag"></a>helm-ag</h3><ul>
<li>搜索工具，linux下工具，在windows下需要Cygwin工具</li>
<li>用babun安装,编译完成后把ag.exe放到bin下，添加环境变量<br>C:\Users\marong.babun\cygwin\bin<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$pact install libpcre-devel</div><div class="line">$pact install liblzma-devel</div><div class="line"></div><div class="line">$git clone https://github.com/ggreer/the_silver_searcher.git</div><div class="line"></div><div class="line">$cd the_silver_searcher</div><div class="line">$./build.sh</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="imenu"><a href="#imenu" class="headerlink" title="imenu"></a>imenu</h3><ul>
<li>M-x imenu 列出函数列表，能列出lisp，不能列出js函数列表</li>
<li>M-x counsel-imenu  能列出js函数列表</li>
<li>M-s i：列出函数列表，调用counsel-imenu</li>
</ul>
<h3 id="flycheck-代码检查"><a href="#flycheck-代码检查" class="headerlink" title="flycheck 代码检查"></a>flycheck 代码检查</h3><ul>
<li>只对js文件进行代码检查,windows系统不好用</li>
<li>安装过程玩后报错require let-alist not　provided,在elpa文件下有let-alist的包，最后发现let-alist.el文件没有内容，卸载后重新下载后，flycheck能用了</li>
<li><p>M-x flycheck-verify-setup</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(add-hook &apos;js2-mode-hook &apos;flycheck-mode)</div></pre></td></tr></table></figure>
</li>
<li><p>M-x flycheck-list-errors 开启一个新的buffer来展示错误，在buffer具体错误上回车，可以跳转到相应的代码</p>
</li>
</ul>
<h3 id="evil-安装过程遇到的问题"><a href="#evil-安装过程遇到的问题" class="headerlink" title="evil 安装过程遇到的问题"></a>evil 安装过程遇到的问题</h3><ul>
<li>安装evil后报错提示undo-tree goto-chg两个package未安装，分别安装两个packages</li>
<li>M-x evil-mode找不到evil模式，重新卸载M-x package-list-packages –&gt; d –&gt; x 卸载之后，重新安装后，就能打开evil模式了</li>
</ul>
<h3 id="yasnippet"><a href="#yasnippet" class="headerlink" title="yasnippet"></a>yasnippet</h3><ul>
<li>可以自定义</li>
<li>al Tab —&gt; alert</li>
<li>f Tab —&gt; function</li>
<li>com Tab —&gt; /<em> </em>/</li>
<li>log  Tab —&gt; console.log</li>
</ul>
<h3 id="auto-yasnippet"><a href="#auto-yasnippet" class="headerlink" title="auto-yasnippet"></a>auto-yasnippet</h3><ul>
<li>M-x aya-create</li>
<li>M-x aya-expand<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(add-to-list~AAA path~AAA name~AAA)</div><div class="line">M-x aya-create</div><div class="line">M-x aya-expand</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h2><ul>
<li>Ctrl—x text-mode</li>
<li>M-x fundamental-mode 缺省模式</li>
<li>M-x auto-fill-mode 自动换行模式</li>
<li>设置自动换行边界数字：Ctrl-u 70 Ctrl-x f</li>
<li>M-x linum-mode 设置行号</li>
<li>M-x recentf-mode 该模式保存最近打开的文件</li>
</ul>
<h3 id="Org-Mode"><a href="#Org-Mode" class="headerlink" title="Org Mode"></a>Org Mode</h3><ul>
<li>Tab 展开/关闭</li>
<li>C-c C-t Todo/Done/None切换</li>
<li>M-Return 自动排序号</li>
<li>&lt;s Tab 自动补全 #+BEGIN_SRC #+END_SRC</li>
<li>C-c C-c 保存</li>
<li>C-x C-e 导出html/LaTex(PDF)格式 –&gt; ho(导出html，并打开)</li>
<li>C-c a s  搜索日程</li>
</ul>
<h3 id="M-x-org-capture-记笔记"><a href="#M-x-org-capture-记笔记" class="headerlink" title="M-x org-capture 记笔记"></a>M-x org-capture 记笔记</h3><h4 id="创建todo"><a href="#创建todo" class="headerlink" title="创建todo"></a>创建todo</h4><ul>
<li>SPC C(capslock) c –&gt; t –&gt;新建TODO事项</li>
<li>M-x org-capture –&gt;t–&gt;新建TODO事项</li>
<li>C-c C-s 设置日程开始时间</li>
<li>C-c C-s 设置日程结束时间</li>
<li>C-c a-a 查看日程 </li>
<li>C-c C-c 退出 </li>
</ul>
<h4 id="org-pomodoro"><a href="#org-pomodoro" class="headerlink" title="org-pomodoro"></a>org-pomodoro</h4><ul>
<li>时间管理工具</li>
<li>安装完成后需要require</li>
<li>在gtd.org里C-c a –&gt;打开agenda–&gt; 在一个gtd里输入M-x org-pomodoro—&gt;在状态栏里就能看到时间管理</li>
</ul>
<h3 id="Occur模式"><a href="#Occur模式" class="headerlink" title="Occur模式"></a>Occur模式</h3><ul>
<li>搜索模式</li>
<li>M-s o &lt;搜索内容&gt;</li>
<li>回车跳转到搜索的地方</li>
<li>C-x o在搜索的buffer和popwin之间切换</li>
<li>M-x occur-edit-mode(e)  能直接在搜索结果里进行修改</li>
<li>增强occurmode，M-s o能直接抓取光标所在的单词，或选中的字段</li>
</ul>
<h3 id="web-mode"><a href="#web-mode" class="headerlink" title="web-mode"></a>web-mode</h3><ul>
<li>M-x customize-group –&gt; web-mode –&gt; 定制</li>
<li>C-h v web-mode-markup-indent-offset 查看html 当前缩进值</li>
<li>C-c t i 切换当前缩进值2/4</li>
<li>C-M \ 整个buffer缩进</li>
<li>M-; toggle 注释</li>
</ul>
<h3 id="js2-refactor"><a href="#js2-refactor" class="headerlink" title="js2-refactor"></a>js2-refactor</h3><ul>
<li>提取函数:选中重构的函数，C-c C-m –&gt; ef</li>
<li>提取方法函数：C-c C-m –&gt; em</li>
<li>提取本地变量为函数参数： C-c C-m –&gt; ip</li>
<li>提取函数参数为函数内变量： C-c C—m –&gt;lp</li>
</ul>
<h3 id="Dired模式"><a href="#Dired模式" class="headerlink" title="Dired模式"></a>Dired模式</h3><ul>
<li>Dired模式下可以拷贝、删除、重命名文件</li>
</ul>
<ul>
<li>C-x d &lt;文件&gt; 显示制定文件夹下文件详情 大小、时间等</li>
<li><ul>
<li>创建文件夹和文件，回车进入新建的文件夹里    </li>
</ul>
</li>
<li>C-x C-f : create file</li>
<li>g: refresh dired buffer</li>
<li>C: copy file  </li>
<li>D: delete file</li>
<li>d: mark delete file </li>
<li>u: cancle mark </li>
<li>x: execute</li>
<li>R: rename filename<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//能打开当文件所在的目录C-x C-j</div><div class="line">(required &apos;dired-x)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="expand-region"><a href="#expand-region" class="headerlink" title="expand-region"></a>expand-region</h3><ul>
<li>C-= 能选中光标所在单词，按=逐级往外扩展选中</li>
</ul>
<h3 id="iedit"><a href="#iedit" class="headerlink" title="iedit"></a>iedit</h3><ul>
<li>M-x iedit-mode 定位光标所在的单词，同时编辑多个区域</li>
<li>C-; 绑定的快捷键 多编辑toggle</li>
<li>M-s o (搜索内容) -&gt; e 进入过occur编辑模式 —&gt;C-=(expand-region) 选中要编辑单词 -&gt; M-s e 编辑多个区域</li>
</ul>
<h3 id="evil"><a href="#evil" class="headerlink" title="evil"></a>evil</h3><ol>
<li>vim 80% 的功能</li>
<li>the difference between Normal and Emacs state<ul>
<li>C-u vim中向上翻页 Emacs中Universal args， 设置之后Ctrl-u/d 可以上下翻页了</li>
</ul>
</li>
<li>evil state<ul>
<li>evil normal state</li>
<li>evil insert state</li>
<li>evil visual state</li>
<li>evil motion state</li>
<li>evil operator state</li>
</ul>
</li>
<li>C-z(M-x evil-emacs-state) toggle between Normal and Emacs state</li>
</ol>
<h3 id="evil-leader"><a href="#evil-leader" class="headerlink" title="evil-leader"></a>evil-leader</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(evil-leader/set-key</div><div class="line">  &quot;e&quot; &apos;find-file</div><div class="line">  &quot;b&quot; &apos;switch-to-buffer</div><div class="line">  &quot;k&quot; &apos;kill-buffer)</div></pre></td></tr></table></figure>
<h3 id="window-numbering"><a href="#window-numbering" class="headerlink" title="window-numbering"></a>window-numbering</h3><ul>
<li>M-<num> 窗口跳转</num></li>
</ul>
<h3 id="powerline"><a href="#powerline" class="headerlink" title="powerline"></a>powerline</h3><ul>
<li>增强mode-bar</li>
</ul>
<h3 id="evil-surround"><a href="#evil-surround" class="headerlink" title="evil-surround"></a>evil-surround</h3><ul>
<li>viw S “|’ 给单词加上双引号</li>
<li>cs ‘“ 把单引号换成双引号</li>
<li>cs “(  把双引号换成括号，如果按9上的(会有空格</li>
<li>cs “) 把双引号换成括号，如果按0上的）不会有空格</li>
</ul>
<h3 id="evil-nerd-commenter"><a href="#evil-nerd-commenter" class="headerlink" title="evil-nerd-commenter"></a>evil-nerd-commenter</h3><ul>
<li>M;  注释切换</li>
<li>V jk –&gt; M;</li>
<li>gv 选择上次选中的区域，M; –&gt;取消注释</li>
</ul>
<h3 id="use-package"><a href="#use-package" class="headerlink" title="use-package"></a>use-package</h3><ul>
<li>更安全的require<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">  ;;  会报错</div><div class="line">  (require &apos;xxx)  </div><div class="line">  ;; 不会报错</div><div class="line">(use-package xxx)</div></pre></td></tr></table></figure>
</li>
</ul>
<p>###spacemacs</p>
<ul>
<li>直接glone 到d:/Emacs24.4/.emacs.d目录</li>
<li>安装初始化选项，在安装的过程中</li>
<li>spc+f+j 打开当前文件所在的目录</li>
<li>spc+qq 退出emacs</li>
<li>SPC-b-f  在finder中打开文件</li>
<li>SPC-f-e-R  安装包</li>
<li>SPC-f-e-d 打开.spacemacs.d/init.el</li>
<li>SPC-f-e-i 打开.emacs.d/init.el</li>
<li>SPC-f-e-r 安装包</li>
<li>SPC-h-SPC <layer> 查看layer安装的packages</layer></li>
<li>Ctrl-s 搜索</li>
<li>M-x (SPC-SPC)命令</li>
<li>C-h f查看lisp函数定义的文档</li>
<li>C-h v查看lisp的变量</li>
<li>C-h C-f 查看函数</li>
<li>SPC-s-j 查看函数列表文件</li>
<li>SPC-h-l  查看安装的elpa package文件</li>
<li>SPC-h-r 查看spacemacs全部文档</li>
<li>SPC-h-R 查看spacemacs 安装包的文档</li>
<li>SPC-f-f find file</li>
<li>SPC-f-j dired mode</li>
<li>SPC-o-y  有道搜索单词</li>
<li>,-d-m-e 展开宏函数,q退出宏函数</li>
<li>SPC-<num> 窗口间的跳转</num></li>
<li>SPC-w-d 删除打开的窗口</li>
<li>SPC-p-f 查找项目下的文件</li>
<li>SPC-f-f　查找当前项目下的文件夹</li>
<li>SPC-f-L  查找本地文件</li>
<li>SPC-J-= 格式化全文</li>
<li>C-h 返回上级目录</li>
</ul>
<ul>
<li>insert 模式下<ul>
<li>C-a 移动到行首</li>
<li>C-w 移动到行尾</li>
</ul>
</li>
</ul>
<h3 id="spacemacs-文件操作"><a href="#spacemacs-文件操作" class="headerlink" title="spacemacs 文件操作"></a>spacemacs 文件操作</h3><ul>
<li>SPC-p-f 查找当前文件下的目录</li>
<li>SPC-f-L 查找整个系统的文件</li>
<li>SPC-f-l</li>
<li>SPC-f-o 使用外部程序打开文件</li>
<li>SPC-f-E sudo-edit 以root权限编辑文件host</li>
<li>SPC-f-d 删除当前文件及buffer</li>
<li>SPC-f-j 打开当前buffer的dired目录</li>
<li>SPC-f-r　打开当前常用的文件</li>
<li>SPC-f-R 重命名当前文件</li>
<li>SPC-f-v 给当前项目设置lisp的变量</li>
<li>SPC-f-y 查看当前buffer的路径并复制</li>
<li>SPC-f-e-d 打开/.spacemacs.d/init.el文件</li>
<li>SPC-f-e-i 打开/.emacs.d/init.el 文件</li>
<li>SPC-f-c copy file</li>
<li>SPC-f-b　jump bookmark</li>
<li>SPC-f-s 保存当前buffer</li>
<li>SPC-f-S 保存所有的buffer</li>
</ul>
<h3 id="spacemacs-buffer-操作"><a href="#spacemacs-buffer-操作" class="headerlink" title="spacemacs buffer 操作"></a>spacemacs buffer 操作</h3><ul>
<li>SPC-b-. 显示buffer操作提示n/p切换buffer</li>
<li>SPC-b-b 查找buffer</li>
<li>SPC-b-d 删除buffer<h4 id="spacemacs-创建自己的layer"><a href="#spacemacs-创建自己的layer" class="headerlink" title="spacemacs 创建自己的layer"></a>spacemacs 创建自己的layer</h4></li>
</ul>
<h3 id="2048game"><a href="#2048game" class="headerlink" title="2048game"></a>2048game</h3><ul>
<li>C-z  切换Normal–&gt; Emacs state</li>
</ul>
<h3 id="Tips-and-Tricks"><a href="#Tips-and-Tricks" class="headerlink" title="Tips and Tricks"></a>Tips and Tricks</h3><ul>
<li>Use “Search” instead of cursor movement</li>
</ul>
<ul>
<li>Ctrl-S and word to jump to </li>
<li>Alt-N to jump to same word cursor is on</li>
<li>F13 to jump to a character </li>
</ul>
<ul>
<li>Repeat a command with a prefixed number, i.e.<ul>
<li>Alt-9 Alt-B to jump back 9 words</li>
<li>Ctrl-5 Ctrl-P to jump up 5 lines</li>
<li>linum-relative mode is helpful</li>
</ul>
</li>
</ul>
<h3 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h3><ul>
<li>Evil:EvilVim 模拟器</li>
<li>Options/Manage Emacs Packages/Company/install<ul>
<li>安装完成之后，在文件中开启M-x company-mode 打开自动补全功能 M-n M-p上下选择要补全的内容</li>
<li>M-x global-company-mode 打开的任何文件都会自动补全</li>
</ul>
</li>
<li>换color theme <ul>
<li>M-x load-theme monokai</li>
</ul>
</li>
</ul>
<h2 id="packages"><a href="#packages" class="headerlink" title="packages"></a>packages</h2><ul>
<li>M-x package-list-packages === Options/Manage Emacs Packages(因为init.el中添加了melpa源，packagelist 里有3000多个包)</li>
<li>选择要安装的包，光标放在要安装的包上，i</li>
<li>取消选择包，光标放在要取消的包上，u</li>
<li>搜索包，C-s 包名</li>
<li>选择要删除的包，光标放在要删除的包上，d</li>
<li>执行命令，x</li>
<li>更新所有的packages, U</li>
</ul>
<h3 id="custorm-group"><a href="#custorm-group" class="headerlink" title="custorm-group"></a>custorm-group</h3><ul>
<li>修改插件配置<ul>
<li>M-x customize-group</li>
<li>js2-mode</li>
<li>external-varialable 点击向下的箭头</li>
<li>修改颜色为darkgrey</li>
<li>点击state -&gt; Save for future sessions</li>
<li>q 退出 </li>
<li>未定义的js变量为灰色</li>
<li>在init.el 最后面，多了一行<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(custom-set-faces</div><div class="line">    &apos;(js2-external-variable ((t (:foreground &quot;dark gray&quot;))))</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="nodejs-repl"><a href="#nodejs-repl" class="headerlink" title="nodejs-repl"></a>nodejs-repl</h3><p>M-x nodejs-repl<br>,sb 运行当前buffer的代码</p>
<h3 id="smex-安装步骤"><a href="#smex-安装步骤" class="headerlink" title="smex 安装步骤"></a>smex 安装步骤</h3><ul>
<li>在d:/Emacs24.4/.emacs.d/init.el中包列表中加入smex</li>
<li>增加M-x的插件，C-s切换选项<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//加载</div><div class="line">(require &apos;smex) ; Not needed if you use package.el</div><div class="line">(smex-initialize) ; Can be omitted. This might cause a (minimal) delay</div><div class="line">                  ; when Smex is auto-initialized on its first run.</div><div class="line">//配置快捷键</div><div class="line">(global-set-key (kbd &quot;M-x&quot;) &apos;smex)</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="swiper-插件的安装"><a href="#swiper-插件的安装" class="headerlink" title="swiper 插件的安装"></a>swiper 插件的安装</h3><ul>
<li>在d:/Emacs24.4/.emacs.d/init.el中包列表中加入swiper</li>
<li>配置完快捷键后，发现与counsel有关的函数不能执行</li>
<li>用M-x package-list-packages 重新安装的counsel</li>
</ul>
<h2 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h2><p>– emacs –debug-init<br>– emacs -Q<br>    – 这样Emacs就不会加载任何配置文件， 你可以对比Emacs默认的行为来判断是否真的是因为配置文件引起的问题。</p>
<h2 id="mac-下安装步骤"><a href="#mac-下安装步骤" class="headerlink" title="mac 下安装步骤"></a>mac 下安装步骤</h2><p>brew install emacs –with-cocoa –with-gnutls<br>ln -s /usr/local/Cellar/emacs/25.3/Emacs.app /Applications </p>
<h2 id="windows下安装步骤"><a href="#windows下安装步骤" class="headerlink" title="windows下安装步骤"></a>windows下安装步骤</h2><ul>
<li>到这个网址可以下载到Emacs的windows版本：<a href="http://ftp.gnu.org/pub/gnu/emacs/windows/" target="_blank" rel="external">http://ftp.gnu.org/pub/gnu/emacs/windows/</a></li>
<li>双击bin文件夹里的addpm.exe进行安装</li>
<li>在D创建文件夹Emacs24.4</li>
<li><ul>
<li>为了方便全局调用，请添加bin路径到环境变量（比如我的，D:\Emacs24.4\bin）。</li>
</ul>
</li>
<li><p>在cmd里，输入emacs -nw，以终端模式来运行emacs；只输入emacs，以GUI模式来运行</p>
</li>
<li><p>启动emacs，用鼠标点击Options菜单，随便点击一两个选项，比如点击一下Active Region Highlighting，然后点击Save Options,这样做的目的是让emacs自动创建.emacs.d目录以及.emacs文件</p>
</li>
<li>在Emacs窗口的最后一行，显示Wrote C:\Users\marong\AppData\Roaming.emacs</li>
</ul>
<h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><ul>
<li>windows 下flycheck不太兼容</li>
<li><p>tern libray　not found </p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//window 下</div><div class="line">npm install -g tern</div></pre></td></tr></table></figure>
</li>
</ul>
<p>macos ，在.spacemacs.d/init.el的user-init里添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(setenv &quot;PATH&quot; (concat (getenv &quot;PATH&quot;) &quot;:/Users/marong/.nvm/versions/node/v7.10.0/bin&quot;))</div><div class="line">(setq exec-path (append exec-path &apos;(&quot;/Users/marong/.nvm/versions/node/v7.10.0/bin&quot;)))</div></pre></td></tr></table></figure></p>
<h3 id="国内镜像"><a href="#国内镜像" class="headerlink" title="国内镜像"></a>国内镜像</h3><ul>
<li>用清华的镜像稳定一点，elpachina不太稳定<br>1.popkit<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(setq package-archives</div><div class="line">          &apos;((&quot;popkit&quot; . &quot;http://elpa.popkit.org/packages/&quot;)))</div></pre></td></tr></table></figure>
</li>
</ul>
<p>2.elpachina<br><a href="http://elpa.emacs-china.org/" target="_blank" rel="external">http://elpa.emacs-china.org/</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(setq package-archives &apos;((&quot;gnu&quot;   . &quot;http://elpa.emacs-china.org/gnu/&quot;)</div><div class="line">                         (&quot;melpa&quot; . &quot;http://elpa.emacs-china.org/melpa/&quot;)))</div></pre></td></tr></table></figure></p>
<h3 id="elisp-emacs-lisp"><a href="#elisp-emacs-lisp" class="headerlink" title="elisp(emacs lisp)"></a>elisp(emacs lisp)</h3><ul>
<li>写elisp </li>
</ul>
<ul>
<li>导航栏里/Buffers/<em>scratch</em>   默认开启Lisp Interaction mode</li>
</ul>
<ul>
<li>一般计算表达</li>
</ul>
<ul>
<li>输入(+ 2 2)  — C-x C-e  在最下面提示4</li>
<li>输入;2 +3*4 回车之后 输入内容居中 </li>
<li>C-h m  查看当前模式 内容居中的原因是开启了electric-indent mode</li>
<li>M-x electric-indent-mode 关闭该模式</li>
<li>重新输入; 2 + 3 * 4 — 分号是注释的意思</li>
<li>(+ 2 (* 3 4)  —&gt;C-x C-e  —&gt;结果14</li>
</ul>
<ul>
<li>设置变量</li>
</ul>
<ul>
<li>设置变量(setq my-name “marong”) C-x C-e</li>
<li>输出变量(message my-name) C-x C-e</li>
</ul>
<ul>
<li>设置函数<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">(defun my-func()   //没有变量</div><div class="line">    //定义成交互式函数，就能M-x my-func</div><div class="line">    (interactive)</div><div class="line">    (message &quot;hello, %s&quot; my-name))  //%s加上是为了输入my-name</div><div class="line">(my-func)</div><div class="line"></div><div class="line">//为my-func函数执行绑定快捷键</div><div class="line">(global-set-key (kbd &quot;&lt;f2&gt;&quot;) &apos;my-func)</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>M-x eval-buffer 执行整个buffer文件<h3 id="macro"><a href="#macro" class="headerlink" title="macro"></a>macro</h3></li>
</ul>
<ul>
<li>可以生成代码的代码</li>
</ul>
<h3 id="markdown编辑"><a href="#markdown编辑" class="headerlink" title="markdown编辑"></a>markdown编辑</h3><p>1.markdown中写表格|name|age|gender -&gt;回车 -&gt;生成表格<br>2.Tab 切换表格单元格<br>3.Shfit-Tab 切换到上一个单元格</p>
<h3 id="对齐问题"><a href="#对齐问题" class="headerlink" title="对齐问题"></a>对齐问题</h3><p>不同mode对齐缩进需要单独设置<br>2/4空格的切换：,ti =&gt; SPC = j</p>
<h3 id="email-邮箱设置"><a href="#email-邮箱设置" class="headerlink" title="email 邮箱设置"></a>email 邮箱设置</h3><p>设置邮箱的发送方式:send mail</p>
<h3 id="打开光标坐在路径文件open-file-path-under-cursor"><a href="#打开光标坐在路径文件open-file-path-under-cursor" class="headerlink" title="打开光标坐在路径文件open file path under cursor"></a>打开光标坐在路径文件open file path under cursor</h3><p>SPC f l === M-x find-file-at-point</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/27/emacs-command/" data-id="cj4hy1pdp0000dwx9hlpwnxun" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Emacs/">Emacs</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-vim-command" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/13/vim-command/" class="article-date">
  <time datetime="2016-11-13T02:47:25.000Z" itemprop="datePublished">2016-11-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/13/vim-command/">vim-command</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="gvim-配置环境变量"><a href="#gvim-配置环境变量" class="headerlink" title="gvim 配置环境变量"></a>gvim 配置环境变量</h3><p>PATH：添加上D:\Program Files\Vim\vim80<br>在cmd/GitBash 中输入gvim [文件]，在gvim中打开</p>
<ul>
<li>gvim deps.html +30 打开文件之后，光标定位在30行</li>
</ul>
<h3 id="normal模式"><a href="#normal模式" class="headerlink" title="normal模式:"></a>normal模式:</h3><ul>
<li>w 以单词为单位的移动，移动到下一个单词的首字母</li>
<li>b 以单词为单位的后退，后退到上一个单词的首字母</li>
<li>e 以单位为单位的移动，移动到下一个单词的尾字母</li>
<li>ge 以单词为单位的移动，移动到上一个单词的尾字母</li>
<li>cw 从光标到这个单词的结尾，并进入插入模式，c表示更改</li>
<li>cc 将一行替换为想替换的文本</li>
</ul>
<h3 id="Visual模式"><a href="#Visual模式" class="headerlink" title="Visual模式:"></a>Visual模式:</h3><ul>
<li>v—&gt;h/l移动选择—d&gt;删除</li>
<li>使用标记<ul>
<li>``  以G为命令的跳转，会记得起跳的位置</li>
<li>Ctrl+o o:older 回到之前操作的地方</li>
<li>Ctrl+i  回到后来停置光标的位置</li>
<li>:jumps 列出曾经跳转位置的列表，&gt;为最后一个跳转的位置</li>
<li>m{a-z}  可以自己定义标记的名字</li>
<li>`{a-z} 跳会自己定义标记的地方</li>
<li>V-j-j-&lt;||&gt;    5&gt;&gt; || 5&lt;&lt; (normal  模式下缩进)  选择多行并缩进</li>
</ul>
</li>
</ul>
<h3 id="替换模式："><a href="#替换模式：" class="headerlink" title="替换模式："></a>替换模式：</h3><ul>
<li>r 替换当前光标下的字符</li>
<li>R 进入替换模式，按Esc退出替换模式</li>
</ul>
<h3 id="命令行模式下-Esc"><a href="#命令行模式下-Esc" class="headerlink" title="命令行模式下(Esc):"></a>命令行模式下(Esc):</h3><p>:version 查看vim的版本<br>j:光标向下移动<br>k:光标向上移动<br>h:光标向右移动<br>l:光标向左移动<br>w:以单词为单位移动：<br>ctrl+F:向下翻一页<br>ctrl+B:向上翻一页<br>ctrl+D:向下翻半页<br>ctrl+U:向上翻半页<br>ctrl+E:增加底部行数，方便查看底部代码<br>zt：滚动至屏幕顶端<br>zb：滚动至屏幕底端<br>zz：滚动至屏幕中间<br>:w [path]:保存文件到指定路径 :w Desktop/hellowvim.html(保存到桌面文件)<br>G:跳转到文件尾<br>gg:跳转到文件头部<br>%：光标移动到行尾<br>^：光标移动到行首<br>[num]G:跳转到具体行数<br>o:在当前光标下方新增一行<br>O:<br>^/$:move to the beginning/end of line<br>I/A：move to the beginning/end of line and insert<br>D/C:delete/change until end of lline<br>V：高亮显示当前行<br>删除/复制行 </p>
<ul>
<li>dd 剪切一行 ，按p进行粘贴。</li>
<li>3dd 删除当前光标所在行的以下三行，前面加个数字可以剪切n行，按p进行粘贴。</li>
<li>yy  复制一行，，按p进行粘贴。</li>
<li>3yy 复制三行，前面加个数字可以复制n行，按p进行粘贴。</li>
<li>p 粘贴 </li>
<li>v键进入选择模式，然后按h,j,k,l移动光标，选择文本，然后按y进行复制，按p进行粘贴。</li>
<li>全部删除：按esc后，然后ggdG</li>
<li>全部复制：按esc后，然后ggyG<br>撤消与撤消的撤消 </li>
<li>u 撤消 </li>
<li>Ctrl+R 撤消的撤消</li>
<li>:earlier 2m 回车  回到2分钟之前的操作<br>查找字符串 </li>
<li>:/string    #正向查找string  按n显示下一次 </li>
<li>:%string    #逆向查找string </li>
<li>在当前字符串上按*,正向查找当前字符串 </li>
<li>在当前字符串上按#,反向查找当前字符串</li>
<li>:noh || set nohlsearch取消搜索高亮<br>单词替换<ul>
<li>yiw —-&gt;viw<br>替换字符串</li>
</ul>
</li>
<li>:s/keyword/replaceword: 替换光标所在行第一个出现的keyword为replaceword<ul>
<li>:s/keyword/replaceword: 替换光标所在行u<br>macro 宏</li>
</ul>
</li>
<li>.(dot command)不是所有的上一次的操作都能重复的，宏可以录制，并重复</li>
<li><p>记录一个宏</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">q&#123;register&#125;  //开始记录一个宏</div><div class="line">do something  //当前宏的操作</div><div class="line">q     //退出当前宏的记录</div></pre></td></tr></table></figure>
</li>
<li><p>播放一个宏</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@&#123;register&#125;  //播放一个宏</div></pre></td></tr></table></figure>
<p> 将光标定位到age = 26这一行 —-&gt;qw —-&gt;开始记录当前宏 —–&gt;进行一系列的操作，改为 var age = 26;操作完成之后—–&gt;q–&gt;完成当前录制——&gt;将光标移动到favourite行——&gt;<br> @w——&gt;favourite这行就变成了var favourite = tea; —–&gt;对name行执行相同的操作@w<br> 如果想选中三行，并播放宏。—-先将光标定位到name行—&gt;V—-&gt;jj—-&gt;选中三行—-&gt;:normal @w—-&gt;播放宏<br> w就是register</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var name = marong,</div><div class="line">    age = 26,</div><div class="line">    favourite = tea;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>分屏操作</p>
<ul>
<li>Ctrl-w c   关闭当前屏幕</li>
<li>Ctrl-w s   上下分屏当前打开的文件</li>
<li>Ctrl-w v   左右分屏当前打开的文</li>
<li>Ctrl-w q   关闭当前窗口，如果只剩最后一个了，则退出Vim</li>
<li>ctrl-w w   光标自动在左右侧窗口切换 #！！！</li>
<li>ctrl-W K  当期那窗口上移动同时占据整个Vim程序窗口的宽度</li>
<li>ctrl-W H  向左移动窗口</li>
<li>ctrl-W J  向下移动窗口</li>
<li>ctrl-W L  向右移动窗口动</li>
<li>ctrl-w =  调整所有窗口至相同</li>
<li>ctrl-w +  增加当前窗口的高度</li>
<li>ctrl-W &gt; 增加当前窗口的宽度</li>
<li>ctrl-W &lt;  减小当前窗口的宽度</li>
<li>ctrl-W x 将当前窗口与下一个窗口交换</li>
<li>ctrl-w t 将光标移动到最左边的窗口</li>
<li>ctrl-w b 将光标移动到最右边的窗口</li>
<li>ctrl-w p 将光标移动到前一个（最后打开的）窗口</li>
<li>{num}ctrl-w + 将当前窗口增加num行的高度</li>
<li>:split 新增一个窗口上下分割，光标定位到上个窗口</li>
<li>:vsplit 新增一个窗口左右分割，新窗口出现在当前窗口的左边</li>
<li>:vnew 垂直分割窗口，并打开一个新的缓冲区<br>折叠<ul>
<li>zc 折叠某一个</li>
<li>zo 展开某一个折叠</li>
<li>zm  折叠全部</li>
<li>zR 展开全部折叠<br>文字断行</li>
</ul>
</li>
<li>:set wrap  所有文字断行</li>
<li>:set nowrap 所有文字强制一行<br>文件搜索</li>
<li>在打开的文件中，光标放在有文件路径的那一个行，按下gf，文件就自动跳转到路径下的文件，页面中的include引入的片段也可以，要在另一窗口中打开指定的文件的话, 可以以”ctrl-w f”</li>
<li>gd 把光标放在函数上，按下gd，跳转到函数定义的地方<br>字符类相关</li>
<li>guu || vu： 把一行的文字全都变成小写</li>
<li>gUU || vU: 把一行的文字全都变成大写</li>
<li>ga： 查看光标出字符的ASCII码</li>
<li>-g8: 查看贯标出字符的utf-8码</li>
<li>x 删除当前光标下的字符</li>
<li>X 删除当前光标之前的字符</li>
<li>D 删除光标至行尾的内容</li>
<li>dw 删除当前光标至下一个word的开头</li>
<li>db 删除当前光标至前一个word的开始</li>
<li>diw 删除当前光标所在的word(不包括空白字符)</li>
<li>daw 删除当前光标所在的word(包括空白字符)</li>
<li>dG 删除当前行至文尾的内容</li>
<li>dgg 删除当前行至文头的内容</li>
<li>p/P 在光标所在行的下方/上方粘贴</li>
<li>f/F[字符]  向后移动到/向前移动到某个字符</li>
<li>[num]f/F[字符] 向后移动到/向前移动到某个字符的第几个</li>
<li>t/T[字符]  向后移动到/向前移动到某个字符的前一个字符</li>
<li>yiw：复制当前光标所在单词，p粘贴</li>
<li>yi} || yi] || yi) || yi” ||yi’：删除光标所在花括号、中括号、小括号里的内容</li>
<li>di} || di] || di) || di” ||di’：删除光标所在花括号、中括号、小括号里的内容</li>
<li>ci} || ci] || ci) || ci’ ||ci”：删除光标所在花括号、中括号、小括号里的内容，并进入insert模式</li>
<li>yt[字符]：复制当前光标直到某个字符，不包括某个字符</li>
<li>dt[字符]：删除当前光标直到某个字符，不包括某个字符</li>
<li>ct[字符]：删除当前光标直到某个字符，不包括某个字符</li>
<li>df [字符]：删除当前光标知道某个字符，比如df.(删除当前光标直到.),dfn(删除当前光标直到n)</li>
<li>c：删除，插入并替换</li>
<li>caw：删除光标所在整个单词，并进入insert模式</li>
<li>cw：删除光标所在字符到单词的结尾</li>
<li>va” 选在双引号之间的内容，并连同双引号，选中之后可以y，c,d之类操作</li>
<li>va’ 选择单引号之间的内容，并连同单引号，选中之后可以y，c,d之类操作</li>
<li>.  (repeat last command,重复上一次操作）<br>奖贯标定位到aa的单引号内，ci’—-&gt;YYYY-MM-DD HH:mm:ss —&gt;normal command —–&gt;光标一定到bb的单引号内—&gt;.—&gt;就和aa的操作结果是一样的<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var aa = &apos;YYYY-MM-DD&apos;;</div><div class="line">var bb = &apos;YYYY-MM-DD&apos;;</div><div class="line"> var cc = &apos;YYYY-MM-DD&apos;;</div><div class="line">  var dd = &apos;YYYY-MM-DD&apos;;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>缩进</p>
<ul>
<li><blockquote>
<blockquote>
<p>&lt;&lt; ：向后、向前缩进</p>
</blockquote>
</blockquote>
</li>
<li>= ：缩进当前行，对齐缩进</li>
<li>=% ：在代码的语句块重，把光标移动到{括号上,按下=%，对齐代码块中的代码</li>
<li>G=gg || gg=G ：缩进整个文件（G是到文件结尾，gg是到文件开头</li>
</ul>
<h3 id="插入模式-i"><a href="#插入模式-i" class="headerlink" title="插入模式(i):"></a>插入模式(i):</h3><ul>
<li>Ctrl + n:自动补齐</li>
<li>Ctrl + p: 安装上下箭头，选择要补齐的字段</li>
<li>Ctrl +x Ctrl + f Ctrl + p:自动补齐文件名</li>
<li>Ctrl + X 和 Ctrl + D 宏定义补齐</li>
<li>Ctrl + X 和 Ctrl + ] 是Tag 补齐</li>
<li>Ctrl + X 和 Ctrl + F 是文件名 补齐</li>
<li>Ctrl + X 和 Ctrl + I 也是关键词补齐，但是关键后会有个文件名，告诉你这个关键词在哪个文件中</li>
<li>Ctrl + X 和 Ctrl +V 是表达式补齐</li>
<li>Ctrl + X 和 Ctrl +L 这可以对整个行补齐</li>
<li>i：从光标当前位置开始输入文件。</li>
<li>a：从目前光标所在位置的下一个位置开始输入文字。</li>
<li>o：插入新的一行，从行首开始输入文字。</li>
<li>I：在光标所在行的行首插入。</li>
<li>A：在光标所在行的行末插入。</li>
<li>O：在光标所在的行的下面插入一行。</li>
<li>s：删除光标后的一个字符，然后进入插入模式。</li>
<li>S：删除光标所在的行，然后进入插入模式。</li>
</ul>
<h3 id="底行模式"><a href="#底行模式" class="headerlink" title="底行模式"></a>底行模式</h3><ol>
<li>:Explore<ul>
<li>浏览项目目录,hj移动项目，回车选择项目或文件</li>
<li>输入-回到上级目录</li>
<li>R：重命名文件</li>
<li>tab键可以来回切换目录</li>
<li>d 新建文件夹</li>
</ul>
</li>
<li>:ls 查看当前打开的文件<ul>
<li>:e#文件编号，编辑当前选择的文件</li>
</ul>
</li>
<li>:f [filename]修改当前打开的文件名</li>
<li>:new [filename]新建文件</li>
<li>文件保存和退出<ul>
<li>:w 保存不退出</li>
<li>:q 退出文件</li>
<li>:wq 保存并退出</li>
<li>:q! 不保存并退出</li>
<li>:x 退出，如果文件更改则保存</li>
<li>shift + Z +Z  退出，如果文件更改则保存（按住Shift，再按两次z）</li>
</ul>
</li>
<li>文件对比<ul>
<li>在一个窗口里输入:diffthis</li>
<li>在另一个窗口里输入:diffthis</li>
</ul>
</li>
</ol>
<h3 id="缓冲区"><a href="#缓冲区" class="headerlink" title="缓冲区"></a>缓冲区</h3><ul>
<li>:ls :files :buffers 列出缓冲</li>
<li>:ball 编辑所有参数或缓冲区</li>
<li>:buffer n 移向缓冲区n</li>
<li>:bdelete 卸载缓冲区，并从缓冲区列表中删除</li>
</ul>
<h3 id="emmet-vim"><a href="#emmet-vim" class="headerlink" title="emmet-vim"></a>emmet-vim</h3><ul>
<li>html:5 <ctrl y="" ,=""> 生成html片段</ctrl></li>
<li>! <ctrl y="" ,=""> 生成html片段</ctrl></li>
</ul>
<h3 id="nerdtree快捷键"><a href="#nerdtree快捷键" class="headerlink" title="nerdtree快捷键"></a>nerdtree快捷键</h3><ul>
<li>o: 打开当前文件夹或直接打开文件</li>
<li>go：打开文件，当光标留在nerdtree</li>
<li>t：在新 Tab 中打开选中文件/书签，并跳到新 Tab</li>
<li>T：在新 Tab 中打开选中文件/书签，但不跳到新 Tab</li>
<li>i：split 一个新窗口打开选中文件，并跳到该窗口</li>
<li>gi：split 一个新窗口打开选中文件，但不跳到该窗口</li>
<li>？:来回切换帮助文档</li>
<li>设置某个路径为当前的nerdtree，打开gvim后，输入:cd D:/frontend/modules/,回车—&gt;cd—&gt;选择打开当前目录—&gt;C,设置当前目录为nerdtress</li>
<li>:NERDTree : 打开nerdtree</li>
<li>B：打开或关闭bookmark,打开bookmark，之后，双击项目</li>
<li>:Bookmark [<name>] 创建bookmark</name></li>
<li>删除标签，双击选中标签，按下D，输入y</li>
<li>r: 刷新当前光标所在的文件</li>
<li>R：刷新当前根节点</li>
<li>p: 返回父级</li>
<li>A：全屏幕或默认状态显示nerdtree<ul>
<li>m—&gt;a directory name\   创建一个文件夹</li>
<li>m—&gt;a filename  创建一个文件</li>
<li>m—&gt;d 删除某个节点</li>
<li>m—&gt;m 重命名或移动某个节点</li>
</ul>
</li>
</ul>
<h3 id="nerd-commenter"><a href="#nerd-commenter" class="headerlink" title="nerd commenter"></a>nerd commenter</h3><ul>
<li>\cc  注释，多行注释，V–L–\cc</li>
<li>\cu  取消注释，取消多行注释，V–l–\cu</li>
</ul>
<h3 id="vim-multiple-cursors"><a href="#vim-multiple-cursors" class="headerlink" title="vim-multiple-cursors"></a>vim-multiple-cursors</h3><ul>
<li>替换单词，光标移动到单词，Ctrl+n —&gt;Ctrl+n—-&gt;c—&gt;replaceword </li>
</ul>
<h3 id="tab-标签切换"><a href="#tab-标签切换" class="headerlink" title="tab 标签切换"></a>tab 标签切换</h3><ul>
<li>gt: 标签切换到下一tab</li>
<li>gT: 标签切换到上一个tab</li>
<li>{i} gt ：i是数字，到指定页，比如：5 gt 就是到第5页</li>
<li>:tabm {n}</li>
<li>:tabc: 关闭当前标签</li>
<li>:tabs: 查看所有打开的tab</li>
<li>:tabo：  关闭所有其他的 tab：</li>
<li>:tabp: 前一个tab</li>
<li>:tabn: 后一个tab</li>
<li>:tabclose [i] – 如果后面指定了数字，那就关闭指定页，如果没有就关闭当前页</li>
<li>:q : 关闭当前页</li>
<li>Ctrl + O： 向后回退你的光标移动，tab级别光标移动</li>
<li>Ctrl + I：向前追赶你的光标移动，tab级别光标移动</li>
</ul>
<p>这两个快捷键很有用，可以在Tab页和Windows中向前和向后trace你的光标键，这也方便你跳转光标。</p>
<h3 id="读取shell命令"><a href="#读取shell命令" class="headerlink" title="读取shell命令"></a>读取shell命令</h3><ul>
<li>:r!date   上面这个命令，:r 是:read的缩写，!是表明要运行一个shell命令，意思是我要把shell命令的输出读到vim里来。</li>
</ul>
<h3 id="ctrlp-插件的使用"><a href="#ctrlp-插件的使用" class="headerlink" title="ctrlp 插件的使用"></a>ctrlp 插件的使用</h3><ul>
<li>:CtrlP 再输入要查找的文件名，选择文件</li>
<li>Ctrl + p  输入要查找的文件名、后缀，模糊搜索–&gt;Ctrl+j/k上线移动选择文件 –&gt;Ctrl+T(在tab中打开)|| Ctrl+v(垂直窗口打开) || Ctrl+x(水平窗口打开)</li>
<li>一次打开多个文件：Ctrl+P —&gt;Ctrl+k/j –&gt;Ctrl+z(选中当前文件)—–&gt;Ctrl+k/j –&gt;Ctrl+z(选中另一个当前文件)—&gt; Ctrl+o(打开多个文件)</li>
<li>ctrl + p ctrl + f: 在    在普通文件、Buffers或者MRU文件模式切换</li>
</ul>
<h2 id="EasyGrey-插件的使用"><a href="#EasyGrey-插件的使用" class="headerlink" title="EasyGrey 插件的使用"></a>EasyGrey 插件的使用</h2><ul>
<li>按下的速度要快，不然动作会被分解，不会执行</li>
<li>:Grep targetword </li>
<li>\vv || :Grep word 搜索当前光标下的单词</li>
<li>\vV || :Grep !word 全词搜索匹配</li>
<li>\vr || :Replace /target/replacement/ || :Replace target replace   替换词</li>
<li>:ReplaceUndo  撤销替换，只能撤销上一次的替换</li>
<li>如果想查询指定文件夹下的某个词： <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//进入要查询的文件夹</div><div class="line">:cd d:/frontend/modules</div><div class="line">//搜索关键词,不区分大小写，递归子文件夹查找</div><div class="line">:Grep foreach -ir</div><div class="line">//打开EasyGrep选项，输入？显示全部操作面板，e查看当前操作的文件夹</div><div class="line">:GrepOptions ---&gt; ? ----&gt; a</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="fugitive-插件的使用"><a href="#fugitive-插件的使用" class="headerlink" title="fugitive 插件的使用"></a>fugitive 插件的使用</h2><ul>
<li>:Gstatus 查看当前状态</li>
<li>:Gdiff 对比当前文件与上一版本的改动<h2 id="tagbar-插件的安装与使用"><a href="#tagbar-插件的安装与使用" class="headerlink" title="tagbar 插件的安装与使用"></a>tagbar 插件的安装与使用</h2></li>
<li>安装tagbar插件，需要下载ctags，<a href="http://ctags.sourceforge.net/，选择windows的版本，下载压缩包完成后，把解压后的文件夹放在D:/Program" target="_blank" rel="external">http://ctags.sourceforge.net/，选择windows的版本，下载压缩包完成后，把解压后的文件夹放在D:/Program</a> Files/ 下，并配置环境变量：D:\Program Files\ctags58</li>
<li>:TagbarToggle</li>
</ul>
<h3 id="vim-配置-vimrc"><a href="#vim-配置-vimrc" class="headerlink" title="vim 配置, _vimrc"></a>vim 配置, _vimrc</h3><h3 id="打开配置文件的时候，自动折叠-设置-vim-相关文件打开后默认折叠方式为marker，约定俗成的用三个花括号注释包裹起来，配置文件看起来就简洁多了"><a href="#打开配置文件的时候，自动折叠-设置-vim-相关文件打开后默认折叠方式为marker，约定俗成的用三个花括号注释包裹起来，配置文件看起来就简洁多了" class="headerlink" title="打开配置文件的时候，自动折叠,设置 vim 相关文件打开后默认折叠方式为marker，约定俗成的用三个花括号注释包裹起来，配置文件看起来就简洁多了"></a>打开配置文件的时候，自动折叠,设置 vim 相关文件打开后默认折叠方式为marker，约定俗成的用三个花括号注释包裹起来，配置文件看起来就简洁多了</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&quot; Startup &#123;&#123;&#123; </div><div class="line">  filetype indent plugin on </div><div class="line">&quot; vim 文件折叠方式为 marker </div><div class="line">augroup ft_vim </div><div class="line">	au!</div><div class="line">       	au FileType vim setlocal foldmethod=marker </div><div class="line">augroup END </div><div class="line">&quot; &#125;&#125;&#125;</div></pre></td></tr></table></figure>
<h3 id="设置编码"><a href="#设置编码" class="headerlink" title="设置编码"></a>设置编码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&quot; Lang &amp; Encoding &#123;&#123;&#123;</div><div class="line">set fileencodings=utf-8,gbk2312,gbk,gb18030,cp936</div><div class="line">set encoding=utf-8 //暂时删除，菜单会乱码</div><div class="line">set langmenu=zh_CN//暂时删除，菜单会乱码</div><div class="line">let $LANG = &apos;en_US.UTF-8&apos;//暂时删除，菜单会乱码</div><div class="line">&quot;language messages zh_CN.UTF-8</div><div class="line">&quot; &#125;&#125;&#125;</div></pre></td></tr></table></figure>
<h3 id="设置gui"><a href="#设置gui" class="headerlink" title="设置gui"></a>设置gui</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">&quot; GUI &#123;&#123;&#123;</div><div class="line">colorscheme Tomorrow-Night</div><div class="line"></div><div class="line">source $VIMRUNTIME/delmenu.vim</div><div class="line">source $VIMRUNTIME/menu.vim</div><div class="line">set cursorline</div><div class="line">set hlsearch</div><div class="line">set number</div><div class="line">&quot; 窗口大小</div><div class="line">set lines=35 columns=140</div><div class="line">&quot; 分割出来的窗口位于当前窗口下边/右边</div><div class="line">set splitbelow</div><div class="line">set splitright</div><div class="line">&quot;不显示工具/菜单栏</div><div class="line">set guioptions-=T</div><div class="line">set guioptions-=m</div><div class="line">set guioptions-=L</div><div class="line">set guioptions-=r</div><div class="line">set guioptions-=b</div><div class="line">&quot; 使用内置 tab 样式而不是 gui</div><div class="line">set guioptions-=e</div><div class="line">&quot; set nolist</div><div class="line">set listchars=trail:·,extends:&gt;,precedes:&lt;</div><div class="line">set guifont=Inconsolata:h12:cANSI</div><div class="line"></div><div class="line">set statusline=%f</div><div class="line">set statusline+=%m</div><div class="line">set statusline+=\ %&#123;fugitive#head()&#125;</div><div class="line">set statusline+=%=</div><div class="line">set statusline+=%&#123;&apos;&apos;.(&amp;fenc!=&apos;&apos;?&amp;fenc:&amp;enc).&apos;&apos;&#125;</div><div class="line">set statusline+=/</div><div class="line">set statusline +=%&#123;&amp;ff&#125;            &quot;file format</div><div class="line">set statusline+=\ -\      &quot; Separator</div><div class="line">set statusline+=%l/%L</div><div class="line">set statusline+=[%p%%]</div><div class="line">set statusline+=\ -\      &quot; Separator</div><div class="line">set statusline +=%1*\ %y\ %*</div><div class="line"></div><div class="line">&quot; &#125;&#125;&#125;</div></pre></td></tr></table></figure>
<h3 id="vundle安装"><a href="#vundle安装" class="headerlink" title="vundle安装"></a>vundle安装</h3><p>在windows系统中，vim编辑器配置的文件夹是vimfiles、_vimrc<br>在linux系统中，vim编辑器配置的文件夹是.vim, .vimrc<br>参考链接：<a href="http://allotory.github.io/posts/2016/02/25/vimrc_config/" target="_blank" rel="external">http://allotory.github.io/posts/2016/02/25/vimrc_config/</a><br>git链接：<a href="https://github.com/allotory/doricha" target="_blank" rel="external">https://github.com/allotory/doricha</a><br>步骤：</p>
<ol>
<li>备份好vimfiles, _vimrc文件</li>
<li>git clone –recursive git@github.com:allotory/doricha.git vimfiles</li>
<li>在_vimrc文件中添加以下代码，<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">if(has(&apos;win32&apos;) || has(&apos;win64&apos;))</div><div class="line">    source $VIM/vimfiles/vundle_vimrc</div><div class="line">    source $VIM/vimfiles/basic_vimrc</div><div class="line">else</div><div class="line">    source ~/.vim/vundle_vimrc</div><div class="line">    source ~/.vim/basic_vimrc</div><div class="line">endif</div></pre></td></tr></table></figure>
</li>
</ol>
<p>更新插件:BundleUpdate<br>清除不再使用的插件:BundleClean,<br>列出所有插件:BundleList<br>查找插件:BundleSearch</p>
<h3 id="安装插件步骤"><a href="#安装插件步骤" class="headerlink" title="安装插件步骤"></a>安装插件步骤</h3><ol>
<li><p>安装nerdtree插件</p>
<ul>
<li><p>在vundle_vimrc中添加插件 Plugin </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Plugin &apos;scrooloose/nerdtree&apos;</div></pre></td></tr></table></figure>
</li>
<li><p>在gvim中输入:PluginInstall</p>
</li>
<li><p>在basic_vimrc配置nerdtress</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">autocmd vimenter * NERDTree</div><div class="line">let NERDTreeWinSize=25</div></pre></td></tr></table></figure>
</li>
<li><p>将已安装的插件以子模块的形式进行管理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">    $ git submodule add https://github.com/scrooloose/nerdtree.git bundle/nerdtree</div><div class="line">`   Adding existing repo at &apos;bundle/nerdtree&apos; to the index</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git submodule init //每次add之后，都需要init</div></pre></td></tr></table></figure>
</li>
<li><p>此时我们已经完成了所有的安装配置操作，可以正常的提交到 Github。</p>
</li>
</ul>
</li>
<li><p>安装vim-tomorrow-night theme</p>
<ul>
<li><p>在vundle_vimrc中添加插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Plugin &apos;chriskempson/vim-tomorrow-theme&apos;</div></pre></td></tr></table></figure>
</li>
<li><p>在gvim中输入:PluginInstall</p>
</li>
<li><p>在basic_vimrc配置vim-tomorrow-night</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">colorscheme Tomorrow-Night</div></pre></td></tr></table></figure>
</li>
<li><p>将已安装的插件以子模块的形式进行管理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">    $ git submodule add https://github.com/chriskempson/vim-tomorrow-theme.git bundle/vim-tomorrow-theme</div><div class="line">`   Adding existing repo at &apos;bundle/vim-tomorrow-theme&apos; to the index</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git submodule init //每次add之后，都需要init</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>此时我们已经完成了所有的安装配置操作，可以正常的提交到 Github。</li>
</ul>
</li>
<li>安装youcompleteme<ul>
<li>参照官网windows下的安装步骤</li>
<li><ol>
<li>如何判断是否支持python3，命令符输入vim –version 看看里面是否有+python3，如果是-python3则表示不支持</li>
</ol>
</li>
<li>安装Vundle，具体步骤请看<a href="https://github.com/VundleVim/Vundle.vim" target="_blank" rel="external">https://github.com/VundleVim/Vundle.vim</a></li>
<li>通过Vundle安装YouCompleteMe</li>
<li>Plugin Valloric/YouCompleteMe加入vimrc</li>
<li>启动Vim，:e PluginInstall，等待安装完成</li>
<li>下载python3最新版本安装，ycm官方推荐python3</li>
<li>下载安装CMake，安装过程中勾选加入path比较容易</li>
<li>下载安装7zip，编译ycm的时候需要用</li>
<li>下载安装Visual Studio 2015 Community版本</li>
<li>打开VS2015，创建一个新C++ Project， 会提示你下载安装C++ tools，选择安装，此过程需要每个盘符4GB空间</li>
<li>由于包比较大，子模块下载的时候容易出错，我后来就手动安装，需要网络好的情况下</li>
</ul>
</li>
</ol>
<h3 id="tern-for-vim"><a href="#tern-for-vim" class="headerlink" title="tern_for_vim"></a>tern_for_vim</h3><ul>
<li>ternjs/tern_for_vim</li>
<li>需要安装 tern_for_vim 就可以获得 JavaScript 的语义补全</li>
<li>安装完成后，在bundle/tern_for_vim里执行npm install</li>
<li>在项目目录里，需要配置.tern-project文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  &quot;libs&quot;: [</div><div class="line">    &quot;browser&quot;,</div><div class="line">    &quot;jquery&quot;</div><div class="line">  ],</div><div class="line">  &quot;loadEagerly&quot;: [</div><div class="line">    &quot;importantfile.js&quot;</div><div class="line">  ],</div><div class="line">  &quot;plugins&quot;: &#123;</div><div class="line">    &quot;requirejs&quot;: &#123;</div><div class="line">      &quot;baseURL&quot;: &quot;./&quot;,</div><div class="line">      &quot;paths&quot;: &#123;&#125;</div><div class="line">    &#125;,</div><div class="line">    &quot;node&quot;:&#123;&#125;,</div><div class="line">    &quot;angularjs&quot;:&#123;&#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="git删除一个submodule"><a href="#git删除一个submodule" class="headerlink" title="git删除一个submodule"></a>git删除一个submodule</h3><p>需要手动删除.gitmodules里面repo的配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git submodule deinit &lt;asubmodule&gt;    </div><div class="line">git rm &lt;asubmodule&gt;</div><div class="line"># Note: asubmodule (no trailing slash)</div><div class="line"># or, if you want to leave it in your working tree</div><div class="line">git rm --cached &lt;asubmodule&gt;</div><div class="line">rm -rf .git/modules/&lt;asubmodule&gt;</div></pre></td></tr></table></figure></p>
<h3 id="vim配置过程中报错"><a href="#vim配置过程中报错" class="headerlink" title="vim配置过程中报错"></a>vim配置过程中报错</h3><ol>
<li>vundle #begin方法没有找到<ul>
<li>因为vundle没有clone到本地，在vim执行:echo globpath(&amp;rtp, ‘autoload/vundle.vim’)，查看vundle路径，什么都没有返回</li>
<li>解决办法：git clone –recursive git@github.com:allotory/doricha.git vimfiles</li>
</ul>
</li>
<li>NERDTree使用m–&gt;d删除某个文件夹的时候，报错，最后发现是因为用git bash命令行窗口打开的gvim，删除文件夹的命令不好用，直接打开gvim，删除文件的命令就不报错了</li>
<li>如果有时候执行submodule add [url] [path],在.gitmodules没有改模块的配置,No submodule mapping found in .gitmodules for path<ul>
<li>解决方法：执行git rm –cached [path]<br>4.YouCompleteMe:安装过程遇到的问题<br>1.执行git submodule update –init –recursive 的时候，注意是否有的子模块下载失败，需要网络好的情况下，由于模块多，文件大，需要足够很长的时间和耐心，如果执行失败，就多执行几次，或者进入子模块中执行。在安装过程中，ycmd模块中的子模块较多，而且子模块中有子模块，多执行几次。<br>2.所有文件编译好之后，还是会报错：setUpPython Pythons site module could not be loaded。这是因为电脑上有python-2.7.11导致的，卸载掉python-2.7.11就好了。编译时用的python3.5.2</li>
</ul>
</li>
</ol>
<h3 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h3><ol>
<li>替换一个文件中某一行的keyword</li>
<li>某个项目下的keyword</li>
<li>快速注释 </li>
<li>安装YouCompleteMe 代码片段snipe</li>
<li>多光标同时编辑</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/13/vim-command/" data-id="cj4hy1pf6001fdwx9wix7hnko" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vim/">Vim</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-svn-commandline" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/08/svn-commandline/" class="article-date">
  <time datetime="2016-08-08T02:35:39.000Z" itemprop="datePublished">2016-08-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/08/svn-commandline/">svn-commandline</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="svn命令行"><a href="#svn命令行" class="headerlink" title="svn命令行"></a>svn命令行</h3><ul>
<li>svn help ： 查看svn命令</li>
<li>svn add</li>
<li>svn blame</li>
<li>svn cat</li>
<li>svn changelist</li>
<li>svn checkout <co></co></li>
<li>svn commit <ci></ci></li>
<li>svn copy</li>
<li>svn delete</li>
<li>svn diff <di></di></li>
<li>svn export</li>
<li>svn import</li>
<li>svn info</li>
<li>svn list</li>
<li>svn lock</li>
<li>svn log</li>
<li>svn merge</li>
<li>svn mergeinfo </li>
<li>svn mkdir</li>
<li>svn move &lt; mv, rename, ren&gt;</li>
<li>svn patch</li>
<li>svn propdel <pdel, pd=""></pdel,></li>
<li>svn propedit <pedit, pe=""></pedit,></li>
<li>svn propget <pget, pg=""></pget,></li>
<li>svn proplist <plist, pl=""></plist,></li>
<li>svn propset <pset, ps=""></pset,></li>
<li>svn relocate</li>
<li>svn resolve</li>
<li>svn resolved</li>
<li>svn revert</li>
<li>svn status <stat, st=""></stat,></li>
<li>svn switch <sw></sw></li>
<li>svn unlock</li>
<li>svn update <up></up></li>
<li>svn upgrade<h3 id="放弃本地所有修改"><a href="#放弃本地所有修改" class="headerlink" title="放弃本地所有修改"></a>放弃本地所有修改</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">svn revert -R .</div><div class="line">svn up</div><div class="line">svn revert index.html //恢复某个文件</div><div class="line">svn revert modules/tab/tab.css modules/head/head.css ... //恢复多个文件</div><div class="line">svn revert module/tabs/ --depth==infinity   //恢复某个文件夹</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="svn显示最近几条log"><a href="#svn显示最近几条log" class="headerlink" title="svn显示最近几条log"></a>svn显示最近几条log</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">svn --limit &lt;n&gt; // 显示最近n条log </div><div class="line">svn -l &lt;n&gt; // 显示最近n条log </div><div class="line">svn -l 4 // 显示最近4条log</div></pre></td></tr></table></figure>
<h3 id="svn-提交多个文件"><a href="#svn-提交多个文件" class="headerlink" title="svn 提交多个文件"></a>svn 提交多个文件</h3><ul>
<li>方法一：<ul>
<li>svn commit –m”log msg” mydir/dir1/file1.c mydir/dir2/myfile1.h mydir/dir3/myfile3.</li>
</ul>
</li>
<li>方法二：<ul>
<li>$ svn changelist my-changelist mydir/dir1/file1.c mydir/dir2/myfile1.h<br>$ svn changelist my-changelist mydir/dir3/myfile3.c etc.<br>… (add all the files you want to commit together at your own rate)</li>
<li>$ svn commit -m”log msg” –changelist my-changelist</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/08/svn-commandline/" data-id="cj4hy1pf20018dwx9i3zanq1a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/svn/">svn</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-regexp" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/06/07/regexp/" class="article-date">
  <time datetime="2016-06-07T03:45:08.000Z" itemprop="datePublished">2016-06-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/07/regexp/">正则表达式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>String.prototype.match()</li>
<li><p>String.prototype.replace()</p>
</li>
<li><p>RegExp.prototype.exec() </p>
</li>
<li>RegExp.prototype.test()</li>
</ul>
<h2 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h2><table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">^</td>
<td style="text-align:left">匹配字符串的开头，多行检索中，匹配一行的开头</td>
</tr>
<tr>
<td style="text-align:left">$</td>
<td style="text-align:left">匹配字符串的结尾，多行检索中，匹配一行的结尾</td>
</tr>
<tr>
<td style="text-align:left">\b</td>
<td style="text-align:left">匹配一个单词的边界</td>
</tr>
<tr>
<td style="text-align:left">\B</td>
<td style="text-align:left">匹配而非单词的边界</td>
</tr>
<tr>
<td style="text-align:left">(?=p)</td>
<td style="text-align:left">零宽正向先行断言，要求接下来的字符都与p匹配，但不能包括匹配p的那些字符</td>
</tr>
<tr>
<td style="text-align:left">(?!p)</td>
<td style="text-align:left">零宽负向先行断言，要求接下来的字符不与p匹配</td>
</tr>
<tr>
<td style="text-align:left">(?&lt;=p)</td>
<td style="text-align:left">javscript不支持</td>
</tr>
<tr>
<td style="text-align:left">(?&lt;!p)</td>
<td style="text-align:left">javascript不支持</td>
</tr>
<tr>
<td style="text-align:left">(?&gt;p)</td>
<td style="text-align:left">固化分组, javascript不支持</td>
</tr>
</tbody>
</table>
<h2 id="量词"><a href="#量词" class="headerlink" title="量词"></a>量词</h2><table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">?</td>
<td style="text-align:left">0次货1次</td>
</tr>
<tr>
<td style="text-align:left">+</td>
<td style="text-align:left">一次或多次</td>
</tr>
<tr>
<td style="text-align:left">*</td>
<td style="text-align:left">0次或多次</td>
</tr>
<tr>
<td style="text-align:left">{n}</td>
<td style="text-align:left">n次</td>
</tr>
<tr>
<td style="text-align:left">{n,}</td>
<td style="text-align:left">n次或更多次</td>
</tr>
<tr>
<td style="text-align:left">{n, m}</td>
<td style="text-align:left">次数在n,m之间,至少n次，但不能超过m次</td>
</tr>
</tbody>
</table>
<h3 id=""><a href="#" class="headerlink" title="."></a>.</h3><p>. 不能匹配回车和换行\n, \r</p>
<h3 id="匹配包含p-但不包含h的所有单词"><a href="#匹配包含p-但不包含h的所有单词" class="headerlink" title="匹配包含p, 但不包含h的所有单词"></a>匹配包含p, 但不包含h的所有单词</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> web_development = <span class="string">"python php ruby javascript jsonp perhapsphpisoutdated"</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/\bp(?!h)\w*\b/g</span>;</div><div class="line">web_development.match(reg); <span class="comment">//["python", "perhapsphpisoutdated"]</span></div></pre></td></tr></table></figure>
<h3 id="零宽断言"><a href="#零宽断言" class="headerlink" title="零宽断言"></a>零宽断言</h3><p>js 中，对于四种零宽断言，只支持 零宽度正预测先行断言 和 零宽度负预测先行断言 这两种。</p>
<p>js 中，正则表达式后面可以跟三个 flag，比如 /something/igm。</p>
<p>他们的意义分别是，</p>
<p>i 的意义是不区分大小写<br>g 的意义是，匹配多个<br>m 的意义是，是 ^ 和 $ 可以匹配每一行的开头。</p>
<p>javascript不支持“零宽度正回顾后发断言”</p>
<h3 id="子表达式"><a href="#子表达式" class="headerlink" title="(?: 子表达式)"></a>(?: 子表达式)</h3><ul>
<li>定义非捕获组,只分组不捕获<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Write(?:Line)</div><div class="line">var reg = /Write(?:Line)/;</div><div class="line">var dd = &apos;Console.WriteLine()&apos;;</div><div class="line">dd.match(reg)  //[&apos;WriteLine&apos;]</div><div class="line"></div><div class="line">var reg = /Write(Line)/;</div><div class="line">var dd = &apos;Console.WriteLine()&apos;;</div><div class="line">dd.match(reg)  //[&apos;WriteLine&apos;, &apos;Line&apos;];</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="子表达式-1"><a href="#子表达式-1" class="headerlink" title="(?= 子表达式)"></a>(?= 子表达式)</h3><ul>
<li>仅当子表达式在此位置的右侧匹配时才继续匹配。例如，\w+(?=\d) 与后跟数字的单词匹配，而不与该数字匹配<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var ss = /^\W*(?=空气质量)|[^&gt;]*(?=&lt;\/b&gt;)/g;</div><div class="line">var dd = &apos;北京空气质量：&lt;b&gt;90&lt;/b&gt;&apos;;</div><div class="line">var rr = dd.match(ss); //[&quot;北京&quot;, &quot;90&quot;, &quot;&quot;]</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="lt-子表达式"><a href="#lt-子表达式" class="headerlink" title="(?&lt;= 子表达式)"></a>(?&lt;= 子表达式)</h3><ul>
<li>（零宽度正回顾后发断言。） 仅当子表达式在此位置的左侧匹配时才继续匹配。例如，(?&lt;=19)99 与跟在 19 后面的 99 的实例匹配。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">'Homes Tea is good, hometown is beautiful'</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?&lt;=\bhome)(?=s\b)/gi</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?=s\b)(?&lt;=\bhome)/gi</span>;<span class="comment">//位置变化没有影响</span></div><div class="line">str.replace(reg, <span class="string">"'"</span>);</div></pre></td></tr></table></figure>
</li>
</ul>
<p>格式化数字<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="string">'1234876'</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?&lt;=\d)(?=(\d\d\d)+$)/gi</span>;</div><div class="line">num.replace(reg, <span class="string">','</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> num = <span class="string">'hello, here is 1234876 str'</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?&lt;=\d)(?=(\d\d\d)+\b)/gi</span>;</div><div class="line">num.replace(reg, <span class="string">','</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> num = <span class="string">'hello, here is 1234876kg str'</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?&lt;=\d)(?=(\d\d\d)+(?!\d))/gi</span>;</div><div class="line">num.replace(reg, <span class="string">','</span>);</div></pre></td></tr></table></figure></p>
<p>匹配空格间隔的字符串<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> cls=<span class="string">"item current"</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/(?&lt;=\s*)([^\s]+)(?=\s*)/</span>;</div><div class="line">cls.match(reg);</div><div class="line"><span class="string">``</span><span class="string">` </span></div><div class="line"></div><div class="line"></div><div class="line">1.[...]字符组</div><div class="line">一个字符组只能匹配目标文本的单个字符，在字符组内部，只有连字符才是元字符（如果连字符出现在字符组的开头，只表示一个普通的字符），?.等元字符在字符组内部就是一个普通字符, \在字符组内需要转义。</div><div class="line">`<span class="string">``</span>javascript</div><div class="line"><span class="comment">//真正的特殊字符只有两个连字符</span></div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/[1-9A-Z_!.?]/</span>;</div></pre></td></tr></table></figure></p>
<ol>
<li>| 或，子表达式称为多选分支<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//匹配gray，grey</div><div class="line">var reg = /gray|grey/;</div><div class="line">var reg = /gr(a|e)y/;</div><div class="line">var reg = /gr[ae]y/;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>3.反向引用<br>匹配与表达式先前部分匹配的同样的文本。在一个表达式中，可以使用多个括号，\1,\2,\3等用来表示第一，第二，第三组括号匹配的文本。括号是按照开括号(从左到右的出现顺序进行的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//匹配字符串中重复出现的单词</div><div class="line">var ss = &apos;hello world  world;</div><div class="line">var reg = /\b([A-Za-z]+) +\1\b/;</div><div class="line">reg.exec(ss)</div></pre></td></tr></table></figure></p>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><ul>
<li><p>匹配引号内的字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var ss = &apos;Some on said &quot;Programing is fun&quot;&apos;;</div><div class="line">var reg = /&quot;[^&quot;]*&quot;/;</div><div class="line">var result = reg.exec(ss);</div></pre></td></tr></table></figure>
</li>
<li><p>匹配时间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//9:17 am 12:30pm</div><div class="line">var reg = /(0?[1-9]|1[012]):[0-5][0-9] *(a|m)p/;</div><div class="line">//09:59 24小时制</div><div class="line">var reg = /([01]?[0-9]|2[0-3]):[0-5][0-9]/;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="正则表达式的匹配原则"><a href="#正则表达式的匹配原则" class="headerlink" title="正则表达式的匹配原则"></a>正则表达式的匹配原则</h3><ul>
<li>量词? * + {min, max}都是贪婪匹配的，尽可能多的匹配字符，直到达到匹配上限为止。</li>
<li>量词?? *? +? {min, max}?都是懒惰匹配的，尽可能少的匹配字符，只需满足匹配下限。</li>
<li>占有优先量词: ?+ *+ ++ {min, max}+都是贪婪匹配的，在匹配的过程中不会交还任何匹配到的字符(javascript不支持)。</li>
<li>先来先服务原则<br>先满足先来的量词的贪婪匹配，后来的量词满足最基本的匹配.<br>.<em>会贪婪匹配整个字符串,只有在全局匹配需要的情况下，才会被迫交出一些字符<br>为了满足\d{4}的匹配，强迫.\</em>从右到左交还字符（保证.*匹配的最基本的条件），直到满足匹配，下面能匹配2017.<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"this year is 2017"</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/^.*+(\d&#123;4&#125;)/</span>;</div><div class="line"><span class="keyword">var</span> result = reg.exec(str);</div><div class="line">result[<span class="number">1</span>] <span class="comment">//2017</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>下面的结果只能匹配到7,根据先来先服务的原则，满足\d+最基本的匹配一次<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"this year is 2017"</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/^.*(\d+)/</span>;</div><div class="line"><span class="keyword">var</span> result = reg.exec(str);</div><div class="line">result[<span class="number">1</span>] <span class="comment">//7</span></div></pre></td></tr></table></figure></p>
<p>下面的结果什么都匹配不到,根据先来先服务的原则，满足\d*最基本的匹配0次<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"this year is 2017"</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/^.*(\d*)/</span>;</div><div class="line">reg.exec(str);</div><div class="line"><span class="keyword">var</span> result = reg.exec(str);</div><div class="line">result[<span class="number">1</span>] <span class="comment">//''</span></div></pre></td></tr></table></figure></p>
<h3 id="排除类和排除环视"><a href="#排除类和排除环视" class="headerlink" title="排除类和排除环视"></a>排除类和排除环视</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">'Tom said "hello what\'s your name?", Jim answered:"hello, my name is Jim"'</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/"(.*)"/</span>;</div><div class="line">reg.exec(str); <span class="comment">//"hello what\'s your name?", Jim answered:"hello, my name is Jim"</span></div></pre></td></tr></table></figure>
<ul>
<li><p>采用排除法<br>如果匹配一个字符用排除法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">'Tom said "hello what\'s your name?", Jim answered:"hello, my name is Jim"'</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/"([^"]*)"/</span>;</div><div class="line">reg.exec(str); <span class="comment">//"hello what\'s your name?"</span></div></pre></td></tr></table></figure>
</li>
<li><p>采用.*?,忽略优先量词的匹配</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">'Tom said "hello what\'s your name?", Jim answered:"hello, my name is Jim"'</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/"(.*?)"/</span>;</div><div class="line">reg.exec(str); <span class="comment">//"hello what\'s your name?"</span></div></pre></td></tr></table></figure>
</li>
<li><p>采用排除环视，来匹配某个字符串<br>匹配出<b></b>之间的内容,排除法，忽略匹配优先的量词的方法都不能满足;<br>排除法针对的单个字符，而不是有着特定顺序的字符串<br>忽略匹配优先的量词的方法，对于<b>…<b>..</b>这种情况匹配不正确;</b></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var str = "&lt;b&gt;hello &lt;em&gt;marong&gt;&lt;/em&gt;&lt;/b&gt; &lt;b&gt;wow&lt;/b&gt;";</div><div class="line">var reg = /&lt;b&gt;((?!&lt;/?b&gt;).)*&lt;\/b&gt;/;</div><div class="line">reg.exec(ss);</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="固化分组-gt-和占有优先的量词-min-max"><a href="#固化分组-gt-和占有优先的量词-min-max" class="headerlink" title="固化分组(?&gt;)和占有优先的量词(?+,*+, {min, max}+)"></a>固化分组(?&gt;)和占有优先的量词(?+,*+, {min, max}+)</h3><p>固化分组和占有优先的量词能提高效率<br>固化分组匹配成功后，会抛弃固化分组里的备用状态<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//perl</div><div class="line">$str = <span class="string">"hello"</span>;</div><div class="line">$str =~ <span class="regexp">/(\w+):/</span>;<span class="regexp">//</span>\w+匹配整个字符串后，不断后退回溯，来匹配:,直到匹配到e，表达式宣告失败，效率低 </div><div class="line">$str =~ <span class="regexp">/(?&gt;\w+):/</span>; <span class="regexp">//</span>固化分组</div><div class="line">$str =~ <span class="regexp">/\w++:/</span>; <span class="regexp">//</span>占有优先</div></pre></td></tr></table></figure></p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//perl</div><div class="line">$num = <span class="number">27.624300009</span>;</div><div class="line"><span class="comment"># $num =~ s/(\.\d\d[1-9]?)\d*/$1/; //27.624, 对于正好三位数27.625也会进行匹配，效率不高</span></div><div class="line"><span class="comment"># $num =~ s/(\.\d\d[1-9]?)\d+/$1/; //27.62, 对于27.625不能正确匹配</span></div><div class="line">$num =~ <span class="regexp">s/(\.\d\d(?&gt;[1-9]?))\d+/$1/</span>;<span class="regexp">//</span><span class="number">27.624</span>, 固化分组，匹配成功后，不会再释放</div><div class="line">$num =~ <span class="regexp">s/(\.\d\d([1-9]?+))\d+/$1/</span>;<span class="regexp">//</span><span class="number">27.624</span>, 占有优先量词,匹配成功后，不会再释放</div><div class="line"><span class="keyword">print</span> <span class="string">"\$num: $num .\n"</span>;</div></pre></td></tr></table></figure>
<p>javascript不支持,固化分组和占有优先的量词，但可以通过环视模拟来实现固化分组<br>对于环视，只会匹配成功或失败，不会保留备用状态，跟固化分组的行为一直，只是环视虽然能捕获，但不是全局匹配的一部分。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var str =&quot;hello&quot;;</div><div class="line">//var reg = /(?&gt;\w+)/;//如果javascript支持固化分组</div><div class="line">var reg = /(?=(\w+))\1/; //模拟捕获</div><div class="line">reg.exec(str);</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">23.624</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/(\.\d\d[1-9]?)\d*/</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/(\.\d\d(?=[1-9])\2)\d*/</span>;</div><div class="line">reg.exec(num);</div></pre></td></tr></table></figure>
<h3 id="多选结构"><a href="#多选结构" class="headerlink" title="多选结构|"></a>多选结构|</h3><p>需要仔细安排多选结构的顺序<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$str = <span class="string">"Jan 31 is Dad's birthday"</span>;</div><div class="line"><span class="comment"># $str =~ /Jan (0?[0-9]|[12][0-9]|3[01])/; //Jan 3,第一个表达式能匹配到3</span></div><div class="line">$str =~ <span class="regexp">/Jan (3[01]|[12][0-9]|0?[0-9])/</span>;  <span class="regexp">//</span>Jan <span class="number">31</span>,调整多选的顺序</div><div class="line"><span class="keyword">print</span> <span class="string">"\$str: $&amp;"</span>;</div></pre></td></tr></table></figure></p>
<h3 id="正则实例"><a href="#正则实例" class="headerlink" title="正则实例"></a>正则实例</h3><ul>
<li><p>匹配路径和文件名</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//javascript</span></div><div class="line"><span class="keyword">var</span> path = <span class="string">'/Users/marong/test/index.js'</span>;</div><div class="line"><span class="keyword">var</span> path = <span class="string">'/Users//marong/test///index.js'</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/(.*\/)?(.*)/</span>;</div><div class="line">reg.exec(path);</div></pre></td></tr></table></figure>
</li>
<li><p>匹配一个浮点数<br>下面这个正则表达式能匹配到任何数字或字符串，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">2.12</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/-?[0-9]*\.?[0-9]*/</span>; <span class="comment">//能匹配到任何数组,因为表达式的每一项都不是必须的，能匹配到任何字符串开头的空字符</span></div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/-?([0-9]+(\.[0-9]+)?|\.[0-9]+)/</span>; <span class="comment">//能匹配到任何数</span></div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/^-?[0-9]*\.?[0-9]*$/</span>; <span class="comment">//能匹配到任何数字和空字符串</span></div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/^-?([0-9]+(\.[0-9]+)?|\.[0-9]+)$/</span>; <span class="comment">//能匹配到任何数</span></div><div class="line">reg.test(num);</div></pre></td></tr></table></figure>
</li>
<li><p>匹配双引号之间的内容</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">'Dash Symbol: "/-|-\\" or "[*_*]"'</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/"(\\.|[^"])*"/</span>;</div><div class="line">reg.exec(str);</div></pre></td></tr></table></figure>
</li>
<li><p>去掉首尾的字符</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"  hello  world, I will test some regexp speed, check the regexp speed    "</span>;</div><div class="line"><span class="keyword">var</span> regStart = <span class="regexp">/^\s+/</span>;</div><div class="line"><span class="keyword">var</span> regEnd = <span class="regexp">/\s+$/</span>;</div><div class="line"><span class="keyword">var</span> result;</div><div class="line"><span class="keyword">var</span> start = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="keyword">var</span> count = <span class="number">1000000</span>;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; count; i++)&#123;</div><div class="line">    result = str.replace(regStart,<span class="string">''</span>).replace(regEnd, <span class="string">''</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'normal time'</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - +start, <span class="string">'result'</span>, result);<span class="comment">//317</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\s+(.*?)\s+$/</span>;</div><div class="line">start = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; count; i++)&#123;</div><div class="line">    result = str.replace(reg,<span class="string">'$1'</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'? time'</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - +start, <span class="string">'result'</span>, result);<span class="comment">// 314</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\s+|\s+$/g</span>;</div><div class="line">start = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; count; i++)&#123;</div><div class="line">    result = str.replace(reg,<span class="string">''</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'| time'</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - +start, <span class="string">'result'</span>, result);<span class="comment">//309</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\s+((?:.*\S)?)\s+$/</span>;</div><div class="line">start = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; count; i++)&#123;</div><div class="line">    result = str.replace(reg,<span class="string">'$1'</span>);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'\\S time'</span>, +<span class="keyword">new</span> <span class="built_in">Date</span> - +start, <span class="string">'result'</span>, result);<span class="comment">//260</span></div></pre></td></tr></table></figure>
</li>
<li><p>匹配HTML标签</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">'&lt;span data-sp="&gt;" class="item" title=""&gt;&lt;/span&gt;'</span>;</div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/&lt;[^&gt;]*&gt;/g</span>;<span class="comment">//不能匹配标签里含有&gt;的情况</span></div><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/&lt;("[^"]"|'[^']'|[^'"&gt;])*&gt;/g</span>;<span class="comment">//能匹配标签里含有&gt;的情况</span></div><div class="line"><span class="keyword">var</span> result = str.match(reg);</div><div class="line"><span class="built_in">console</span>.log(result);  <span class="comment">//result [ '&lt;span data-sp="&gt;" class="item" title=""&gt;', '&lt;/span&gt;' ]</span></div></pre></td></tr></table></figure>
</li>
<li><p>匹配HTML Link</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">'&lt;a class="navitem" data-sp="&gt;" data-name=test href="http://marong.me/blog"   title="marong blog"   &gt;hello marong&lt;/a&gt;'</span>;</div><div class="line"><span class="comment">// var regA = /&lt;a\b([^&gt;]*)&gt;(.*?)&lt;\/a&gt;/;</span></div><div class="line"><span class="keyword">var</span> regA = <span class="regexp">/&lt;a\b(('[^']*'|"[^"]*"|[^'"&gt;])*)&gt;(.*?)&lt;\/a&gt;/</span>;</div><div class="line"><span class="keyword">var</span> aResult = str.match(regA);</div><div class="line"><span class="keyword">var</span> regHref = <span class="regexp">/href\s*=\s*('[^']*'|"[^"]*"|[^'"&gt;\s]*/</span>;</div><div class="line"><span class="keyword">var</span> hrefResult = aResult &amp;&amp; aResult[<span class="number">1</span>] &amp;&amp; aResult[<span class="number">1</span>].match(regHref);;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'aResult'</span>,aResult);;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'hrefResult'</span>,hrefResult);</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'href='</span>,hrefResult[<span class="number">1</span>], <span class="string">'  value='</span>,aResult[<span class="number">3</span>]);</div><div class="line"><span class="comment">//href =  "http://marong.me/blog" value =  hello marong</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="优化正则表达式"><a href="#优化正则表达式" class="headerlink" title="优化正则表达式"></a>优化正则表达式</h2><ul>
<li><p>字符组比多选结构的效率高<br>多选结构可能需要回溯，捕获型的括号处理也需要时间</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> timesTodo = <span class="number">100000</span>;</div><div class="line"><span class="keyword">var</span> testStr = <span class="string">'ababadedfg'</span>;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++)&#123;</div><div class="line">    testStr += testStr;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> count = timesTodo;</div><div class="line"><span class="keyword">var</span> start  = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="keyword">while</span>(count--)&#123;</div><div class="line">    /^(a|b|c|d|e|f|g)$/.test(testStr);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'alternation takes seconds.\n'</span>, <span class="keyword">new</span> <span class="built_in">Date</span> - start);<span class="comment">//107</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> count = timesTodo;</div><div class="line"><span class="keyword">var</span> start  = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line"><span class="keyword">while</span>(count--)&#123;</div><div class="line">        /^[a-g]$/.test(testStr);</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'charactor class takes seconds.\n'</span>, <span class="keyword">new</span> <span class="built_in">Date</span> - start);<span class="comment">//12</span></div></pre></td></tr></table></figure>
</li>
<li><p>使用非捕获型括号(?:)<br>如果不需要引用括号内的文本，节省捕获的时间，坚守回溯使用的状态的数量。</p>
</li>
<li>使用起始锚点<br>如果要匹配某个字符串的开头位置字符，添加起始锚点，能提高匹配的速度。</li>
<li>将文字文本独立出来,提高引擎识别的可能性</li>
</ul>
<ul>
<li><p>从量词中提取必须的元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/x+/ ---&gt; /xx*/</div><div class="line">/-&#123;5,7&#125;/ ---&gt; /-----&#123;0, 2&#125;/</div></pre></td></tr></table></figure>
</li>
<li><p>提取多选结构开头必须的元素</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/(?:that|this)/ ---&gt; /th(?:at|is)/</div></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>匹配优先，忽略匹配优先，排除性字符组<br>/.<em>:/<br>匹配优先，匹配到最后一个冒号，如果分号比较接近结尾，速度更快<br>/.</em>?:/<br>忽略优先匹配，匹配到第一个冒号,如果分号比较接近开头，速度更快<br>/[^:]*:/<br>匹配到第一冒号，一般比忽略匹配优先效率要高</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/06/07/regexp/" data-id="cj4hy1peu0012dwx93zsvb7d5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Emacs/">Emacs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MVVM-Vue/">MVVM Vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mobile/">Mobile</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Perl/">Perl</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server/">Server</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vim/">Vim</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/">algorithm</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/">mac</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svn/">svn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/Emacs/" style="font-size: 10px;">Emacs</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/MVVM-Vue/" style="font-size: 10px;">MVVM Vue</a> <a href="/tags/Mobile/" style="font-size: 10px;">Mobile</a> <a href="/tags/Perl/" style="font-size: 10px;">Perl</a> <a href="/tags/React/" style="font-size: 15px;">React</a> <a href="/tags/Server/" style="font-size: 10px;">Server</a> <a href="/tags/Vim/" style="font-size: 10px;">Vim</a> <a href="/tags/algorithm/" style="font-size: 15px;">algorithm</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/svn/" style="font-size: 10px;">svn</a> <a href="/tags/webpack/" style="font-size: 10px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/06/26/react-isomorphic/">React同构</a>
          </li>
        
          <li>
            <a href="/2017/06/23/iterm2/">iterm2</a>
          </li>
        
          <li>
            <a href="/2017/06/18/node-debug/">NodeJs调试</a>
          </li>
        
          <li>
            <a href="/2017/06/16/react-start/">react 入门</a>
          </li>
        
          <li>
            <a href="/2017/06/12/iterm-commandline/">iterm-commandline</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 marong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>